const fb=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}};fb();class mn{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,i){let o=[];return this.decompose(0,e,o,2),i.length&&i.decompose(0,i.length,o,3),this.decompose(n,this.length,o,1),xs.from(o,this.length-(n-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let i=[];return this.decompose(e,n,i,0),xs.from(i,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),o=new Xl(this),a=new Xl(e);for(let c=n,f=n;;){if(o.next(c),a.next(c),c=0,o.lineBreak!=a.lineBreak||o.done!=a.done||o.value!=a.value)return!1;if(f+=o.value.length,o.done||f>=i)return!0}}iter(e=1){return new Xl(this,e)}iterRange(e,n=this.length){return new FO(this,e,n)}iterLines(e,n){let i;if(e==null)i=this.iter();else{n==null&&(n=this.lines+1);let o=this.line(e).from;i=this.iterRange(o,Math.max(o,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new NO(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?mn.empty:e.length<=32?new li(e):xs.from(li.split(e,[]))}}class li extends mn{constructor(e,n=ub(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,i,o){for(let a=0;;a++){let c=this.text[a],f=o+c.length;if((n?i:f)>=e)return new hb(o,f,i,c);o=f+1,i++}}decompose(e,n,i,o){let a=e<=0&&n>=this.length?this:new li(Bm(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(o&1){let c=i.pop(),f=Of(a.text,c.text.slice(),0,a.length);if(f.length<=32)i.push(new li(f,c.length+a.length));else{let d=f.length>>1;i.push(new li(f.slice(0,d)),new li(f.slice(d)))}}else i.push(a)}replace(e,n,i){if(!(i instanceof li))return super.replace(e,n,i);let o=Of(this.text,Of(i.text,Bm(this.text,0,e)),n),a=this.length+i.length-(n-e);return o.length<=32?new li(o,a):xs.from(li.split(o,[]),a)}sliceString(e,n=this.length,i=`
`){let o="";for(let a=0,c=0;a<=n&&c<this.text.length;c++){let f=this.text[c],d=a+f.length;a>e&&c&&(o+=i),e<d&&n>a&&(o+=f.slice(Math.max(0,e-a),n-a)),a=d+1}return o}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let i=[],o=-1;for(let a of e)i.push(a),o+=a.length+1,i.length==32&&(n.push(new li(i,o)),i=[],o=-1);return o>-1&&n.push(new li(i,o)),n}}class xs extends mn{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,n,i,o){for(let a=0;;a++){let c=this.children[a],f=o+c.length,d=i+c.lines-1;if((n?d:f)>=e)return c.lineInner(e,n,i,o);o=f+1,i=d+1}}decompose(e,n,i,o){for(let a=0,c=0;c<=n&&a<this.children.length;a++){let f=this.children[a],d=c+f.length;if(e<=d&&n>=c){let m=o&((c<=e?1:0)|(d>=n?2:0));c>=e&&d<=n&&!m?i.push(f):f.decompose(e-c,n-c,i,m)}c=d+1}}replace(e,n,i){if(i.lines<this.lines)for(let o=0,a=0;o<this.children.length;o++){let c=this.children[o],f=a+c.length;if(e>=a&&n<=f){let d=c.replace(e-a,n-a,i),m=this.lines-c.lines+d.lines;if(d.lines<m>>5-1&&d.lines>m>>5+1){let O=this.children.slice();return O[o]=d,new xs(O,this.length-(n-e)+i.length)}return super.replace(a,f,d)}a=f+1}return super.replace(e,n,i)}sliceString(e,n=this.length,i=`
`){let o="";for(let a=0,c=0;a<this.children.length&&c<=n;a++){let f=this.children[a],d=c+f.length;c>e&&a&&(o+=i),e<d&&n>c&&(o+=f.sliceString(e-c,n-c,i)),c=d+1}return o}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof xs))return 0;let i=0,[o,a,c,f]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;o+=n,a+=n){if(o==c||a==f)return i;let d=this.children[o],m=e.children[a];if(d!=m)return i+d.scanIdentical(m,n);i+=d.length+1}}static from(e,n=e.reduce((i,o)=>i+o.length+1,-1)){let i=0;for(let C of e)i+=C.lines;if(i<32){let C=[];for(let W of e)W.flatten(C);return new li(C,n)}let o=Math.max(32,i>>5),a=o<<1,c=o>>1,f=[],d=0,m=-1,O=[];function y(C){let W;if(C.lines>a&&C instanceof xs)for(let ae of C.children)y(ae);else C.lines>c&&(d>c||!d)?(P(),f.push(C)):C instanceof li&&d&&(W=O[O.length-1])instanceof li&&C.lines+W.lines<=32?(d+=C.lines,m+=C.length+1,O[O.length-1]=new li(W.text.concat(C.text),W.length+1+C.length)):(d+C.lines>o&&P(),d+=C.lines,m+=C.length+1,O.push(C))}function P(){d!=0&&(f.push(O.length==1?O[0]:xs.from(O,m)),m=-1,d=O.length=0)}for(let C of e)y(C);return P(),f.length==1?f[0]:new xs(f,n)}}mn.empty=new li([""],0);function ub(r){let e=-1;for(let n of r)e+=n.length+1;return e}function Of(r,e,n=0,i=1e9){for(let o=0,a=0,c=!0;a<r.length&&o<=i;a++){let f=r[a],d=o+f.length;d>=n&&(d>i&&(f=f.slice(0,i-o)),o<n&&(f=f.slice(n-o)),c?(e[e.length-1]+=f,c=!1):e.push(f)),o=d+1}return e}function Bm(r,e,n){return Of(r,[""],e,n)}class Xl{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof li?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,o=this.nodes[i],a=this.offsets[i],c=a>>1,f=o instanceof li?o.text.length:o.children.length;if(c==(n>0?f:0)){if(i==0)return this.done=!0,this.value="",this;n>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(n>0?0:1)){if(this.offsets[i]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(o instanceof li){let d=o.text[c+(n<0?-1:0)];if(this.offsets[i]+=n,d.length>Math.max(0,e))return this.value=e==0?d:n>0?d.slice(e):d.slice(0,d.length-e),this;e-=d.length}else{let d=o.children[c+(n<0?-1:0)];e>d.length?(e-=d.length,this.offsets[i]+=n):(n<0&&this.offsets[i]--,this.nodes.push(d),this.offsets.push(n>0?1:(d instanceof li?d.text.length:d.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class FO{constructor(e,n,i){this.value="",this.done=!1,this.cursor=new Xl(e,n>i?-1:1),this.pos=n>i?e.length:0,this.from=Math.min(n,i),this.to=Math.max(n,i)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let i=n<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:o}=this.cursor.next(e);return this.pos+=(o.length+e)*n,this.value=o.length<=i?o:n<0?o.slice(o.length-i):o.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class NO{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:i,value:o}=this.inner.next(e);return n?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(mn.prototype[Symbol.iterator]=function(){return this.iter()},Xl.prototype[Symbol.iterator]=FO.prototype[Symbol.iterator]=NO.prototype[Symbol.iterator]=function(){return this});class hb{constructor(e,n,i,o){this.from=e,this.to=n,this.number=i,this.text=o}get length(){return this.to-this.from}}let Aa="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=1;r<Aa.length;r++)Aa[r]+=Aa[r-1];function db(r){for(let e=1;e<Aa.length;e+=2)if(Aa[e]>r)return Aa[e-1]<=r;return!1}function Fm(r){return r>=127462&&r<=127487}const Nm=8205;function er(r,e,n=!0,i=!0){return(n?GO:pb)(r,e,i)}function GO(r,e,n){if(e==r.length)return e;e&&HO(r.charCodeAt(e))&&JO(r.charCodeAt(e-1))&&e--;let i=Mi(r,e);for(e+=jr(i);e<r.length;){let o=Mi(r,e);if(i==Nm||o==Nm||n&&db(o))e+=jr(o),i=o;else if(Fm(o)){let a=0,c=e-2;for(;c>=0&&Fm(Mi(r,c));)a++,c-=2;if(a%2==0)break;e+=2}else break}return e}function pb(r,e,n){for(;e>0;){let i=GO(r,e-2,n);if(i<e)return i;e--}return 0}function HO(r){return r>=56320&&r<57344}function JO(r){return r>=55296&&r<56320}function Mi(r,e){let n=r.charCodeAt(e);if(!JO(n)||e+1==r.length)return n;let i=r.charCodeAt(e+1);return HO(i)?(n-55296<<10)+(i-56320)+65536:n}function $d(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function jr(r){return r<65536?1:2}const Rh=/\r\n?|\n/;var Ri=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(Ri||(Ri={}));class Qs{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n+1];e+=i<0?this.sections[n]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,i=0,o=0;n<this.sections.length;){let a=this.sections[n++],c=this.sections[n++];c<0?(e(i,o,a),o+=a):o+=c,i+=a}}iterChangedRanges(e,n=!1){Yh(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let i=this.sections[n++],o=this.sections[n++];o<0?e.push(i,o):e.push(o,i)}return new Qs(e)}composeDesc(e){return this.empty?e:e.empty?this:KO(this,e)}mapDesc(e,n=!1){return e.empty?this:Wh(this,e,n)}mapPos(e,n=-1,i=Ri.Simple){let o=0,a=0;for(let c=0;c<this.sections.length;){let f=this.sections[c++],d=this.sections[c++],m=o+f;if(d<0){if(m>e)return a+(e-o);a+=f}else{if(i!=Ri.Simple&&m>=e&&(i==Ri.TrackDel&&o<e&&m>e||i==Ri.TrackBefore&&o<e||i==Ri.TrackAfter&&m>e))return null;if(m>e||m==e&&n<0&&!f)return e==o||n<0?a:a+d;a+=d}o=m}if(e>o)throw new RangeError(`Position ${e} is out of range for changeset of length ${o}`);return a}touchesRange(e,n=e){for(let i=0,o=0;i<this.sections.length&&o<=n;){let a=this.sections[i++],c=this.sections[i++],f=o+a;if(c>=0&&o<=n&&f>=e)return o<e&&f>n?"cover":!0;o=f}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let i=this.sections[n++],o=this.sections[n++];e+=(e?" ":"")+i+(o>=0?":"+o:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Qs(e)}static create(e){return new Qs(e)}}class wi extends Qs{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Yh(this,(n,i,o,a,c)=>e=e.replace(o,o+(i-n),c),!1),e}mapDesc(e,n=!1){return Wh(this,e,n,!0)}invert(e){let n=this.sections.slice(),i=[];for(let o=0,a=0;o<n.length;o+=2){let c=n[o],f=n[o+1];if(f>=0){n[o]=f,n[o+1]=c;let d=o>>1;for(;i.length<d;)i.push(mn.empty);i.push(c?e.slice(a,a+c):mn.empty)}a+=c}return new wi(n,i)}compose(e){return this.empty?e:e.empty?this:KO(this,e,!0)}map(e,n=!1){return e.empty?this:Wh(this,e,n,!0)}iterChanges(e,n=!1){Yh(this,e,n)}get desc(){return Qs.create(this.sections)}filter(e){let n=[],i=[],o=[],a=new jl(this);e:for(let c=0,f=0;;){let d=c==e.length?1e9:e[c++];for(;f<d||f==d&&a.len==0;){if(a.done)break e;let O=Math.min(a.len,d-f);qi(o,O,-1);let y=a.ins==-1?-1:a.off==0?a.ins:0;qi(n,O,y),y>0&&ao(i,n,a.text),a.forward(O),f+=O}let m=e[c++];for(;f<m;){if(a.done)break e;let O=Math.min(a.len,m-f);qi(n,O,-1),qi(o,O,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(O),f+=O}}return{changes:new wi(n,i),filtered:Qs.create(o)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let i=this.sections[n],o=this.sections[n+1];o<0?e.push(i):o==0?e.push([i]):e.push([i].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,i){let o=[],a=[],c=0,f=null;function d(O=!1){if(!O&&!o.length)return;c<n&&qi(o,n-c,-1);let y=new wi(o,a);f=f?f.compose(y.map(f)):y,o=[],a=[],c=0}function m(O){if(Array.isArray(O))for(let y of O)m(y);else if(O instanceof wi){if(O.length!=n)throw new RangeError(`Mismatched change set length (got ${O.length}, expected ${n})`);d(),f=f?f.compose(O.map(f)):O}else{let{from:y,to:P=y,insert:C}=O;if(y>P||y<0||P>n)throw new RangeError(`Invalid change range ${y} to ${P} (in doc of length ${n})`);let W=C?typeof C=="string"?mn.of(C.split(i||Rh)):C:mn.empty,ae=W.length;if(y==P&&ae==0)return;y<c&&d(),y>c&&qi(o,y-c,-1),qi(o,P-y,ae),ao(a,o,W),c=P}}return m(e),d(!f),f}static empty(e){return new wi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],i=[];for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")n.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((c,f)=>f&&typeof c!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)n.push(a[0],0);else{for(;i.length<o;)i.push(mn.empty);i[o]=mn.of(a.slice(1)),n.push(a[0],i[o].length)}}}return new wi(n,i)}static createSet(e,n){return new wi(e,n)}}function qi(r,e,n,i=!1){if(e==0&&n<=0)return;let o=r.length-2;o>=0&&n<=0&&n==r[o+1]?r[o]+=e:e==0&&r[o]==0?r[o+1]+=n:i?(r[o]+=e,r[o+1]+=n):r.push(e,n)}function ao(r,e,n){if(n.length==0)return;let i=e.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(n);else{for(;r.length<i;)r.push(mn.empty);r.push(n)}}function Yh(r,e,n){let i=r.inserted;for(let o=0,a=0,c=0;c<r.sections.length;){let f=r.sections[c++],d=r.sections[c++];if(d<0)o+=f,a+=f;else{let m=o,O=a,y=mn.empty;for(;m+=f,O+=d,d&&i&&(y=y.append(i[c-2>>1])),!(n||c==r.sections.length||r.sections[c+1]<0);)f=r.sections[c++],d=r.sections[c++];e(o,m,a,O,y),o=m,a=O}}}function Wh(r,e,n,i=!1){let o=[],a=i?[]:null,c=new jl(r),f=new jl(e);for(let d=-1;;)if(c.ins==-1&&f.ins==-1){let m=Math.min(c.len,f.len);qi(o,m,-1),c.forward(m),f.forward(m)}else if(f.ins>=0&&(c.ins<0||d==c.i||c.off==0&&(f.len<c.len||f.len==c.len&&!n))){let m=f.len;for(qi(o,f.ins,-1);m;){let O=Math.min(c.len,m);c.ins>=0&&d<c.i&&c.len<=O&&(qi(o,0,c.ins),a&&ao(a,o,c.text),d=c.i),c.forward(O),m-=O}f.next()}else if(c.ins>=0){let m=0,O=c.len;for(;O;)if(f.ins==-1){let y=Math.min(O,f.len);m+=y,O-=y,f.forward(y)}else if(f.ins==0&&f.len<O)O-=f.len,f.next();else break;qi(o,m,d<c.i?c.ins:0),a&&d<c.i&&ao(a,o,c.text),d=c.i,c.forward(c.len-O)}else{if(c.done&&f.done)return a?wi.createSet(o,a):Qs.create(o);throw new Error("Mismatched change set lengths")}}function KO(r,e,n=!1){let i=[],o=n?[]:null,a=new jl(r),c=new jl(e);for(let f=!1;;){if(a.done&&c.done)return o?wi.createSet(i,o):Qs.create(i);if(a.ins==0)qi(i,a.len,0,f),a.next();else if(c.len==0&&!c.done)qi(i,0,c.ins,f),o&&ao(o,i,c.text),c.next();else{if(a.done||c.done)throw new Error("Mismatched change set lengths");{let d=Math.min(a.len2,c.len),m=i.length;if(a.ins==-1){let O=c.ins==-1?-1:c.off?0:c.ins;qi(i,d,O,f),o&&O&&ao(o,i,c.text)}else c.ins==-1?(qi(i,a.off?0:a.len,d,f),o&&ao(o,i,a.textBit(d))):(qi(i,a.off?0:a.len,c.off?0:c.ins,f),o&&!c.off&&ao(o,i,c.text));f=(a.ins>d||c.ins>=0&&c.len>d)&&(f||i.length>m),a.forward2(d),c.forward(d)}}}}class jl{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?mn.empty:e[n]}textBit(e){let{inserted:n}=this.set,i=this.i-2>>1;return i>=n.length&&!e?mn.empty:n[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class jo{constructor(e,n,i){this.from=e,this.to=n,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let i,o;return this.empty?i=o=e.mapPos(this.from,n):(i=e.mapPos(this.from,1),o=e.mapPos(this.to,-1)),i==this.from&&o==this.to?this:new jo(i,o,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return $e.range(e,n);let i=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return $e.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return $e.range(e.anchor,e.head)}static create(e,n,i){return new jo(e,n,i)}}class $e{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:$e.create(this.ranges.map(i=>i.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new $e([this.main],0)}addRange(e,n=!0){return $e.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let i=this.ranges.slice();return i[n]=e,$e.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new $e(e.ranges.map(n=>jo.fromJSON(n)),e.main)}static single(e,n=e){return new $e([$e.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,o=0;o<e.length;o++){let a=e[o];if(a.empty?a.from<=i:a.from<i)return $e.normalized(e.slice(),n);i=a.to}return new $e(e,n)}static cursor(e,n=0,i,o){return jo.create(e,e,(n==0?0:n<0?4:8)|(i==null?3:Math.min(2,i))|(o!=null?o:33554431)<<5)}static range(e,n,i,o){let a=(i!=null?i:33554431)<<5|(o==null?3:Math.min(2,o));return n<e?jo.create(n,e,24|a):jo.create(e,n,(n>e?4:0)|a)}static normalized(e,n=0){let i=e[n];e.sort((o,a)=>o.from-a.from),n=e.indexOf(i);for(let o=1;o<e.length;o++){let a=e[o],c=e[o-1];if(a.empty?a.from<=c.to:a.from<c.to){let f=c.from,d=Math.max(a.to,c.to);o<=n&&n--,e.splice(--o,2,a.anchor>a.head?$e.range(d,f):$e.range(f,d))}}return new $e(e,n)}}function ev(r,e){for(let n of r.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Pd=0;class pt{constructor(e,n,i,o,a){this.combine=e,this.compareInput=n,this.compare=i,this.isStatic=o,this.id=Pd++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}static define(e={}){return new pt(e.combine||(n=>n),e.compareInput||((n,i)=>n===i),e.compare||(e.combine?(n,i)=>n===i:Cd),!!e.static,e.enables)}of(e){return new vf([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new vf(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new vf(e,this,2,n)}from(e,n){return n||(n=i=>i),this.compute([e],i=>n(i.field(e)))}}function Cd(r,e){return r==e||r.length==e.length&&r.every((n,i)=>n===e[i])}class vf{constructor(e,n,i,o){this.dependencies=e,this.facet=n,this.type=i,this.value=o,this.id=Pd++}dynamicSlot(e){var n;let i=this.value,o=this.facet.compareInput,a=this.id,c=e[a]>>1,f=this.type==2,d=!1,m=!1,O=[];for(let y of this.dependencies)y=="doc"?d=!0:y=="selection"?m=!0:(((n=e[y.id])!==null&&n!==void 0?n:1)&1)==0&&O.push(e[y.id]);return{create(y){return y.values[c]=i(y),1},update(y,P){if(d&&P.docChanged||m&&(P.docChanged||P.selection)||jh(y,O)){let C=i(y);if(f?!Gm(C,y.values[c],o):!o(C,y.values[c]))return y.values[c]=C,1}return 0},reconfigure:(y,P)=>{let C,W=P.config.address[a];if(W!=null){let ae=$f(P,W);if(this.dependencies.every(fe=>fe instanceof pt?P.facet(fe)===y.facet(fe):fe instanceof Ti?P.field(fe,!1)==y.field(fe,!1):!0)||(f?Gm(C=i(y),ae,o):o(C=i(y),ae)))return y.values[c]=ae,0}else C=i(y);return y.values[c]=C,1}}}}function Gm(r,e,n){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!n(r[i],e[i]))return!1;return!0}function jh(r,e){let n=!1;for(let i of e)Rl(r,i)&1&&(n=!0);return n}function mb(r,e,n){let i=n.map(d=>r[d.id]),o=n.map(d=>d.type),a=i.filter(d=>!(d&1)),c=r[e.id]>>1;function f(d){let m=[];for(let O=0;O<i.length;O++){let y=$f(d,i[O]);if(o[O]==2)for(let P of y)m.push(P);else m.push(y)}return e.combine(m)}return{create(d){for(let m of i)Rl(d,m);return d.values[c]=f(d),1},update(d,m){if(!jh(d,a))return 0;let O=f(d);return e.compare(O,d.values[c])?0:(d.values[c]=O,1)},reconfigure(d,m){let O=jh(d,i),y=m.config.facets[e.id],P=m.facet(e);if(y&&!O&&Cd(n,y))return d.values[c]=P,0;let C=f(d);return e.compare(C,P)?(d.values[c]=P,0):(d.values[c]=C,1)}}}const Hm=pt.define({static:!0});class Ti{constructor(e,n,i,o,a){this.id=e,this.createF=n,this.updateF=i,this.compareF=o,this.spec=a,this.provides=void 0}static define(e){let n=new Ti(Pd++,e.create,e.update,e.compare||((i,o)=>i===o),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Hm).find(i=>i.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:i=>(i.values[n]=this.create(i),1),update:(i,o)=>{let a=i.values[n],c=this.updateF(a,o);return this.compareF(a,c)?0:(i.values[n]=c,1)},reconfigure:(i,o)=>o.config.address[this.id]!=null?(i.values[n]=o.field(this),0):(i.values[n]=this.create(i),1)}}init(e){return[this,Hm.of({field:this,create:e})]}get extension(){return this}}const Yo={lowest:4,low:3,default:2,high:1,highest:0};function Sl(r){return e=>new tv(e,r)}const Fo={highest:Sl(Yo.highest),high:Sl(Yo.high),default:Sl(Yo.default),low:Sl(Yo.low),lowest:Sl(Yo.lowest)};class tv{constructor(e,n){this.inner=e,this.prec=n}}class Ya{of(e){return new Uh(this,e)}reconfigure(e){return Ya.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Uh{constructor(e,n){this.compartment=e,this.inner=n}}class Qf{constructor(e,n,i,o,a,c){for(this.base=e,this.compartments=n,this.dynamicSlots=i,this.address=o,this.staticValues=a,this.facets=c,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,i){let o=[],a=Object.create(null),c=new Map;for(let P of gb(e,n,c))P instanceof Ti?o.push(P):(a[P.facet.id]||(a[P.facet.id]=[])).push(P);let f=Object.create(null),d=[],m=[];for(let P of o)f[P.id]=m.length<<1,m.push(C=>P.slot(C));let O=i==null?void 0:i.config.facets;for(let P in a){let C=a[P],W=C[0].facet,ae=O&&O[P]||[];if(C.every(fe=>fe.type==0))if(f[W.id]=d.length<<1|1,Cd(ae,C))d.push(i.facet(W));else{let fe=W.combine(C.map(xe=>xe.value));d.push(i&&W.compare(fe,i.facet(W))?i.facet(W):fe)}else{for(let fe of C)fe.type==0?(f[fe.id]=d.length<<1|1,d.push(fe.value)):(f[fe.id]=m.length<<1,m.push(xe=>fe.dynamicSlot(xe)));f[W.id]=m.length<<1,m.push(fe=>mb(fe,W,C))}}let y=m.map(P=>P(f));return new Qf(e,c,y,f,d,a)}}function gb(r,e,n){let i=[[],[],[],[],[]],o=new Map;function a(c,f){let d=o.get(c);if(d!=null){if(d<=f)return;let m=i[d].indexOf(c);m>-1&&i[d].splice(m,1),c instanceof Uh&&n.delete(c.compartment)}if(o.set(c,f),Array.isArray(c))for(let m of c)a(m,f);else if(c instanceof Uh){if(n.has(c.compartment))throw new RangeError("Duplicate use of compartment in extensions");let m=e.get(c.compartment)||c.inner;n.set(c.compartment,m),a(m,f)}else if(c instanceof tv)a(c.inner,c.prec);else if(c instanceof Ti)i[f].push(c),c.provides&&a(c.provides,f);else if(c instanceof vf)i[f].push(c),c.facet.extensions&&a(c.facet.extensions,Yo.default);else{let m=c.extension;if(!m)throw new Error(`Unrecognized extension value in extension set (${c}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(m,f)}}return a(r,Yo.default),i.reduce((c,f)=>c.concat(f))}function Rl(r,e){if(e&1)return 2;let n=e>>1,i=r.status[n];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[n]=4;let o=r.computeSlot(r,r.config.dynamicSlots[n]);return r.status[n]=2|o}function $f(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const nv=pt.define(),iv=pt.define({combine:r=>r.some(e=>e),static:!0}),rv=pt.define({combine:r=>r.length?r[0]:void 0,static:!0}),sv=pt.define(),ov=pt.define(),av=pt.define(),lv=pt.define({combine:r=>r.length?r[0]:!1});class vo{constructor(e,n){this.type=e,this.value=n}static define(){return new Ob}}class Ob{of(e){return new vo(this,e)}}class vb{constructor(e){this.map=e}of(e){return new Ut(this,e)}}class Ut{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Ut(this.type,n)}is(e){return this.type==e}static define(e={}){return new vb(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let i=[];for(let o of e){let a=o.map(n);a&&i.push(a)}return i}}Ut.reconfigure=Ut.define();Ut.appendConfig=Ut.define();class xi{constructor(e,n,i,o,a,c){this.startState=e,this.changes=n,this.selection=i,this.effects=o,this.annotations=a,this.scrollIntoView=c,this._doc=null,this._state=null,i&&ev(i,n.newLength),a.some(f=>f.type==xi.time)||(this.annotations=a.concat(xi.time.of(Date.now())))}static create(e,n,i,o,a,c){return new xi(e,n,i,o,a,c)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(xi.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}xi.time=vo.define();xi.userEvent=vo.define();xi.addToHistory=vo.define();xi.remote=vo.define();function yb(r,e){let n=[];for(let i=0,o=0;;){let a,c;if(i<r.length&&(o==e.length||e[o]>=r[i]))a=r[i++],c=r[i++];else if(o<e.length)a=e[o++],c=e[o++];else return n;!n.length||n[n.length-1]<a?n.push(a,c):n[n.length-1]<c&&(n[n.length-1]=c)}}function cv(r,e,n){var i;let o,a,c;return n?(o=e.changes,a=wi.empty(e.changes.length),c=r.changes.compose(e.changes)):(o=e.changes.map(r.changes),a=r.changes.mapDesc(e.changes,!0),c=r.changes.compose(o)),{changes:c,selection:e.selection?e.selection.map(a):(i=r.selection)===null||i===void 0?void 0:i.map(o),effects:Ut.mapEffects(r.effects,o).concat(Ut.mapEffects(e.effects,a)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function qh(r,e,n){let i=e.selection,o=Da(e.annotations);return e.userEvent&&(o=o.concat(xi.userEvent.of(e.userEvent))),{changes:e.changes instanceof wi?e.changes:wi.of(e.changes||[],n,r.facet(rv)),selection:i&&(i instanceof $e?i:$e.single(i.anchor,i.head)),effects:Da(e.effects),annotations:o,scrollIntoView:!!e.scrollIntoView}}function fv(r,e,n){let i=qh(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(n=!1);let c=!!e[a].sequential;i=cv(i,qh(r,e[a],c?i.changes.newLength:r.doc.length),c)}let o=xi.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return wb(n?bb(o):o)}function bb(r){let e=r.startState,n=!0;for(let o of e.facet(sv)){let a=o(r);if(a===!1){n=!1;break}Array.isArray(a)&&(n=n===!0?a:yb(n,a))}if(n!==!0){let o,a;if(n===!1)a=r.changes.invertedDesc,o=wi.empty(e.doc.length);else{let c=r.changes.filter(n);o=c.changes,a=c.filtered.mapDesc(c.changes).invertedDesc}r=xi.create(e,o,r.selection&&r.selection.map(a),Ut.mapEffects(r.effects,a),r.annotations,r.scrollIntoView)}let i=e.facet(ov);for(let o=i.length-1;o>=0;o--){let a=i[o](r);a instanceof xi?r=a:Array.isArray(a)&&a.length==1&&a[0]instanceof xi?r=a[0]:r=fv(e,Da(a),!1)}return r}function wb(r){let e=r.startState,n=e.facet(av),i=r;for(let o=n.length-1;o>=0;o--){let a=n[o](r);a&&Object.keys(a).length&&(i=cv(i,qh(e,a,r.changes.newLength),!0))}return i==r?r:xi.create(e,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const xb=[];function Da(r){return r==null?xb:Array.isArray(r)?r:[r]}var Fn=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(Fn||(Fn={}));const _b=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let zh;try{zh=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function kb(r){if(zh)return zh.test(r);for(let e=0;e<r.length;e++){let n=r[e];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||_b.test(n)))return!0}return!1}function Sb(r){return e=>{if(!/\S/.test(e))return Fn.Space;if(kb(e))return Fn.Word;for(let n=0;n<r.length;n++)if(e.indexOf(r[n])>-1)return Fn.Word;return Fn.Other}}class ln{constructor(e,n,i,o,a,c){this.config=e,this.doc=n,this.selection=i,this.values=o,this.status=e.statusTemplate.slice(),this.computeSlot=a,c&&(c._state=this);for(let f=0;f<this.config.dynamicSlots.length;f++)Rl(this,f<<1);this.computeSlot=null}field(e,n=!0){let i=this.config.address[e.id];if(i==null){if(n)throw new RangeError("Field is not present in this state");return}return Rl(this,i),$f(this,i)}update(...e){return fv(this,e,!0)}applyTransaction(e){let n=this.config,{base:i,compartments:o}=n;for(let c of e.effects)c.is(Ya.reconfigure)?(n&&(o=new Map,n.compartments.forEach((f,d)=>o.set(d,f)),n=null),o.set(c.value.compartment,c.value.extension)):c.is(Ut.reconfigure)?(n=null,i=c.value):c.is(Ut.appendConfig)&&(n=null,i=Da(i).concat(c.value));let a;n?a=e.startState.values.slice():(n=Qf.resolve(i,o,this),a=new ln(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(f,d)=>d.reconfigure(f,this),null).values),new ln(n,e.newDoc,e.newSelection,a,(c,f)=>f.update(c,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:$e.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,i=e(n.ranges[0]),o=this.changes(i.changes),a=[i.range],c=Da(i.effects);for(let f=1;f<n.ranges.length;f++){let d=e(n.ranges[f]),m=this.changes(d.changes),O=m.map(o);for(let P=0;P<f;P++)a[P]=a[P].map(O);let y=o.mapDesc(m,!0);a.push(d.range.map(y)),o=o.compose(O),c=Ut.mapEffects(c,O).concat(Ut.mapEffects(Da(d.effects),y))}return{changes:o,selection:$e.create(a,n.mainIndex),effects:c}}changes(e=[]){return e instanceof wi?e:wi.of(e,this.doc.length,this.facet(ln.lineSeparator))}toText(e){return mn.of(e.split(this.facet(ln.lineSeparator)||Rh))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Rl(this,n),$f(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let o=e[i];o instanceof Ti&&this.config.address[o.id]!=null&&(n[i]=o.spec.toJSON(this.field(e[i]),this))}return n}static fromJSON(e,n={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(i){for(let a in i)if(Object.prototype.hasOwnProperty.call(e,a)){let c=i[a],f=e[a];o.push(c.init(d=>c.spec.fromJSON(f,d)))}}return ln.create({doc:e.doc,selection:$e.fromJSON(e.selection),extensions:n.extensions?o.concat([n.extensions]):o})}static create(e={}){let n=Qf.resolve(e.extensions||[],new Map),i=e.doc instanceof mn?e.doc:mn.of((e.doc||"").split(n.staticFacet(ln.lineSeparator)||Rh)),o=e.selection?e.selection instanceof $e?e.selection:$e.single(e.selection.anchor,e.selection.head):$e.single(0);return ev(o,i.length),n.staticFacet(iv)||(o=o.asSingle()),new ln(n,i,o,n.dynamicSlots.map(()=>null),(a,c)=>c.create(a),null)}get tabSize(){return this.facet(ln.tabSize)}get lineBreak(){return this.facet(ln.lineSeparator)||`
`}get readOnly(){return this.facet(lv)}phrase(e,...n){for(let i of this.facet(ln.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(i,o)=>{if(o=="$")return"$";let a=+(o||1);return!a||a>n.length?i:n[a-1]})),e}languageDataAt(e,n,i=-1){let o=[];for(let a of this.facet(nv))for(let c of a(this,n,i))Object.prototype.hasOwnProperty.call(c,e)&&o.push(c[e]);return o}charCategorizer(e){return Sb(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:i,length:o}=this.doc.lineAt(e),a=this.charCategorizer(e),c=e-i,f=e-i;for(;c>0;){let d=er(n,c,!1);if(a(n.slice(d,c))!=Fn.Word)break;c=d}for(;f<o;){let d=er(n,f);if(a(n.slice(f,d))!=Fn.Word)break;f=d}return c==f?null:$e.range(c+i,f+i)}}ln.allowMultipleSelections=iv;ln.tabSize=pt.define({combine:r=>r.length?r[0]:4});ln.lineSeparator=rv;ln.readOnly=lv;ln.phrases=pt.define({compare(r,e){let n=Object.keys(r),i=Object.keys(e);return n.length==i.length&&n.every(o=>r[o]==e[o])}});ln.languageData=nv;ln.changeFilter=sv;ln.transactionFilter=ov;ln.transactionExtender=av;Ya.reconfigure=Ut.define();function Cs(r,e,n={}){let i={};for(let o of r)for(let a of Object.keys(o)){let c=o[a],f=i[a];if(f===void 0)i[a]=c;else if(!(f===c||c===void 0))if(Object.hasOwnProperty.call(n,a))i[a]=n[a](f,c);else throw new Error("Config merge conflict for field "+a)}for(let o in e)i[o]===void 0&&(i[o]=e[o]);return i}class Vo{eq(e){return this==e}range(e,n=e){return Ul.create(e,n,this)}}Vo.prototype.startSide=Vo.prototype.endSide=0;Vo.prototype.point=!1;Vo.prototype.mapMode=Ri.TrackDel;class Ul{constructor(e,n,i){this.from=e,this.to=n,this.value=i}static create(e,n,i){return new Ul(e,n,i)}}function Ih(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class Td{constructor(e,n,i,o){this.from=e,this.to=n,this.value=i,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(e,n,i,o=0){let a=i?this.to:this.from;for(let c=o,f=a.length;;){if(c==f)return c;let d=c+f>>1,m=a[d]-e||(i?this.value[d].endSide:this.value[d].startSide)-n;if(d==c)return m>=0?c:f;m>=0?f=d:c=d+1}}between(e,n,i,o){for(let a=this.findIndex(n,-1e9,!0),c=this.findIndex(i,1e9,!1,a);a<c;a++)if(o(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,n){let i=[],o=[],a=[],c=-1,f=-1;for(let d=0;d<this.value.length;d++){let m=this.value[d],O=this.from[d]+e,y=this.to[d]+e,P,C;if(O==y){let W=n.mapPos(O,m.startSide,m.mapMode);if(W==null||(P=C=W,m.startSide!=m.endSide&&(C=n.mapPos(O,m.endSide),C<P)))continue}else if(P=n.mapPos(O,m.startSide),C=n.mapPos(y,m.endSide),P>C||P==C&&m.startSide>0&&m.endSide<=0)continue;(C-P||m.endSide-m.startSide)<0||(c<0&&(c=P),m.point&&(f=Math.max(f,C-P)),i.push(m),o.push(P-c),a.push(C-c))}return{mapped:i.length?new Td(o,a,i,f):null,pos:c}}}class Qn{constructor(e,n,i,o){this.chunkPos=e,this.chunk=n,this.nextLayer=i,this.maxPoint=o}static create(e,n,i,o){return new Qn(e,n,i,o)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:i=!1,filterFrom:o=0,filterTo:a=this.length}=e,c=e.filter;if(n.length==0&&!c)return this;if(i&&(n=n.slice().sort(Ih)),this.isEmpty)return n.length?Qn.of(n):this;let f=new uv(this,null,-1).goto(0),d=0,m=[],O=new ho;for(;f.value||d<n.length;)if(d<n.length&&(f.from-n[d].from||f.startSide-n[d].value.startSide)>=0){let y=n[d++];O.addInner(y.from,y.to,y.value)||m.push(y)}else f.rangeIndex==1&&f.chunkIndex<this.chunk.length&&(d==n.length||this.chunkEnd(f.chunkIndex)<n[d].from)&&(!c||o>this.chunkEnd(f.chunkIndex)||a<this.chunkPos[f.chunkIndex])&&O.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!c||o>f.to||a<f.from||c(f.from,f.to,f.value))&&(O.addInner(f.from,f.to,f.value)||m.push(Ul.create(f.from,f.to,f.value))),f.next());return O.finishInner(this.nextLayer.isEmpty&&!m.length?Qn.empty:this.nextLayer.update({add:m,filter:c,filterFrom:o,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],i=[],o=-1;for(let c=0;c<this.chunk.length;c++){let f=this.chunkPos[c],d=this.chunk[c],m=e.touchesRange(f,f+d.length);if(m===!1)o=Math.max(o,d.maxPoint),n.push(d),i.push(e.mapPos(f));else if(m===!0){let{mapped:O,pos:y}=d.map(f,e);O&&(o=Math.max(o,O.maxPoint),n.push(O),i.push(y))}}let a=this.nextLayer.map(e);return n.length==0?a:new Qn(i,n,a||Qn.empty,o)}between(e,n,i){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],c=this.chunk[o];if(n>=a&&e<=a+c.length&&c.between(a,e-a,n-a,i)===!1)return}this.nextLayer.between(e,n,i)}}iter(e=0){return ql.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return ql.from(e).goto(n)}static compare(e,n,i,o,a=-1){let c=e.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=a),f=n.filter(y=>y.maxPoint>0||!y.isEmpty&&y.maxPoint>=a),d=Jm(c,f,i),m=new Ql(c,d,a),O=new Ql(f,d,a);i.iterGaps((y,P,C)=>Km(m,y,O,P,C,o)),i.empty&&i.length==0&&Km(m,0,O,0,0,o)}static eq(e,n,i=0,o){o==null&&(o=1e9-1);let a=e.filter(O=>!O.isEmpty&&n.indexOf(O)<0),c=n.filter(O=>!O.isEmpty&&e.indexOf(O)<0);if(a.length!=c.length)return!1;if(!a.length)return!0;let f=Jm(a,c),d=new Ql(a,f,0).goto(i),m=new Ql(c,f,0).goto(i);for(;;){if(d.to!=m.to||!Vh(d.active,m.active)||d.point&&(!m.point||!d.point.eq(m.point)))return!1;if(d.to>o)return!0;d.next(),m.next()}}static spans(e,n,i,o,a=-1){let c=new Ql(e,null,a).goto(n),f=n,d=c.openStart;for(;;){let m=Math.min(c.to,i);if(c.point){let O=c.activeForPoint(c.to),y=c.pointFrom<n?O.length+1:Math.min(O.length,d);o.point(f,m,c.point,O,y,c.pointRank),d=Math.min(c.openEnd(m),O.length)}else m>f&&(o.span(f,m,c.active,d),d=c.openEnd(m));if(c.to>i)return d+(c.point&&c.to>i?1:0);f=c.to,c.next()}}static of(e,n=!1){let i=new ho;for(let o of e instanceof Ul?[e]:n?Qb(e):e)i.add(o.from,o.to,o.value);return i.finish()}}Qn.empty=new Qn([],[],null,-1);function Qb(r){if(r.length>1)for(let e=r[0],n=1;n<r.length;n++){let i=r[n];if(Ih(e,i)>0)return r.slice().sort(Ih);e=i}return r}Qn.empty.nextLayer=Qn.empty;class ho{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Td(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,n,i){this.addInner(e,n,i)||(this.nextLayer||(this.nextLayer=new ho)).add(e,n,i)}addInner(e,n,i){let o=e-this.lastTo||i.startSide-this.last.endSide;if(o<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return o<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=n,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let i=n.value.length-1;return this.last=n.value[i],this.lastFrom=n.from[i]+e,this.lastTo=n.to[i]+e,!0}finish(){return this.finishInner(Qn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Qn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Jm(r,e,n){let i=new Map;for(let a of r)for(let c=0;c<a.chunk.length;c++)a.chunk[c].maxPoint<=0&&i.set(a.chunk[c],a.chunkPos[c]);let o=new Set;for(let a of e)for(let c=0;c<a.chunk.length;c++){let f=i.get(a.chunk[c]);f!=null&&(n?n.mapPos(f):f)==a.chunkPos[c]&&!(n!=null&&n.touchesRange(f,f+a.chunk[c].length))&&o.add(a.chunk[c])}return o}class uv{constructor(e,n,i,o=0){this.layer=e,this.skip=n,this.minPoint=i,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,i){for(;this.chunkIndex<this.layer.chunk.length;){let o=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(o)||this.layer.chunkEnd(this.chunkIndex)<e||o.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!i||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],i=e+n.from[this.rangeIndex];if(this.from=i,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class ql{constructor(e){this.heap=e}static from(e,n=null,i=-1){let o=[];for(let a=0;a<e.length;a++)for(let c=e[a];!c.isEmpty;c=c.nextLayer)c.maxPoint>=i&&o.push(new uv(c,n,i,a));return o.length==1?o[0]:new ql(o)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let i of this.heap)i.goto(e,n);for(let i=this.heap.length>>1;i>=0;i--)fh(this.heap,i);return this.next(),this}forward(e,n){for(let i of this.heap)i.forward(e,n);for(let i=this.heap.length>>1;i>=0;i--)fh(this.heap,i);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),fh(this.heap,0)}}}function fh(r,e){for(let n=r[e];;){let i=(e<<1)+1;if(i>=r.length)break;let o=r[i];if(i+1<r.length&&o.compare(r[i+1])>=0&&(o=r[i+1],i++),n.compare(o)<0)break;r[i]=n,r[e]=o,e=i}}class Ql{constructor(e,n,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ql.from(e,n,i)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Gc(this.active,e),Gc(this.activeTo,e),Gc(this.activeRank,e),this.minActive=eg(this.active,this.activeTo)}addActive(e){let n=0,{value:i,to:o,rank:a}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=a;)n++;Hc(this.active,n,i),Hc(this.activeTo,n,o),Hc(this.activeRank,n,a),e&&Hc(e,n,this.cursor.from),this.minActive=eg(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),i&&Gc(i,o)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(i),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let o=i.length-1;o>=0&&i[o]<e;o--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&n.push(this.active[i]);return n.reverse()}openEnd(e){let n=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)n++;return n}}function Km(r,e,n,i,o,a){r.goto(e),n.goto(i);let c=i+o,f=i,d=i-e;for(;;){let m=r.to+d-n.to||r.endSide-n.endSide,O=m<0?r.to+d:n.to,y=Math.min(O,c);if(r.point||n.point?r.point&&n.point&&(r.point==n.point||r.point.eq(n.point))&&Vh(r.activeForPoint(r.to+d),n.activeForPoint(n.to))||a.comparePoint(f,y,r.point,n.point):y>f&&!Vh(r.active,n.active)&&a.compareRange(f,y,r.active,n.active),O>c)break;f=O,m<=0&&r.next(),m>=0&&n.next()}}function Vh(r,e){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(r[n]!=e[n]&&!r[n].eq(e[n]))return!1;return!0}function Gc(r,e){for(let n=e,i=r.length-1;n<i;n++)r[n]=r[n+1];r.pop()}function Hc(r,e,n){for(let i=r.length-1;i>=e;i--)r[i+1]=r[i];r[e]=n}function eg(r,e){let n=-1,i=1e9;for(let o=0;o<e.length;o++)(e[o]-i||r[o].endSide-r[n].endSide)<0&&(n=o,i=e[o]);return n}function ec(r,e,n=r.length){let i=0;for(let o=0;o<n;)r.charCodeAt(o)==9?(i+=e-i%e,o++):(i++,o=er(r,o));return i}function Lh(r,e,n,i){for(let o=0,a=0;;){if(a>=e)return o;if(o==r.length)break;a+=r.charCodeAt(o)==9?n-a%n:1,o=er(r,o)}return i===!0?-1:r.length}const Bh="\u037C",tg=typeof Symbol=="undefined"?"__"+Bh:Symbol.for(Bh),Fh=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),ng=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class po{constructor(e,n){this.rules=[];let{finish:i}=n||{};function o(c){return/^@/.test(c)?[c]:c.split(/,\s*/)}function a(c,f,d,m){let O=[],y=/^@(\w+)\b/.exec(c[0]),P=y&&y[1]=="keyframes";if(y&&f==null)return d.push(c[0]+";");for(let C in f){let W=f[C];if(/&/.test(C))a(C.split(/,\s*/).map(ae=>c.map(fe=>ae.replace(/&/,fe))).reduce((ae,fe)=>ae.concat(fe)),W,d);else if(W&&typeof W=="object"){if(!y)throw new RangeError("The value of a property ("+C+") should be a primitive value.");a(o(C),W,O,P)}else W!=null&&O.push(C.replace(/_.*/,"").replace(/[A-Z]/g,ae=>"-"+ae.toLowerCase())+": "+W+";")}(O.length||P)&&d.push((i&&!y&&!m?c.map(i):c).join(", ")+" {"+O.join(" ")+"}")}for(let c in e)a(o(c),e[c],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=ng[tg]||1;return ng[tg]=e+1,Bh+e.toString(36)}static mount(e,n){(e[Fh]||new $b(e)).mount(Array.isArray(n)?n:[n])}}let Jc=null;class $b{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet!="undefined"){if(Jc)return e.adoptedStyleSheets=[Jc.sheet].concat(e.adoptedStyleSheets),e[Fh]=Jc;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),Jc=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let n=e.head||e;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],e[Fh]=this}mount(e){let n=this.sheet,i=0,o=0;for(let a=0;a<e.length;a++){let c=e[a],f=this.modules.indexOf(c);if(f<o&&f>-1&&(this.modules.splice(f,1),o--,f=-1),f==-1){if(this.modules.splice(o++,0,c),n)for(let d=0;d<c.rules.length;d++)n.insertRule(c.rules[d],i++)}else{for(;o<f;)i+=this.modules[o++].rules.length;i+=c.rules.length,o++}}if(!n){let a="";for(let c=0;c<this.modules.length;c++)a+=this.modules[c].getRules()+`
`;this.styleTag.textContent=a}}}var mo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ig=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent);var Pb=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),Cb=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Tb=Pb||ig&&+ig[1]<57;for(var Xi=0;Xi<10;Xi++)mo[48+Xi]=mo[96+Xi]=String(Xi);for(var Xi=1;Xi<=24;Xi++)mo[Xi+111]="F"+Xi;for(var Xi=65;Xi<=90;Xi++)mo[Xi]=String.fromCharCode(Xi+32),zl[Xi]=String.fromCharCode(Xi);for(var uh in mo)zl.hasOwnProperty(uh)||(zl[uh]=mo[uh]);function Eb(r){var e=Tb&&(r.ctrlKey||r.altKey||r.metaKey)||Cb&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",n=!e&&r.key||(r.shiftKey?zl:mo)[r.keyCode]||r.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Pf(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function Wa(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function Ab(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function yf(r,e){if(!e.anchorNode)return!1;try{return Wa(r,e.anchorNode)}catch{return!1}}function Il(r){return r.nodeType==3?ja(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function Cf(r,e,n,i){return n?rg(r,e,n,i,-1)||rg(r,e,n,i,1):!1}function Tf(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function rg(r,e,n,i,o){for(;;){if(r==n&&e==i)return!0;if(e==(o<0?0:Vl(r))){if(r.nodeName=="DIV")return!1;let a=r.parentNode;if(!a||a.nodeType!=1)return!1;e=Tf(r)+(o<0?0:1),r=a}else if(r.nodeType==1){if(r=r.childNodes[e+(o<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=o<0?Vl(r):0}else return!1}}function Vl(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}const hv={left:0,right:0,top:0,bottom:0};function Ed(r,e){let n=e?r.left:r.right;return{left:n,right:n,top:r.top,bottom:r.bottom}}function Db(r){return{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function Zb(r,e,n,i,o,a,c,f){let d=r.ownerDocument,m=d.defaultView||window;for(let O=r;O;)if(O.nodeType==1){let y,P=O==d.body;if(P)y=Db(m);else{if(O.scrollHeight<=O.clientHeight&&O.scrollWidth<=O.clientWidth){O=O.assignedSlot||O.parentNode;continue}let ae=O.getBoundingClientRect();y={left:ae.left,right:ae.left+O.clientWidth,top:ae.top,bottom:ae.top+O.clientHeight}}let C=0,W=0;if(o=="nearest")e.top<y.top?(W=-(y.top-e.top+c),n>0&&e.bottom>y.bottom+W&&(W=e.bottom-y.bottom+W+c)):e.bottom>y.bottom&&(W=e.bottom-y.bottom+c,n<0&&e.top-W<y.top&&(W=-(y.top+W-e.top+c)));else{let ae=e.bottom-e.top,fe=y.bottom-y.top;W=(o=="center"&&ae<=fe?e.top+ae/2-fe/2:o=="start"||o=="center"&&n<0?e.top-c:e.bottom-fe+c)-y.top}if(i=="nearest"?e.left<y.left?(C=-(y.left-e.left+a),n>0&&e.right>y.right+C&&(C=e.right-y.right+C+a)):e.right>y.right&&(C=e.right-y.right+a,n<0&&e.left<y.left+C&&(C=-(y.left+C-e.left+a))):C=(i=="center"?e.left+(e.right-e.left)/2-(y.right-y.left)/2:i=="start"==f?e.left-a:e.right-(y.right-y.left)+a)-y.left,C||W)if(P)m.scrollBy(C,W);else{let ae=0,fe=0;if(W){let xe=O.scrollTop;O.scrollTop+=W,fe=O.scrollTop-xe}if(C){let xe=O.scrollLeft;O.scrollLeft+=C,ae=O.scrollLeft-xe}e={left:e.left-ae,top:e.top-fe,right:e.right-ae,bottom:e.bottom-fe},ae&&Math.abs(ae-C)<1&&(i="nearest"),fe&&Math.abs(fe-W)<1&&(o="nearest")}if(P)break;O=O.assignedSlot||O.parentNode}else if(O.nodeType==11)O=O.host;else break}function Mb(r){let e=r.ownerDocument;for(let n=r.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class Xb{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,n,i,o){this.anchorNode=e,this.anchorOffset=n,this.focusNode=i,this.focusOffset=o}}let Sa=null;function dv(r){if(r.setActive)return r.setActive();if(Sa)return r.focus(Sa);let e=[];for(let n=r;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(r.focus(Sa==null?{get preventScroll(){return Sa={preventScroll:!0},!0}}:void 0),!Sa){Sa=!1;for(let n=0;n<e.length;){let i=e[n++],o=e[n++],a=e[n++];i.scrollTop!=o&&(i.scrollTop=o),i.scrollLeft!=a&&(i.scrollLeft=a)}}}let sg;function ja(r,e,n=e){let i=sg||(sg=document.createRange());return i.setEnd(r,n),i.setStart(r,e),i}function Za(r,e,n){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0},o=new KeyboardEvent("keydown",i);o.synthetic=!0,r.dispatchEvent(o);let a=new KeyboardEvent("keyup",i);return a.synthetic=!0,r.dispatchEvent(a),o.defaultPrevented||a.defaultPrevented}function Rb(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function pv(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function Yb(r,e){let n=e.focusNode,i=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=i)return!1;for(;;)if(i){if(n.nodeType!=1)return!1;let o=n.childNodes[i-1];o.contentEditable=="false"?i--:(n=o,i=Vl(n))}else{if(n==r)return!0;i=Tf(n),n=n.parentNode}}class zi{constructor(e,n,i=!0){this.node=e,this.offset=n,this.precise=i}static before(e,n){return new zi(e.parentNode,Tf(e),n)}static after(e,n){return new zi(e.parentNode,Tf(e)+1,n)}}const Ad=[];class zn{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let i of this.children){if(i==e)return n;n+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,n){return null}sync(e,n){if(this.dirty&2){let i=this.dom,o=null,a;for(let c of this.children){if(c.dirty){if(!c.dom&&(a=o?o.nextSibling:i.firstChild)){let f=zn.get(a);(!f||!f.parent&&f.canReuseDOM(c))&&c.reuseDOM(a)}c.sync(e,n),c.dirty=0}if(a=o?o.nextSibling:i.firstChild,n&&!n.written&&n.node==i&&a!=c.dom&&(n.written=!0),c.dom.parentNode==i)for(;a&&a!=c.dom;)a=og(a);else i.insertBefore(c.dom,a);o=c.dom}for(a=o?o.nextSibling:i.firstChild,a&&n&&n.node==i&&(n.written=!0);a;)a=og(a)}else if(this.dirty&1)for(let i of this.children)i.dirty&&(i.sync(e,n),i.dirty=0)}reuseDOM(e){}localPosFromDOM(e,n){let i;if(e==this.dom)i=this.dom.childNodes[n];else{let o=Vl(e)==0?0:n==0?-1:1;for(;;){let a=e.parentNode;if(a==this.dom)break;o==0&&a.firstChild!=a.lastChild&&(e==a.firstChild?o=-1:o=1),e=a}o<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!zn.get(i);)i=i.nextSibling;if(!i)return this.length;for(let o=0,a=0;;o++){let c=this.children[o];if(c.dom==i)return a;a+=c.length+c.breakAfter}}domBoundsAround(e,n,i=0){let o=-1,a=-1,c=-1,f=-1;for(let d=0,m=i,O=i;d<this.children.length;d++){let y=this.children[d],P=m+y.length;if(m<e&&P>n)return y.domBoundsAround(e,n,m);if(P>=e&&o==-1&&(o=d,a=m),m>n&&y.dom.parentNode==this.dom){c=d,f=O;break}O=P,m=P+y.breakAfter}return{from:a,to:f<0?i+this.length:f,startDOM:(o?this.children[o-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:c<this.children.length&&c>=0?this.children[c].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),n.dirty&1)return;n.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,i=Ad){this.markDirty();for(let o=e;o<n;o++){let a=this.children[o];a.parent==this&&a.destroy()}this.children.splice(e,n-e,...i);for(let o=0;o<i.length;o++)i[o].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new mv(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,n,i,o,a,c){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}zn.prototype.breakAfter=0;function og(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class mv{constructor(e,n,i){this.children=e,this.pos=n,this.i=i,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function gv(r,e,n,i,o,a,c,f,d){let{children:m}=r,O=m.length?m[e]:null,y=a.length?a[a.length-1]:null,P=y?y.breakAfter:c;if(!(e==i&&O&&!c&&!P&&a.length<2&&O.merge(n,o,a.length?y:null,n==0,f,d))){if(i<m.length){let C=m[i];C&&o<C.length?(e==i&&(C=C.split(o),o=0),!P&&y&&C.merge(0,o,y,!0,0,d)?a[a.length-1]=C:(o&&C.merge(0,o,null,!1,0,d),a.push(C))):C!=null&&C.breakAfter&&(y?y.breakAfter=1:c=1),i++}for(O&&(O.breakAfter=c,n>0&&(!c&&a.length&&O.merge(n,O.length,a[0],!1,f,0)?O.breakAfter=a.shift().breakAfter:(n<O.length||O.children.length&&O.children[O.children.length-1].length==0)&&O.merge(n,O.length,null,!1,f,0),e++));e<i&&a.length;)if(m[i-1].become(a[a.length-1]))i--,a.pop(),d=a.length?0:f;else if(m[e].become(a[0]))e++,a.shift(),f=a.length?0:d;else break;!a.length&&e&&i<m.length&&!m[e-1].breakAfter&&m[i].merge(0,0,m[e-1],!1,f,d)&&e--,(e<i||a.length)&&r.replaceChildren(e,i,a)}}function Ov(r,e,n,i,o,a){let c=r.childCursor(),{i:f,off:d}=c.findPos(n,1),{i:m,off:O}=c.findPos(e,-1),y=e-n;for(let P of i)y+=P.length;r.length+=y,gv(r,m,O,f,d,i,0,o,a)}let Cr=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},Nh=typeof document!="undefined"?document:{documentElement:{style:{}}};const Gh=/Edge\/(\d+)/.exec(Cr.userAgent),vv=/MSIE \d/.test(Cr.userAgent),Hh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Cr.userAgent),iu=!!(vv||Hh||Gh),ag=!iu&&/gecko\/(\d+)/i.test(Cr.userAgent),hh=!iu&&/Chrome\/(\d+)/.exec(Cr.userAgent),lg="webkitFontSmoothing"in Nh.documentElement.style,yv=!iu&&/Apple Computer/.test(Cr.vendor),cg=yv&&(/Mobile\/\w+/.test(Cr.userAgent)||Cr.maxTouchPoints>2);var gt={mac:cg||/Mac/.test(Cr.platform),windows:/Win/.test(Cr.platform),linux:/Linux|X11/.test(Cr.platform),ie:iu,ie_version:vv?Nh.documentMode||6:Hh?+Hh[1]:Gh?+Gh[1]:0,gecko:ag,gecko_version:ag?+(/Firefox\/(\d+)/.exec(Cr.userAgent)||[0,0])[1]:0,chrome:!!hh,chrome_version:hh?+hh[1]:0,ios:cg,android:/Android\b/.test(Cr.userAgent),webkit:lg,safari:yv,webkit_version:lg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Nh.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Wb=256;class go extends zn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,i){return i&&(!(i instanceof go)||this.length-(n-e)+i.length>Wb)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new go(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new zi(this.dom,e)}domBoundsAround(e,n,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Jh(this.dom,e,n)}}class Ps extends zn{constructor(e,n=[],i=0){super(),this.mark=e,this.children=n,this.length=i;for(let o of n)o.setParent(this)}setAttrs(e){if(pv(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,n){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,i,o,a,c){return i&&(!(i instanceof Ps&&i.mark.eq(this.mark))||e&&a<=0||n<this.length&&c<=0)?!1:(Ov(this,e,n,i?i.children:[],a-1,c-1),this.markDirty(),!0)}split(e){let n=[],i=0,o=-1,a=0;for(let f of this.children){let d=i+f.length;d>e&&n.push(i<e?f.split(e-i):f),o<0&&i>=e&&(o=a),i=d,a++}let c=this.length-e;return this.length=e,o>-1&&(this.children.length=o,this.markDirty()),new Ps(this.mark,n,c)}domAtPos(e){return xv(this,e)}coordsAt(e,n){return kv(this,e,n)}}function Jh(r,e,n){let i=r.nodeValue.length;e>i&&(e=i);let o=e,a=e,c=0;e==0&&n<0||e==i&&n>=0?gt.chrome||gt.gecko||(e?(o--,c=1):a<i&&(a++,c=-1)):n<0?o--:a<i&&a++;let f=ja(r,o,a).getClientRects();if(!f.length)return hv;let d=f[(c?c<0:n>=0)?0:f.length-1];return gt.safari&&!c&&d.width==0&&(d=Array.prototype.find.call(f,m=>m.width)||d),c?Ed(d,c<0):d||null}class lo extends zn{constructor(e,n,i){super(),this.widget=e,this.length=n,this.side=i,this.prevWidget=null}static create(e,n,i){return new(e.customView||lo)(e,n,i)}split(e){let n=lo.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,i,o,a,c){return i&&(!(i instanceof lo)||!this.widget.compare(i.widget)||e>0&&a<=0||n<this.length&&c<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}become(e){return e.length==this.length&&e instanceof lo&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return mn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,i=n&&n.state.doc,o=this.posAtStart;return i?i.slice(o,o+this.length):mn.empty}domAtPos(e){return e==0?zi.before(this.dom):zi.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let i=this.dom.getClientRects(),o=null;if(!i.length)return hv;for(let a=e>0?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=e>0?-1:1);return this.length?o:Ed(o,this.side>0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class bv extends lo{domAtPos(e){let{topView:n,text:i}=this.widget;return n?Kh(e,0,n,i,(o,a)=>o.domAtPos(a),o=>new zi(i,Math.min(o,i.nodeValue.length))):new zi(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,n){let{topView:i,text:o}=this.widget;return i?wv(e,n,i,o):Math.min(n,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,n){let{topView:i,text:o}=this.widget;return i?Kh(e,n,i,o,(a,c,f)=>a.coordsAt(c,f),(a,c)=>Jh(o,a,c)):Jh(o,e,n)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Kh(r,e,n,i,o,a){if(n instanceof Ps){for(let c=n.dom.firstChild;c;c=c.nextSibling){let f=zn.get(c);if(!f)return a(r,e);let d=Wa(c,i),m=f.length+(d?i.nodeValue.length:0);if(r<m||r==m&&f.getSide()<=0)return d?Kh(r,e,f,i,o,a):o(f,r,e);r-=m}return o(n,n.length,-1)}else return n.dom==i?a(r,e):o(n,r,e)}function wv(r,e,n,i){if(n instanceof Ps)for(let o of n.children){let a=0,c=Wa(o.dom,i);if(Wa(o.dom,r))return a+(c?wv(r,e,o,i):o.localPosFromDOM(r,e));a+=c?i.nodeValue.length:o.length}else if(n.dom==i)return Math.min(e,i.nodeValue.length);return n.localPosFromDOM(r,e)}class Ua extends zn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ua&&e.side==this.side}split(){return new Ua(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return zi.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let n=this.dom.getBoundingClientRect(),i=jb(this,this.side>0?-1:1);return i&&i.top<n.bottom&&i.bottom>n.top?{left:n.left,right:n.right,top:i.top,bottom:i.bottom}:n}get overrideDOMText(){return mn.empty}}go.prototype.children=lo.prototype.children=Ua.prototype.children=Ad;function jb(r,e){let n=r.parent,i=n?n.children.indexOf(r):-1;for(;n&&i>=0;)if(e<0?i>0:i<n.children.length){let o=n.children[i+e];if(o instanceof go){let a=o.coordsAt(e<0?o.length:0,e);if(a)return a}i+=e}else if(n instanceof Ps&&n.parent)i=n.parent.children.indexOf(n)+(e<0?0:1),n=n.parent;else{let o=n.dom.lastChild;if(o&&o.nodeName=="BR")return o.getClientRects()[0];break}}function xv(r,e){let n=r.dom,{children:i}=r,o=0;for(let a=0;o<i.length;o++){let c=i[o],f=a+c.length;if(!(f==a&&c.getSide()<=0)){if(e>a&&e<f&&c.dom.parentNode==n)return c.domAtPos(e-a);if(e<=a)break;a=f}}for(let a=o;a>0;a--){let c=i[a-1];if(c.dom.parentNode==n)return c.domAtPos(c.length)}for(let a=o;a<i.length;a++){let c=i[a];if(c.dom.parentNode==n)return c.domAtPos(0)}return new zi(n,0)}function _v(r,e,n){let i,{children:o}=r;n>0&&e instanceof Ps&&o.length&&(i=o[o.length-1])instanceof Ps&&i.mark.eq(e.mark)?_v(i,e.children[0],n-1):(o.push(e),e.setParent(r)),r.length+=e.length}function kv(r,e,n){let i=null,o=-1,a=null,c=-1;function f(m,O){for(let y=0,P=0;y<m.children.length&&P<=O;y++){let C=m.children[y],W=P+C.length;W>=O&&(C.children.length?f(C,O-P):!a&&(W>O||P==W&&C.getSide()>0)?(a=C,c=O-P):(P<O||P==W&&C.getSide()<0)&&(i=C,o=O-P)),P=W}}f(r,e);let d=(n<0?i:a)||i||a;return d?d.coordsAt(Math.max(0,d==i?o:c),n):Ub(r)}function Ub(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let n=Il(e);return n[n.length-1]||null}function ed(r,e){for(let n in r)n=="class"&&e.class?e.class+=" "+r.class:n=="style"&&e.style?e.style+=";"+r.style:e[n]=r[n];return e}function Dd(r,e){if(r==e)return!0;if(!r||!e)return!1;let n=Object.keys(r),i=Object.keys(e);if(n.length!=i.length)return!1;for(let o of n)if(i.indexOf(o)==-1||r[o]!==e[o])return!1;return!0}function td(r,e,n){let i=null;if(e)for(let o in e)n&&o in n||r.removeAttribute(i=o);if(n)for(let o in n)e&&e[o]==n[o]||r.setAttribute(i=o,n[o]);return!!i}class Fs{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Zn=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(Zn||(Zn={}));class kt extends Vo{constructor(e,n,i,o){super(),this.startSide=e,this.endSide=n,this.widget=i,this.spec=o}get heightRelevant(){return!1}static mark(e){return new ru(e)}static widget(e){let n=e.side||0,i=!!e.block;return n+=i?n>0?3e8:-4e8:n>0?1e8:-1e8,new Lo(e,n,n,i,e.widget||null,!1)}static replace(e){let n=!!e.block,i,o;if(e.isBlockGap)i=-5e8,o=4e8;else{let{start:a,end:c}=Sv(e,n);i=(a?n?-3e8:-1:5e8)-1,o=(c?n?2e8:1:-6e8)+1}return new Lo(e,i,o,n,e.widget||null,!0)}static line(e){return new tc(e)}static set(e,n=!1){return Qn.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}kt.none=Qn.empty;class ru extends kt{constructor(e){let{start:n,end:i}=Sv(e);super(n?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof ru&&this.tagName==e.tagName&&this.class==e.class&&Dd(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}ru.prototype.point=!1;class tc extends kt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof tc&&this.spec.class==e.spec.class&&Dd(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}tc.prototype.mapMode=Ri.TrackBefore;tc.prototype.point=!0;class Lo extends kt{constructor(e,n,i,o,a,c){super(n,i,a,e),this.block=o,this.isReplace=c,this.mapMode=o?n<=0?Ri.TrackBefore:Ri.TrackAfter:Ri.TrackDel}get type(){return this.startSide<this.endSide?Zn.WidgetRange:this.startSide<=0?Zn.WidgetBefore:Zn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Lo&&qb(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Lo.prototype.point=!0;function Sv(r,e=!1){let{inclusiveStart:n,inclusiveEnd:i}=r;return n==null&&(n=r.inclusive),i==null&&(i=r.inclusive),{start:n!=null?n:e,end:i!=null?i:e}}function qb(r,e){return r==e||!!(r&&e&&r.compare(e))}function nd(r,e,n,i=0){let o=n.length-1;o>=0&&n[o]+i>=r?n[o]=Math.max(n[o],e):n.push(r,e)}class tr extends zn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,i,o,a,c){if(i){if(!(i instanceof tr))return!1;this.dom||i.transferDOM(this)}return o&&this.setDeco(i?i.attrs:null),Ov(this,e,n,i?i.children:[],a,c),!0}split(e){let n=new tr;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i,off:o}=this.childPos(e);o&&(n.append(this.children[i].split(o),0),this.children[i].merge(o,this.children[i].length,null,!1,0,0),i++);for(let a=i;a<this.children.length;a++)n.append(this.children[a],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,n}transferDOM(e){!this.dom||(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Dd(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){_v(this,e,n)}addLineDeco(e){let n=e.spec.attributes,i=e.spec.class;n&&(this.attrs=ed(n,this.attrs||{})),i&&(this.attrs=ed({class:i},this.attrs||{}))}domAtPos(e){return xv(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,n){var i;this.dom?this.dirty&4&&(pv(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(td(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let o=this.dom.lastChild;for(;o&&zn.get(o)instanceof Ps;)o=o.lastChild;if(!o||!this.length||o.nodeName!="BR"&&((i=zn.get(o))===null||i===void 0?void 0:i.isEditable)==!1&&(!gt.ios||!this.children.some(a=>a instanceof go))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let n of this.children){if(!(n instanceof go)||/[^ -~]/.test(n.text))return null;let i=Il(n.dom);if(i.length!=1)return null;e+=i[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,n){return kv(this,e,n)}become(e){return!1}get type(){return Zn.Text}static find(e,n){for(let i=0,o=0;i<e.children.length;i++){let a=e.children[i],c=o+a.length;if(c>=n){if(a instanceof tr)return a;if(c>n)break}o=c+a.breakAfter}return null}}class qo extends zn{constructor(e,n,i){super(),this.widget=e,this.length=n,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,n,i,o,a,c){return i&&(!(i instanceof qo)||!this.widget.compare(i.widget)||e>0&&a<=0||n<this.length&&c<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?zi.before(this.dom):zi.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let i=new qo(this.widget,n,this.type);return i.breakAfter=this.breakAfter,i}get children(){return Ad}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):mn.empty}domBoundsAround(){return null}become(e){return e instanceof qo&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Zd{constructor(e,n,i,o){this.doc=e,this.pos=n,this.end=i,this.disallowBlockEffectsFor=o,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof qo&&e.type==Zn.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new tr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Kc(new Ua(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,n,i){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:c,done:f}=this.cursor.next(this.skip);if(this.skip=0,f)throw new Error("Ran out of text content when drawing inline views");if(c){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let o=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-i)),this.getLine().append(Kc(new go(this.text.slice(this.textOff,this.textOff+o)),n),i),this.atCursorPos=!0,this.textOff+=o,e-=o,i=0}}span(e,n,i,o){this.buildText(n-e,i,o),this.pos=n,this.openStart<0&&(this.openStart=o)}point(e,n,i,o,a,c){if(this.disallowBlockEffectsFor[c]&&i instanceof Lo){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let f=n-e;if(i instanceof Lo)if(i.block){let{type:d}=i;d==Zn.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new qo(i.widget||new fg("div"),f,d))}else{let d=lo.create(i.widget||new fg("span"),f,f?0:i.startSide),m=this.atCursorPos&&!d.isEditable&&a<=o.length&&(e<n||i.startSide>0),O=!d.isEditable&&(e<n||a>o.length||i.startSide<=0),y=this.getLine();this.pendingBuffer==2&&!m&&(this.pendingBuffer=0),this.flushBuffer(o),m&&(y.append(Kc(new Ua(1),o),a),a=o.length+Math.max(0,a-o.length)),y.append(Kc(d,o),a),this.atCursorPos=O,this.pendingBuffer=O?e<n||a>o.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=o.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);f&&(this.textOff+f<=this.text.length?this.textOff+=f:(this.skip+=f-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=a)}static build(e,n,i,o,a){let c=new Zd(e,n,i,a);return c.openEnd=Qn.spans(o,n,i,c),c.openStart<0&&(c.openStart=c.openEnd),c.finish(c.openEnd),c}}function Kc(r,e){for(let n of e)r=new Ps(n,[r],r.length);return r}class fg extends Fs{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Qv=pt.define(),$v=pt.define(),Pv=pt.define(),Cv=pt.define(),id=pt.define(),Tv=pt.define(),Ev=pt.define(),Av=pt.define({combine:r=>r.some(e=>e)}),Dv=pt.define({combine:r=>r.some(e=>e)});class Ef{constructor(e,n="nearest",i="nearest",o=5,a=5){this.range=e,this.y=n,this.x=i,this.yMargin=o,this.xMargin=a}map(e){return e.empty?this:new Ef(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const ug=Ut.define({map:(r,e)=>r.map(e)});function Er(r,e,n){let i=r.facet(Cv);i.length?i[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const su=pt.define({combine:r=>r.length?r[0]:!0});let zb=0;const El=pt.define();class pi{constructor(e,n,i,o){this.id=e,this.create=n,this.domEventHandlers=i,this.extension=o(this)}static define(e,n){const{eventHandlers:i,provide:o,decorations:a}=n||{};return new pi(zb++,e,i,c=>{let f=[El.of(c)];return a&&f.push(Ll.of(d=>{let m=d.plugin(c);return m?a(m):kt.none})),o&&f.push(o(c)),f})}static fromClass(e,n){return pi.define(i=>new e(i),n)}}class dh{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(i){if(Er(n.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Er(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(i){Er(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Zv=pt.define(),Md=pt.define(),Ll=pt.define(),Mv=pt.define(),Xv=pt.define(),Al=pt.define();class $s{constructor(e,n,i,o){this.fromA=e,this.toA=n,this.fromB=i,this.toB=o}join(e){return new $s(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,i=this;for(;n>0;n--){let o=e[n-1];if(!(o.fromA>i.toA)){if(o.toA<i.fromA)break;i=i.join(o),e.splice(n-1,1)}}return e.splice(n,0,i),e}static extendWithRanges(e,n){if(n.length==0)return e;let i=[];for(let o=0,a=0,c=0,f=0;;o++){let d=o==e.length?null:e[o],m=c-f,O=d?d.fromB:1e9;for(;a<n.length&&n[a]<O;){let y=n[a],P=n[a+1],C=Math.max(f,y),W=Math.min(O,P);if(C<=W&&new $s(C+m,W+m,C,W).addToSet(i),P>O)break;a+=2}if(!d)return i;new $s(d.fromA,d.toA,d.fromB,d.toB).addToSet(i),c=d.toA,f=d.toB}}}class Af{constructor(e,n,i){this.view=e,this.state=n,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=wi.empty(this.startState.doc.length);for(let c of i)this.changes=this.changes.compose(c.changes);let o=[];this.changes.iterChangedRanges((c,f,d,m)=>o.push(new $s(c,f,d,m))),this.changedRanges=o;let a=e.hasFocus;a!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=a,this.flags|=1)}static create(e,n,i){return new Af(e,n,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Kn=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(Kn||(Kn={}));const rd=Kn.LTR,Ib=Kn.RTL;function Rv(r){let e=[];for(let n=0;n<r.length;n++)e.push(1<<+r[n]);return e}const Vb=Rv("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Lb=Rv("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),sd=Object.create(null),Os=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),n=r.charCodeAt(1);sd[e]=n,sd[n]=-e}function Bb(r){return r<=247?Vb[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?Lb[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8203?256:64336<=r&&r<=65023?4:r==8204?256:1}const Fb=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ma{constructor(e,n,i){this.from=e,this.to=n,this.level=i}get dir(){return this.level%2?Ib:rd}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,i,o){let a=-1;for(let c=0;c<e.length;c++){let f=e[c];if(f.from<=n&&f.to>=n){if(f.level==i)return c;(a<0||(o!=0?o<0?f.from<n:f.to>n:e[a].level>f.level))&&(a=c)}}if(a<0)throw new RangeError("Index out of range");return a}}const Jn=[];function Nb(r,e){let n=r.length,i=e==rd?1:2,o=e==rd?2:1;if(!r||i==1&&!Fb.test(r))return Yv(n);for(let c=0,f=i,d=i;c<n;c++){let m=Bb(r.charCodeAt(c));m==512?m=f:m==8&&d==4&&(m=16),Jn[c]=m==4?2:m,m&7&&(d=m),f=m}for(let c=0,f=i,d=i;c<n;c++){let m=Jn[c];if(m==128)c<n-1&&f==Jn[c+1]&&f&24?m=Jn[c]=f:Jn[c]=256;else if(m==64){let O=c+1;for(;O<n&&Jn[O]==64;)O++;let y=c&&f==8||O<n&&Jn[O]==8?d==1?1:8:256;for(let P=c;P<O;P++)Jn[P]=y;c=O-1}else m==8&&d==1&&(Jn[c]=1);f=m,m&7&&(d=m)}for(let c=0,f=0,d=0,m,O,y;c<n;c++)if(O=sd[m=r.charCodeAt(c)])if(O<0){for(let P=f-3;P>=0;P-=3)if(Os[P+1]==-O){let C=Os[P+2],W=C&2?i:C&4?C&1?o:i:0;W&&(Jn[c]=Jn[Os[P]]=W),f=P;break}}else{if(Os.length==189)break;Os[f++]=c,Os[f++]=m,Os[f++]=d}else if((y=Jn[c])==2||y==1){let P=y==i;d=P?0:1;for(let C=f-3;C>=0;C-=3){let W=Os[C+2];if(W&2)break;if(P)Os[C+2]|=2;else{if(W&4)break;Os[C+2]|=4}}}for(let c=0;c<n;c++)if(Jn[c]==256){let f=c+1;for(;f<n&&Jn[f]==256;)f++;let d=(c?Jn[c-1]:i)==1,m=(f<n?Jn[f]:i)==1,O=d==m?d?1:2:i;for(let y=c;y<f;y++)Jn[y]=O;c=f-1}let a=[];if(i==1)for(let c=0;c<n;){let f=c,d=Jn[c++]!=1;for(;c<n&&d==(Jn[c]!=1);)c++;if(d)for(let m=c;m>f;){let O=m,y=Jn[--m]!=2;for(;m>f&&y==(Jn[m-1]!=2);)m--;a.push(new Ma(m,O,y?2:1))}else a.push(new Ma(f,c,0))}else for(let c=0;c<n;){let f=c,d=Jn[c++]==2;for(;c<n&&d==(Jn[c]==2);)c++;a.push(new Ma(f,c,d?1:2))}return a}function Yv(r){return[new Ma(0,r,0)]}let Wv="";function Gb(r,e,n,i,o){var a;let c=i.head-r.from,f=-1;if(c==0){if(!o||!r.length)return null;e[0].level!=n&&(c=e[0].side(!1,n),f=0)}else if(c==r.length){if(o)return null;let P=e[e.length-1];P.level!=n&&(c=P.side(!0,n),f=e.length-1)}f<0&&(f=Ma.find(e,c,(a=i.bidiLevel)!==null&&a!==void 0?a:-1,i.assoc));let d=e[f];c==d.side(o,n)&&(d=e[f+=o?1:-1],c=d.side(!o,n));let m=o==(d.dir==n),O=er(r.text,c,m);if(Wv=r.text.slice(Math.min(c,O),Math.max(c,O)),O!=d.side(o,n))return $e.cursor(O+r.from,m?-1:1,d.level);let y=f==(o?e.length-1:0)?null:e[f+(o?1:-1)];return!y&&d.level!=n?$e.cursor(o?r.to:r.from,o?-1:1,n):y&&y.level<d.level?$e.cursor(y.side(!o,n)+r.from,o?1:-1,y.level):$e.cursor(O+r.from,o?-1:1,d.level)}const co="\uFFFF";class jv{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(ln.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=co}readRange(e,n){if(!e)return this;let i=e.parentNode;for(let o=e;;){this.findPointBefore(i,o),this.readNode(o);let a=o.nextSibling;if(a==n)break;let c=zn.get(o),f=zn.get(a);(c&&f?c.breakAfter:(c?c.breakAfter:hg(o))||hg(a)&&(o.nodeName!="BR"||o.cmIgnore))&&this.lineBreak(),o=a}return this.findPointBefore(i,n),this}readTextNode(e){let n=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length));for(let i=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,c=1,f;if(this.lineSeparator?(a=n.indexOf(this.lineSeparator,i),c=this.lineSeparator.length):(f=o.exec(n))&&(a=f.index,c=f[0].length),this.append(n.slice(i,a<0?n.length:a)),a<0)break;if(this.lineBreak(),c>1)for(let d of this.points)d.node==e&&d.pos>this.text.length&&(d.pos-=c-1);i=a+c}}readNode(e){if(e.cmIgnore)return;let n=zn.get(e),i=n&&n.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let o=i.iter();!o.next().done;)o.lineBreak?this.lineBreak():this.append(o.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==n&&(i.pos=this.text.length)}findPointInside(e,n){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(n,i.offset))}}function hg(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}class dg{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class pg extends zn{constructor(e){super(),this.view=e,this.compositionDeco=kt.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new tr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new $s(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:c,toA:f})=>f<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=kt.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=Jb(this.view,e.changes)),(gt.ie||gt.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,o=this.updateDeco(),a=nw(i,o,e.changes);return n=$s.extendWithRanges(n,a),this.dirty==0&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=gt.chrome||gt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.dirty=0,a&&(a.written||i.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""});let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof qo&&a.widget instanceof mg&&o.push(a.dom);i.updateGaps(o)}updateChildren(e,n){let i=this.childCursor(n);for(let o=e.length-1;;o--){let a=o>=0?e[o]:null;if(!a)break;let{fromA:c,toA:f,fromB:d,toB:m}=a,{content:O,breakAtStart:y,openStart:P,openEnd:C}=Zd.build(this.view.state.doc,d,m,this.decorations,this.dynamicDecorationMap),{i:W,off:ae}=i.findPos(f,1),{i:fe,off:xe}=i.findPos(c,-1);gv(this,fe,xe,W,ae,O,y,P,C)}}updateSelection(e=!1,n=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(n||this.mayControlSelection()))return;let i=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,a=this.domAtPos(o.anchor),c=o.empty?a:this.domAtPos(o.head);if(gt.gecko&&o.empty&&Hb(a)){let d=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(d,a.node.childNodes[a.offset]||null)),a=c=new zi(d,0),i=!0}let f=this.view.observer.selectionRange;(i||!f.focusNode||!Cf(a.node,a.offset,f.anchorNode,f.anchorOffset)||!Cf(c.node,c.offset,f.focusNode,f.focusOffset))&&(this.view.observer.ignore(()=>{gt.android&&gt.chrome&&this.dom.contains(f.focusNode)&&iw(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Pf(this.view.root);if(d)if(o.empty){if(gt.gecko){let m=ew(a.node,a.offset);if(m&&m!=3){let O=qv(a.node,a.offset,m==1?1:-1);O&&(a=new zi(O,m==1?0:O.nodeValue.length))}}d.collapse(a.node,a.offset),o.bidiLevel!=null&&f.cursorBidiLevel!=null&&(f.cursorBidiLevel=o.bidiLevel)}else if(d.extend){d.collapse(a.node,a.offset);try{d.extend(c.node,c.offset)}catch{}}else{let m=document.createRange();o.anchor>o.head&&([a,c]=[c,a]),m.setEnd(c.node,c.offset),m.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(m)}}),this.view.observer.setSelectionRange(a,c)),this.impreciseAnchor=a.precise?null:new zi(f.anchorNode,f.anchorOffset),this.impreciseHead=c.precise?null:new zi(f.focusNode,f.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,n=e.state.selection.main,i=Pf(e.root),{anchorNode:o,anchorOffset:a}=e.observer.selectionRange;if(!i||!n.empty||!n.assoc||!i.modify)return;let c=tr.find(this,n.head);if(!c)return;let f=c.posAtStart;if(n.head==f||n.head==f+c.length)return;let d=this.coordsAt(n.head,-1),m=this.coordsAt(n.head,1);if(!d||!m||d.bottom>m.top)return;let O=this.domAtPos(n.head+n.assoc);i.collapse(O.node,O.offset),i.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let y=e.observer.selectionRange;e.docView.posFromDOM(y.anchorNode,y.anchorOffset)!=n.from&&i.collapse(o,a)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||yf(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let n=e;n;){let i=zn.get(n);if(i&&i.rootView==this)return i;n=n.parentNode}return null}posFromDOM(e,n){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,n)+i.posAtStart}domAtPos(e){let{i:n,off:i}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let o=this.children[n];if(i<o.length||o instanceof tr)break;n++,i=0}return this.children[n].domAtPos(i)}coordsAt(e,n){for(let i=this.length,o=this.children.length-1;;o--){let a=this.children[o],c=i-a.breakAfter-a.length;if(e>c||e==c&&a.type!=Zn.WidgetBefore&&a.type!=Zn.WidgetAfter&&(!o||n==2||this.children[o-1].breakAfter||this.children[o-1].type==Zn.WidgetBefore&&n>-2))return a.coordsAt(e-c,n);i=c}}measureVisibleLineHeights(e){let n=[],{from:i,to:o}=e,a=this.view.contentDOM.clientWidth,c=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,f=-1,d=this.view.textDirection==Kn.LTR;for(let m=0,O=0;O<this.children.length;O++){let y=this.children[O],P=m+y.length;if(P>o)break;if(m>=i){let C=y.dom.getBoundingClientRect();if(n.push(C.height),c){let W=y.dom.lastChild,ae=W?Il(W):[];if(ae.length){let fe=ae[ae.length-1],xe=d?fe.right-C.left:C.right-fe.left;xe>f&&(f=xe,this.minWidth=a,this.minWidthFrom=m,this.minWidthTo=P)}}}m=P+y.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Kn.RTL:Kn.LTR}measureTextSize(){for(let o of this.children)if(o instanceof tr){let a=o.measureTextSize();if(a)return a}let e=document.createElement("div"),n,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=Il(e.firstChild)[0];n=e.getBoundingClientRect().height,i=o?o.width/27:7,e.remove()}),{lineHeight:n,charWidth:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new mv(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let i=0,o=0;;o++){let a=o==n.viewports.length?null:n.viewports[o],c=a?a.from-1:this.length;if(c>i){let f=n.lineBlockAt(c).bottom-n.lineBlockAt(i).top;e.push(kt.replace({widget:new mg(f),block:!0,inclusive:!0,isBlockGap:!0}).range(i,c))}if(!a)break;i=a.to+1}return kt.set(e)}updateDeco(){let e=this.view.state.facet(Ll).map((n,i)=>(this.dynamicDecorationMap[i]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,i=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),o;if(!i)return;!n.empty&&(o=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(i={left:Math.min(i.left,o.left),top:Math.min(i.top,o.top),right:Math.max(i.right,o.right),bottom:Math.max(i.bottom,o.bottom)});let a=0,c=0,f=0,d=0;for(let O of this.view.state.facet(Xv).map(y=>y(this.view)))if(O){let{left:y,right:P,top:C,bottom:W}=O;y!=null&&(a=Math.max(a,y)),P!=null&&(c=Math.max(c,P)),C!=null&&(f=Math.max(f,C)),W!=null&&(d=Math.max(d,W))}let m={left:i.left-a,top:i.top-f,right:i.right+c,bottom:i.bottom+d};Zb(this.view.scrollDOM,m,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Kn.LTR)}}function Hb(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}class mg extends Fs{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Uv(r){let e=r.observer.selectionRange,n=e.focusNode&&qv(e.focusNode,e.focusOffset,0);if(!n)return null;let i=r.docView.nearest(n);if(!i)return null;if(i instanceof tr){let o=n;for(;o.parentNode!=i.dom;)o=o.parentNode;let a=o.previousSibling;for(;a&&!zn.get(a);)a=a.previousSibling;let c=a?zn.get(a).posAtEnd:i.posAtStart;return{from:c,to:c,node:o,text:n}}else{for(;;){let{parent:a}=i;if(!a)return null;if(a instanceof tr)break;i=a}let o=i.posAtStart;return{from:o,to:o+i.length,node:i.dom,text:n}}}function Jb(r,e){let n=Uv(r);if(!n)return kt.none;let{from:i,to:o,node:a,text:c}=n,f=e.mapPos(i,1),d=Math.max(f,e.mapPos(o,-1)),{state:m}=r,O=a.nodeType==3?a.nodeValue:new jv([],m).readRange(a.firstChild,null).text;if(d-f<O.length)if(m.doc.sliceString(f,Math.min(m.doc.length,f+O.length),co)==O)d=f+O.length;else if(m.doc.sliceString(Math.max(0,d-O.length),d,co)==O)f=d-O.length;else return kt.none;else if(m.doc.sliceString(f,d,co)!=O)return kt.none;let y=zn.get(a);return y instanceof bv?y=y.widget.topView:y&&(y.parent=null),kt.set(kt.replace({widget:new Kb(a,c,y),inclusive:!0}).range(f,d))}class Kb extends Fs{constructor(e,n,i){super(),this.top=e,this.text=n,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return bv}}function qv(r,e,n){for(;;){if(r.nodeType==3)return r;if(r.nodeType==1&&e>0&&n<=0)r=r.childNodes[e-1],e=Vl(r);else if(r.nodeType==1&&e<r.childNodes.length&&n>=0)r=r.childNodes[e],e=0;else return null}}function ew(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}class tw{constructor(){this.changes=[]}compareRange(e,n){nd(e,n,this.changes)}comparePoint(e,n){nd(e,n,this.changes)}}function nw(r,e,n){let i=new tw;return Qn.compare(r,e,n,i),i.changes}function iw(r,e){for(let n=r;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function rw(r,e,n=1){let i=r.charCategorizer(e),o=r.doc.lineAt(e),a=e-o.from;if(o.length==0)return $e.cursor(e);a==0?n=1:a==o.length&&(n=-1);let c=a,f=a;n<0?c=er(o.text,a,!1):f=er(o.text,a);let d=i(o.text.slice(c,f));for(;c>0;){let m=er(o.text,c,!1);if(i(o.text.slice(m,c))!=d)break;c=m}for(;f<o.length;){let m=er(o.text,f);if(i(o.text.slice(f,m))!=d)break;f=m}return $e.range(c+o.from,f+o.from)}function sw(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function ow(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function ph(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function gg(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function Og(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function od(r,e,n){let i,o,a,c,f=!1,d,m,O,y;for(let W=r.firstChild;W;W=W.nextSibling){let ae=Il(W);for(let fe=0;fe<ae.length;fe++){let xe=ae[fe];o&&ph(o,xe)&&(xe=gg(Og(xe,o.bottom),o.top));let je=sw(e,xe),Ee=ow(n,xe);if(je==0&&Ee==0)return W.nodeType==3?vg(W,e,n):od(W,e,n);if(!i||c>Ee||c==Ee&&a>je){i=W,o=xe,a=je,c=Ee;let le=Ee?n<xe.top?-1:1:je?e<xe.left?-1:1:0;f=!le||(le>0?fe<ae.length-1:fe>0)}je==0?n>xe.bottom&&(!O||O.bottom<xe.bottom)?(d=W,O=xe):n<xe.top&&(!y||y.top>xe.top)&&(m=W,y=xe):O&&ph(O,xe)?O=Og(O,xe.bottom):y&&ph(y,xe)&&(y=gg(y,xe.top))}}if(O&&O.bottom>=n?(i=d,o=O):y&&y.top<=n&&(i=m,o=y),!i)return{node:r,offset:0};let P=Math.max(o.left,Math.min(o.right,e));if(i.nodeType==3)return vg(i,P,n);if(f&&i.contentEditable!="false")return od(i,P,n);let C=Array.prototype.indexOf.call(r.childNodes,i)+(e>=(o.left+o.right)/2?1:0);return{node:r,offset:C}}function vg(r,e,n){let i=r.nodeValue.length,o=-1,a=1e9,c=0;for(let f=0;f<i;f++){let d=ja(r,f,f+1).getClientRects();for(let m=0;m<d.length;m++){let O=d[m];if(O.top==O.bottom)continue;c||(c=e-O.left);let y=(O.top>n?O.top-n:n-O.bottom)-1;if(O.left-1<=e&&O.right+1>=e&&y<a){let P=e>=(O.left+O.right)/2,C=P;if((gt.chrome||gt.gecko)&&ja(r,f).getBoundingClientRect().left==O.right&&(C=!P),y<=0)return{node:r,offset:f+(C?1:0)};o=f+(C?1:0),a=y}}}return{node:r,offset:o>-1?o:c>0?r.nodeValue.length:0}}function zv(r,{x:e,y:n},i,o=-1){var a;let c=r.contentDOM.getBoundingClientRect(),f=c.top+r.viewState.paddingTop,d,{docHeight:m}=r.viewState,O=n-f;if(O<0)return 0;if(O>m)return r.state.doc.length;for(let xe=r.defaultLineHeight/2,je=!1;d=r.elementAtHeight(O),d.type!=Zn.Text;)for(;O=o>0?d.bottom+xe:d.top-xe,!(O>=0&&O<=m);){if(je)return i?null:0;je=!0,o=-o}n=f+O;let y=d.from;if(y<r.viewport.from)return r.viewport.from==0?0:i?null:yg(r,c,d,e,n);if(y>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:i?null:yg(r,c,d,e,n);let P=r.dom.ownerDocument,C=r.root.elementFromPoint?r.root:P,W=C.elementFromPoint(e,n);W&&!r.contentDOM.contains(W)&&(W=null),W||(e=Math.max(c.left+1,Math.min(c.right-1,e)),W=C.elementFromPoint(e,n),W&&!r.contentDOM.contains(W)&&(W=null));let ae,fe=-1;if(W&&((a=r.docView.nearest(W))===null||a===void 0?void 0:a.isEditable)!=!1){if(P.caretPositionFromPoint){let xe=P.caretPositionFromPoint(e,n);xe&&({offsetNode:ae,offset:fe}=xe)}else if(P.caretRangeFromPoint){let xe=P.caretRangeFromPoint(e,n);xe&&({startContainer:ae,startOffset:fe}=xe,(!r.contentDOM.contains(ae)||gt.safari&&aw(ae,fe,e)||gt.chrome&&lw(ae,fe,e))&&(ae=void 0))}}if(!ae||!r.docView.dom.contains(ae)){let xe=tr.find(r.docView,y);if(!xe)return O>d.top+d.height/2?d.to:d.from;({node:ae,offset:fe}=od(xe.dom,e,n))}return r.docView.posFromDOM(ae,fe)}function yg(r,e,n,i,o){let a=Math.round((i-e.left)*r.defaultCharacterWidth);r.lineWrapping&&n.height>r.defaultLineHeight*1.5&&(a+=Math.floor((o-n.top)/r.defaultLineHeight)*r.viewState.heightOracle.lineLength);let c=r.state.sliceDoc(n.from,n.to);return n.from+Lh(c,a,r.state.tabSize)}function aw(r,e,n){let i;if(r.nodeType!=3||e!=(i=r.nodeValue.length))return!1;for(let o=r.nextSibling;o;o=o.nextSibling)if(o.nodeType!=1||o.nodeName!="BR")return!1;return ja(r,i-1,i).getBoundingClientRect().left>n}function lw(r,e,n){if(e!=0)return!1;for(let o=r;;){let a=o.parentNode;if(!a||a.nodeType!=1||a.firstChild!=o)return!1;if(a.classList.contains("cm-line"))break;o=a}let i=r.nodeType==1?r.getBoundingClientRect():ja(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return n-i.left>5}function cw(r,e,n,i){let o=r.state.doc.lineAt(e.head),a=!i||!r.lineWrapping?null:r.coordsAtPos(e.assoc<0&&e.head>o.from?e.head-1:e.head);if(a){let d=r.dom.getBoundingClientRect(),m=r.textDirectionAt(o.from),O=r.posAtCoords({x:n==(m==Kn.LTR)?d.right-1:d.left+1,y:(a.top+a.bottom)/2});if(O!=null)return $e.cursor(O,n?-1:1)}let c=tr.find(r.docView,e.head),f=c?n?c.posAtEnd:c.posAtStart:n?o.to:o.from;return $e.cursor(f,n?-1:1)}function bg(r,e,n,i){let o=r.state.doc.lineAt(e.head),a=r.bidiSpans(o),c=r.textDirectionAt(o.from);for(let f=e,d=null;;){let m=Gb(o,a,c,f,n),O=Wv;if(!m){if(o.number==(n?r.state.doc.lines:1))return f;O=`
`,o=r.state.doc.line(o.number+(n?1:-1)),a=r.bidiSpans(o),m=$e.cursor(n?o.from:o.to)}if(d){if(!d(O))return f}else{if(!i)return m;d=i(O)}f=m}}function fw(r,e,n){let i=r.state.charCategorizer(e),o=i(n);return a=>{let c=i(a);return o==Fn.Space&&(o=c),o==c}}function uw(r,e,n,i){let o=e.head,a=n?1:-1;if(o==(n?r.state.doc.length:0))return $e.cursor(o,e.assoc);let c=e.goalColumn,f,d=r.contentDOM.getBoundingClientRect(),m=r.coordsAtPos(o),O=r.documentTop;if(m)c==null&&(c=m.left-d.left),f=a<0?m.top:m.bottom;else{let C=r.viewState.lineBlockAt(o);c==null&&(c=Math.min(d.right-d.left,r.defaultCharacterWidth*(o-C.from))),f=(a<0?C.top:C.bottom)+O}let y=d.left+c,P=i!=null?i:r.defaultLineHeight>>1;for(let C=0;;C+=10){let W=f+(P+C)*a,ae=zv(r,{x:y,y:W},!1,a);if(W<d.top||W>d.bottom||(a<0?ae<o:ae>o))return $e.cursor(ae,e.assoc,void 0,c)}}function mh(r,e,n){let i=r.state.facet(Mv).map(o=>o(r));for(;;){let o=!1;for(let a of i)a.between(n.from-1,n.from+1,(c,f,d)=>{n.from>c&&n.from<f&&(n=e.head>n.from?$e.cursor(c,1):$e.cursor(f,-1),o=!0)});if(!o)return n}}class hw{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let n=(i,o)=>{this.ignoreDuringComposition(o)||o.type=="keydown"&&this.keydown(e,o)||(this.mustFlushObserver(o)&&e.observer.forceFlush(),this.runCustomHandlers(o.type,e,o)?o.preventDefault():i(e,o))};for(let i in _i){let o=_i[i];e.contentDOM.addEventListener(i,a=>{wg(e,a)&&n(o,a)},ad[i]),this.registeredEvents.push(i)}e.scrollDOM.addEventListener("mousedown",i=>{i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&n(_i.mousedown,i)}),gt.chrome&&gt.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,gt.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,n){var i;let o;this.customHandlers=[];for(let a of n)if(o=(i=a.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:a.value,handlers:o});for(let c in o)this.registeredEvents.indexOf(c)<0&&c!="scroll"&&(this.registeredEvents.push(c),e.contentDOM.addEventListener(c,f=>{!wg(e,f)||this.runCustomHandlers(c,e,f)&&f.preventDefault()}))}}runCustomHandlers(e,n,i){for(let o of this.customHandlers){let a=o.handlers[e];if(a)try{if(a.call(o.plugin,i,n)||i.defaultPrevented)return!0}catch(c){Er(n.state,c)}}return!1}runScrollHandlers(e,n){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let i of this.customHandlers){let o=i.handlers.scroll;if(o)try{o.call(i.plugin,n,e)}catch(a){Er(e.state,a)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(gt.android&&gt.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let i;return gt.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((i=Iv.find(o=>o.keyCode==n.keyCode))&&!n.ctrlKey||dw.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=i||n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,Za(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:gt.safari&&!gt.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Iv=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],dw="dthko",Vv=[16,17,18,20,91,92,224,225];function ef(r){return r*.7+8}class pw{constructor(e,n,i,o){this.view=e,this.style=i,this.mustSelect=o,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=Mb(e.contentDOM);let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(ln.allowMultipleSelections)&&mw(e,n),this.dragMove=gw(e,n),this.dragging=Ow(e,n)&&Nv(n)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let i=0,o=0,a=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=a.left?i=-ef(a.left-e.clientX):e.clientX>=a.right&&(i=ef(e.clientX-a.right)),e.clientY<=a.top?o=-ef(a.top-e.clientY):e.clientY>=a.bottom&&(o=ef(e.clientY-a.bottom)),this.setScrollSpeed(i,o)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let n=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!n.eq(this.view.state.selection)||n.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function mw(r,e){let n=r.state.facet(Qv);return n.length?n[0](e):gt.mac?e.metaKey:e.ctrlKey}function gw(r,e){let n=r.state.facet($v);return n.length?n[0](e):gt.mac?!e.altKey:!e.ctrlKey}function Ow(r,e){let{main:n}=r.state.selection;if(n.empty)return!1;let i=Pf(r.root);if(!i||i.rangeCount==0)return!0;let o=i.getRangeAt(0).getClientRects();for(let a=0;a<o.length;a++){let c=o[a];if(c.left<=e.clientX&&c.right>=e.clientX&&c.top<=e.clientY&&c.bottom>=e.clientY)return!0}return!1}function wg(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,i;n!=r.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(i=zn.get(n))&&i.ignoreEvent(e))return!1;return!0}const _i=Object.create(null),ad=Object.create(null),Lv=gt.ie&&gt.ie_version<15||gt.ios&&gt.webkit_version<604;function vw(r){let e=r.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{r.focus(),n.remove(),Bv(r,n.value)},50)}function Bv(r,e){let{state:n}=r,i,o=1,a=n.toText(e),c=a.lines==n.selection.ranges.length;if(ld!=null&&n.selection.ranges.every(d=>d.empty)&&ld==a.toString()){let d=-1;i=n.changeByRange(m=>{let O=n.doc.lineAt(m.from);if(O.from==d)return{range:m};d=O.from;let y=n.toText((c?a.line(o++).text:e)+n.lineBreak);return{changes:{from:O.from,insert:y},range:$e.cursor(m.from+y.length)}})}else c?i=n.changeByRange(d=>{let m=a.line(o++);return{changes:{from:d.from,to:d.to,insert:m.text},range:$e.cursor(d.from+m.length)}}):i=n.replaceSelection(a);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}_i.keydown=(r,e)=>{r.inputState.setSelectionOrigin("select"),e.keyCode==27?r.inputState.lastEscPress=Date.now():Vv.indexOf(e.keyCode)<0&&(r.inputState.lastEscPress=0)};_i.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};_i.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};ad.touchstart=ad.touchmove={passive:!0};_i.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let i of r.state.facet(Pv))if(n=i(r,e),n)break;if(!n&&e.button==0&&(n=ww(r,e)),n){let i=r.root.activeElement!=r.contentDOM;r.inputState.startMouseSelection(new pw(r,e,n,i)),i&&r.observer.ignore(()=>dv(r.contentDOM)),r.inputState.mouseSelection&&r.inputState.mouseSelection.start(e)}};function xg(r,e,n,i){if(i==1)return $e.cursor(e,n);if(i==2)return rw(r.state,e,n);{let o=tr.find(r.docView,e),a=r.state.doc.lineAt(o?o.posAtEnd:e),c=o?o.posAtStart:a.from,f=o?o.posAtEnd:a.to;return f<r.state.doc.length&&f==a.to&&f++,$e.range(c,f)}}let Fv=(r,e)=>r>=e.top&&r<=e.bottom,_g=(r,e,n)=>Fv(e,n)&&r>=n.left&&r<=n.right;function yw(r,e,n,i){let o=tr.find(r.docView,e);if(!o)return 1;let a=e-o.posAtStart;if(a==0)return 1;if(a==o.length)return-1;let c=o.coordsAt(a,-1);if(c&&_g(n,i,c))return-1;let f=o.coordsAt(a,1);return f&&_g(n,i,f)?1:c&&Fv(i,c)?-1:1}function kg(r,e){let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:yw(r,n,e.clientX,e.clientY)}}const bw=gt.ie&&gt.ie_version<=11;let Sg=null,Qg=0,$g=0;function Nv(r){if(!bw)return r.detail;let e=Sg,n=$g;return Sg=r,$g=Date.now(),Qg=!e||n>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(Qg+1)%3:1}function ww(r,e){let n=kg(r,e),i=Nv(e),o=r.state.selection;return{update(a){a.docChanged&&(n.pos=a.changes.mapPos(n.pos),o=o.map(a.changes))},get(a,c,f){let d=kg(r,a),m=xg(r,d.pos,d.bias,i);if(n.pos!=d.pos&&!c){let O=xg(r,n.pos,n.bias,i),y=Math.min(O.from,m.from),P=Math.max(O.to,m.to);m=y<m.from?$e.range(y,P):$e.range(P,y)}return c?o.replaceRange(o.main.extend(m.from,m.to)):f&&o.ranges.length>1&&o.ranges.some(O=>O.eq(m))?xw(o,m):f?o.addRange(m):$e.create([m])}}}function xw(r,e){for(let n=0;;n++)if(r.ranges[n].eq(e))return $e.create(r.ranges.slice(0,n).concat(r.ranges.slice(n+1)),r.mainIndex==n?0:r.mainIndex-(r.mainIndex>n?1:0))}_i.dragstart=(r,e)=>{let{selection:{main:n}}=r.state,{mouseSelection:i}=r.inputState;i&&(i.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",r.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function Pg(r,e,n,i){if(!n)return;let o=r.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:a}=r.inputState,c=i&&a&&a.dragging&&a.dragMove?{from:a.dragging.from,to:a.dragging.to}:null,f={from:o,insert:n},d=r.state.changes(c?[c,f]:f);r.focus(),r.dispatch({changes:d,selection:{anchor:d.mapPos(o,-1),head:d.mapPos(o,1)},userEvent:c?"move.drop":"input.drop"})}_i.drop=(r,e)=>{if(!e.dataTransfer)return;if(r.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let i=Array(n.length),o=0,a=()=>{++o==n.length&&Pg(r,e,i.filter(c=>c!=null).join(r.state.lineBreak),!1)};for(let c=0;c<n.length;c++){let f=new FileReader;f.onerror=a,f.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(f.result)||(i[c]=f.result),a()},f.readAsText(n[c])}}else Pg(r,e,e.dataTransfer.getData("Text"),!0)};_i.paste=(r,e)=>{if(r.state.readOnly)return e.preventDefault();r.observer.flush();let n=Lv?null:e.clipboardData;n?(Bv(r,n.getData("text/plain")),e.preventDefault()):vw(r)};function _w(r,e){let n=r.dom.parentNode;if(!n)return;let i=n.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function kw(r){let e=[],n=[],i=!1;for(let o of r.selection.ranges)o.empty||(e.push(r.sliceDoc(o.from,o.to)),n.push(o));if(!e.length){let o=-1;for(let{from:a}of r.selection.ranges){let c=r.doc.lineAt(a);c.number>o&&(e.push(c.text),n.push({from:c.from,to:Math.min(r.doc.length,c.to+1)})),o=c.number}i=!0}return{text:e.join(r.lineBreak),ranges:n,linewise:i}}let ld=null;_i.copy=_i.cut=(r,e)=>{let{text:n,ranges:i,linewise:o}=kw(r.state);if(!n&&!o)return;ld=o?n:null;let a=Lv?null:e.clipboardData;a?(e.preventDefault(),a.clearData(),a.setData("text/plain",n)):_w(r,n),e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function Gv(r){setTimeout(()=>{if(r.hasFocus!=r.inputState.notifiedFocused){let e=[],n=!r.inputState.notifiedFocused;for(let i of r.state.facet(Ev)){let o=i(r.state,n);o&&e.push(o)}e.length?r.dispatch({effects:e}):r.update([])}},10)}_i.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),Gv(r)};_i.blur=r=>{r.observer.clearSelectionRange(),Gv(r)};_i.compositionstart=_i.compositionupdate=r=>{r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0)};_i.compositionend=r=>{r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionFirstChange=null,gt.chrome&&gt.android&&r.observer.flushSoon(),setTimeout(()=>{r.inputState.composing<0&&r.docView.compositionDeco.size&&r.update([])},50)};_i.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};_i.beforeinput=(r,e)=>{var n;let i;if(gt.chrome&&gt.android&&(i=Iv.find(o=>o.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>o+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}};const Cg=["pre-wrap","normal","pre-line","break-spaces"];class Sw{constructor(e){this.lineWrapping=e,this.doc=mn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let i=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((n-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Cg.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let i=0;i<e.length;i++){let o=e[i];o<0?i++:this.heightSamples[Math.floor(o*10)]||(n=!0,this.heightSamples[Math.floor(o*10)]=!0)}return n}refresh(e,n,i,o,a){let c=Cg.indexOf(e)>-1,f=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=n,this.charWidth=i,this.lineLength=o,f){this.heightSamples={};for(let d=0;d<a.length;d++){let m=a[d];m<0?d++:this.heightSamples[Math.floor(m*10)]=!0}}return f}}class Qw{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Ls{constructor(e,n,i,o,a){this.from=e,this.length=n,this.top=i,this.height=o,this.type=a}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Ls(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var qn=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(qn||(qn={}));const bf=.001;class nr{constructor(e,n,i=2){this.length=e,this.height=n,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>bf&&(e.heightChanged=!0),this.height=n)}replace(e,n,i){return nr.of(i)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,i,o){let a=this,c=i.doc;for(let f=o.length-1;f>=0;f--){let{fromA:d,toA:m,fromB:O,toB:y}=o[f],P=a.lineAt(d,qn.ByPosNoHeight,i.setDoc(n),0,0),C=P.to>=m?P:a.lineAt(m,qn.ByPosNoHeight,i,0,0);for(y+=C.to-m,m=C.to;f>0&&P.from<=o[f-1].toA;)d=o[f-1].fromA,O=o[f-1].fromB,f--,d<P.from&&(P=a.lineAt(d,qn.ByPosNoHeight,i,0,0));O+=P.from-d,d=P.from;let W=Xd.build(i.setDoc(c),e,O,y);a=a.replace(d,m,W)}return a.updateHeight(i,0)}static empty(){return new Pr(0,0)}static of(e){if(e.length==1)return e[0];let n=0,i=e.length,o=0,a=0;for(;;)if(n==i)if(o>a*2){let f=e[n-1];f.break?e.splice(--n,1,f.left,null,f.right):e.splice(--n,1,f.left,f.right),i+=1+f.break,o-=f.size}else if(a>o*2){let f=e[i];f.break?e.splice(i,1,f.left,null,f.right):e.splice(i,1,f.left,f.right),i+=2+f.break,a-=f.size}else break;else if(o<a){let f=e[n++];f&&(o+=f.size)}else{let f=e[--i];f&&(a+=f.size)}let c=0;return e[n-1]==null?(c=1,n--):e[n]==null&&(c=1,i++),new $w(nr.of(e.slice(0,n)),c,nr.of(e.slice(i)))}}nr.prototype.size=1;class Hv extends nr{constructor(e,n,i){super(e,n),this.type=i}blockAt(e,n,i,o){return new Ls(o,this.length,i,this.height,this.type)}lineAt(e,n,i,o,a){return this.blockAt(0,i,o,a)}forEachLine(e,n,i,o,a,c){e<=a+this.length&&n>=a&&c(this.blockAt(0,i,o,a))}updateHeight(e,n=0,i=!1,o){return o&&o.from<=n&&o.more&&this.setHeight(e,o.heights[o.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Pr extends Hv{constructor(e,n){super(e,n,Zn.Text),this.collapsed=0,this.widgetHeight=0}replace(e,n,i){let o=i[0];return i.length==1&&(o instanceof Pr||o instanceof Zi&&o.flags&4)&&Math.abs(this.length-o.length)<10?(o instanceof Zi?o=new Pr(o.length,this.height):o.height=this.height,this.outdated||(o.outdated=!1),o):nr.of(i)}updateHeight(e,n=0,i=!1,o){return o&&o.from<=n&&o.more?this.setHeight(e,o.heights[o.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Zi extends nr{constructor(e){super(e,0)}heightMetrics(e,n){let i=e.doc.lineAt(n).number,o=e.doc.lineAt(n+this.length).number,a=o-i+1,c,f=0;if(e.lineWrapping){let d=Math.min(this.height,e.lineHeight*a);c=d/a,f=(this.height-d)/(this.length-a-1)}else c=this.height/a;return{firstLine:i,lastLine:o,perLine:c,perChar:f}}blockAt(e,n,i,o){let{firstLine:a,lastLine:c,perLine:f,perChar:d}=this.heightMetrics(n,o);if(n.lineWrapping){let m=o+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),O=n.doc.lineAt(m),y=f+O.length*d,P=Math.max(i,e-y/2);return new Ls(O.from,O.length,P,y,Zn.Text)}else{let m=Math.max(0,Math.min(c-a,Math.floor((e-i)/f))),{from:O,length:y}=n.doc.line(a+m);return new Ls(O,y,i+f*m,f,Zn.Text)}}lineAt(e,n,i,o,a){if(n==qn.ByHeight)return this.blockAt(e,i,o,a);if(n==qn.ByPosNoHeight){let{from:C,to:W}=i.doc.lineAt(e);return new Ls(C,W-C,0,0,Zn.Text)}let{firstLine:c,perLine:f,perChar:d}=this.heightMetrics(i,a),m=i.doc.lineAt(e),O=f+m.length*d,y=m.number-c,P=o+f*y+d*(m.from-a-y);return new Ls(m.from,m.length,Math.max(o,Math.min(P,o+this.height-O)),O,Zn.Text)}forEachLine(e,n,i,o,a,c){e=Math.max(e,a),n=Math.min(n,a+this.length);let{firstLine:f,perLine:d,perChar:m}=this.heightMetrics(i,a);for(let O=e,y=o;O<=n;){let P=i.doc.lineAt(O);if(O==e){let W=P.number-f;y+=d*W+m*(e-a-W)}let C=d+m*P.length;c(new Ls(P.from,P.length,y,C,Zn.Text)),y+=C,O=P.to+1}}replace(e,n,i){let o=this.length-n;if(o>0){let a=i[i.length-1];a instanceof Zi?i[i.length-1]=new Zi(a.length+o):i.push(null,new Zi(o-1))}if(e>0){let a=i[0];a instanceof Zi?i[0]=new Zi(e+a.length):i.unshift(new Zi(e-1),null)}return nr.of(i)}decomposeLeft(e,n){n.push(new Zi(e-1),null)}decomposeRight(e,n){n.push(null,new Zi(this.length-e-1))}updateHeight(e,n=0,i=!1,o){let a=n+this.length;if(o&&o.from<=n+this.length&&o.more){let c=[],f=Math.max(n,o.from),d=-1;for(o.from>n&&c.push(new Zi(o.from-n-1).updateHeight(e,n));f<=a&&o.more;){let O=e.doc.lineAt(f).length;c.length&&c.push(null);let y=o.heights[o.index++];d==-1?d=y:Math.abs(y-d)>=bf&&(d=-2);let P=new Pr(O,y);P.outdated=!1,c.push(P),f+=O+1}f<=a&&c.push(null,new Zi(a-f).updateHeight(e,f));let m=nr.of(c);return(d<0||Math.abs(m.height-this.height)>=bf||Math.abs(d-this.heightMetrics(e,n).perLine)>=bf)&&(e.heightChanged=!0),m}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class $w extends nr{constructor(e,n,i){super(e.length+n+i.length,e.height+i.height,n|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,n,i,o){let a=i+this.left.height;return e<a?this.left.blockAt(e,n,i,o):this.right.blockAt(e,n,a,o+this.left.length+this.break)}lineAt(e,n,i,o,a){let c=o+this.left.height,f=a+this.left.length+this.break,d=n==qn.ByHeight?e<c:e<f,m=d?this.left.lineAt(e,n,i,o,a):this.right.lineAt(e,n,i,c,f);if(this.break||(d?m.to<f:m.from>f))return m;let O=n==qn.ByPosNoHeight?qn.ByPosNoHeight:qn.ByPos;return d?m.join(this.right.lineAt(f,O,i,c,f)):this.left.lineAt(f,O,i,o,a).join(m)}forEachLine(e,n,i,o,a,c){let f=o+this.left.height,d=a+this.left.length+this.break;if(this.break)e<d&&this.left.forEachLine(e,n,i,o,a,c),n>=d&&this.right.forEachLine(e,n,i,f,d,c);else{let m=this.lineAt(d,qn.ByPos,i,o,a);e<m.from&&this.left.forEachLine(e,m.from-1,i,o,a,c),m.to>=e&&m.from<=n&&c(m),n>m.to&&this.right.forEachLine(m.to+1,n,i,f,d,c)}}replace(e,n,i){let o=this.left.length+this.break;if(n<o)return this.balanced(this.left.replace(e,n,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-o,n-o,i));let a=[];e>0&&this.decomposeLeft(e,a);let c=a.length;for(let f of i)a.push(f);if(e>0&&Tg(a,c-1),n<this.length){let f=a.length;this.decomposeRight(n,a),Tg(a,f)}return nr.of(a)}decomposeLeft(e,n){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(i++,e>=i&&n.push(null)),e>i&&this.right.decomposeLeft(e-i,n)}decomposeRight(e,n){let i=this.left.length,o=i+this.break;if(e>=o)return this.right.decomposeRight(e-o,n);e<i&&this.left.decomposeRight(e,n),this.break&&e<o&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?nr.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,i=!1,o){let{left:a,right:c}=this,f=n+a.length+this.break,d=null;return o&&o.from<=n+a.length&&o.more?d=a=a.updateHeight(e,n,i,o):a.updateHeight(e,n,i),o&&o.from<=f+c.length&&o.more?d=c=c.updateHeight(e,f,i,o):c.updateHeight(e,f,i),d?this.balanced(a,c):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Tg(r,e){let n,i;r[e]==null&&(n=r[e-1])instanceof Zi&&(i=r[e+1])instanceof Zi&&r.splice(e-1,3,new Zi(n.length+1+i.length))}const Pw=5;class Xd{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let i=Math.min(n,this.lineEnd),o=this.nodes[this.nodes.length-1];o instanceof Pr?o.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Pr(i-this.pos,-1)),this.writtenTo=i,n>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,i){if(e<n||i.heightRelevant){let o=i.widget?i.widget.estimatedHeight:0;o<0&&(o=this.oracle.lineHeight);let a=n-e;i.block?this.addBlock(new Hv(a,o,i.type)):(a||o>=Pw)&&this.addLineDeco(o,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Pr(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let i=new Zi(n-e);return this.oracle.doc.lineAt(e).to==n&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Pr)return e;let n=new Pr(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine(),e.type==Zn.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Zn.WidgetBefore&&(this.covering=e)}addLineDeco(e,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Pr)&&!this.isCovered?this.nodes.push(new Pr(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let o of this.nodes)o instanceof Pr&&o.updateHeight(this.oracle,i),i+=o?o.length:1;return this.nodes}static build(e,n,i,o){let a=new Xd(i,e);return Qn.spans(n,i,o,a,0),a.finish(i)}}function Cw(r,e,n){let i=new Tw;return Qn.compare(r,e,n,i,0),i.changes}class Tw{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,i,o){(e<n||i&&i.heightRelevant||o&&o.heightRelevant)&&nd(e,n,this.changes,5)}}function Ew(r,e){let n=r.getBoundingClientRect(),i=r.ownerDocument,o=i.defaultView||window,a=Math.max(0,n.left),c=Math.min(o.innerWidth,n.right),f=Math.max(0,n.top),d=Math.min(o.innerHeight,n.bottom);for(let m=r.parentNode;m&&m!=i.body;)if(m.nodeType==1){let O=m,y=window.getComputedStyle(O);if((O.scrollHeight>O.clientHeight||O.scrollWidth>O.clientWidth)&&y.overflow!="visible"){let P=O.getBoundingClientRect();a=Math.max(a,P.left),c=Math.min(c,P.right),f=Math.max(f,P.top),d=m==r.parentNode?P.bottom:Math.min(d,P.bottom)}m=y.position=="absolute"||y.position=="fixed"?O.offsetParent:O.parentNode}else if(m.nodeType==11)m=m.host;else break;return{left:a-n.left,right:Math.max(a,c)-n.left,top:f-(n.top+e),bottom:Math.max(f,d)-(n.top+e)}}function Aw(r,e){let n=r.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class gh{constructor(e,n,i){this.from=e,this.to=n,this.size=i}static same(e,n){if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let o=e[i],a=n[i];if(o.from!=a.from||o.to!=a.to||o.size!=a.size)return!1}return!0}draw(e){return kt.replace({widget:new Dw(this.size,e)}).range(this.from,this.to)}}class Dw extends Fs{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Eg{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=Ag,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Kn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(Md).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new Sw(n),this.stateDeco=e.facet(Ll).filter(i=>typeof i!="function"),this.heightMap=nr.empty().applyChanges(this.stateDeco,mn.empty,this.heightOracle.setDoc(e.doc),[new $s(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=kt.set(this.lineGaps.map(i=>i.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let i=0;i<=1;i++){let o=i?n.head:n.anchor;if(!e.some(({from:a,to:c})=>o>=a&&o<=c)){let{from:a,to:c}=this.lineBlockAt(o);e.push(new tf(a,c))}}this.viewports=e.sort((i,o)=>i.from-o.from),this.scaler=this.heightMap.height<=7e6?Ag:new Xw(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Dl(e,this.scaler))})}update(e,n=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Ll).filter(m=>typeof m!="function");let o=e.changedRanges,a=$s.extendWithRanges(o,Cw(i,this.stateDeco,e?e.changes:wi.empty(this.state.doc.length))),c=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),this.heightMap.height!=c&&(e.flags|=2);let f=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<f.from||n.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,n));let d=!e.changes.empty||e.flags&2||f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,this.updateForViewport(),d&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Dv)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,i=window.getComputedStyle(n),o=this.heightOracle,a=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?Kn.RTL:Kn.LTR;let c=this.heightOracle.mustRefreshForWrapping(a),f=n.getBoundingClientRect(),d=c||this.mustMeasureContent||this.contentDOMHeight!=f.height;this.contentDOMHeight=f.height,this.mustMeasureContent=!1;let m=0,O=0,y=parseInt(i.paddingTop)||0,P=parseInt(i.paddingBottom)||0;(this.paddingTop!=y||this.paddingBottom!=P)&&(this.paddingTop=y,this.paddingBottom=P,m|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(o.lineWrapping&&(d=!0),this.editorWidth=e.scrollDOM.clientWidth,m|=8);let C=(this.printing?Aw:Ew)(n,this.paddingTop),W=C.top-this.pixelViewport.top,ae=C.bottom-this.pixelViewport.bottom;this.pixelViewport=C;let fe=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(fe!=this.inView&&(this.inView=fe,fe&&(d=!0)),!this.inView&&!this.scrollTarget)return 0;let xe=f.width;if((this.contentDOMWidth!=xe||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=f.width,this.editorHeight=e.scrollDOM.clientHeight,m|=8),d){let Ee=e.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(Ee)&&(c=!0),c||o.lineWrapping&&Math.abs(xe-this.contentDOMWidth)>o.charWidth){let{lineHeight:le,charWidth:we}=e.docView.measureTextSize();c=le>0&&o.refresh(a,le,we,xe/we,Ee),c&&(e.docView.minWidth=0,m|=8)}W>0&&ae>0?O=Math.max(W,ae):W<0&&ae<0&&(O=Math.min(W,ae)),o.heightChanged=!1;for(let le of this.viewports){let we=le.from==this.viewport.from?Ee:e.docView.measureVisibleLineHeights(le);this.heightMap=(c?nr.empty().applyChanges(this.stateDeco,mn.empty,this.heightOracle,[new $s(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(o,0,c,new Qw(le.from,we))}o.heightChanged&&(m|=2)}let je=!this.viewportIsAppropriate(this.viewport,O)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return je&&(this.viewport=this.getViewport(O,this.scrollTarget)),this.updateForViewport(),(m&2||je)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(c?[]:this.lineGaps,e)),m|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),m}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),o=this.heightMap,a=this.heightOracle,{visibleTop:c,visibleBottom:f}=this,d=new tf(o.lineAt(c-i*1e3,qn.ByHeight,a,0,0).from,o.lineAt(f+(1-i)*1e3,qn.ByHeight,a,0,0).to);if(n){let{head:m}=n.range;if(m<d.from||m>d.to){let O=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=o.lineAt(m,qn.ByPos,a,0,0),P;n.y=="center"?P=(y.top+y.bottom)/2-O/2:n.y=="start"||n.y=="nearest"&&m<d.from?P=y.top:P=y.bottom-O,d=new tf(o.lineAt(P-1e3/2,qn.ByHeight,a,0,0).from,o.lineAt(P+O+1e3/2,qn.ByHeight,a,0,0).to)}}return d}mapViewport(e,n){let i=n.mapPos(e.from,-1),o=n.mapPos(e.to,1);return new tf(this.heightMap.lineAt(i,qn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(o,qn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},i=0){if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(e,qn.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(n,qn.ByPos,this.heightOracle,0,0),{visibleTop:c,visibleBottom:f}=this;return(e==0||o<=c-Math.max(10,Math.min(-i,250)))&&(n==this.state.doc.length||a>=f+Math.max(10,Math.min(i,250)))&&o>c-2*1e3&&a<f+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let i=[];for(let o of e)n.touchesRange(o.from,o.to)||i.push(new gh(n.mapPos(o.from),n.mapPos(o.to),o.size));return i}ensureLineGaps(e,n){let i=this.heightOracle.lineWrapping,o=i?1e4:2e3,a=o>>1,c=o<<1;if(this.defaultTextDirection!=Kn.LTR&&!i)return[];let f=[],d=(m,O,y,P)=>{if(O-m<a)return;let C=this.state.selection.main,W=[C.from];C.empty||W.push(C.to);for(let fe of W)if(fe>m&&fe<O){d(m,fe-10,y,P),d(fe+10,O,y,P);return}let ae=Mw(e,fe=>fe.from>=y.from&&fe.to<=y.to&&Math.abs(fe.from-m)<a&&Math.abs(fe.to-O)<a&&!W.some(xe=>fe.from<xe&&fe.to>xe));if(!ae){if(O<y.to&&n&&i&&n.visibleRanges.some(fe=>fe.from<=O&&fe.to>=O)){let fe=n.moveToLineBoundary($e.cursor(O),!1,!0).head;fe>m&&(O=fe)}ae=new gh(m,O,this.gapSize(y,m,O,P))}f.push(ae)};for(let m of this.viewportLines){if(m.length<c)continue;let O=Zw(m.from,m.to,this.stateDeco);if(O.total<c)continue;let y=this.scrollTarget?this.scrollTarget.range.head:null,P,C;if(i){let W=o/this.heightOracle.lineLength*this.heightOracle.lineHeight,ae,fe;if(y!=null){let xe=rf(O,y),je=((this.visibleBottom-this.visibleTop)/2+W)/m.height;ae=xe-je,fe=xe+je}else ae=(this.visibleTop-m.top-W)/m.height,fe=(this.visibleBottom-m.top+W)/m.height;P=nf(O,ae),C=nf(O,fe)}else{let W=O.total*this.heightOracle.charWidth,ae=o*this.heightOracle.charWidth,fe,xe;if(y!=null){let je=rf(O,y),Ee=((this.pixelViewport.right-this.pixelViewport.left)/2+ae)/W;fe=je-Ee,xe=je+Ee}else fe=(this.pixelViewport.left-ae)/W,xe=(this.pixelViewport.right+ae)/W;P=nf(O,fe),C=nf(O,xe)}P>m.from&&d(m.from,P,m,O),C<m.to&&d(C,m.to,m,O)}return f}gapSize(e,n,i,o){let a=rf(o,i)-rf(o,n);return this.heightOracle.lineWrapping?e.height*a:o.total*this.heightOracle.charWidth*a}updateLineGaps(e){gh.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=kt.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];Qn.spans(e,this.viewport.from,this.viewport.to,{span(o,a){n.push({from:o,to:a})},point(){}},20);let i=n.length!=this.visibleRanges.length||this.visibleRanges.some((o,a)=>o.from!=n[a].from||o.to!=n[a].to);return this.visibleRanges=n,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Dl(this.heightMap.lineAt(e,qn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Dl(this.heightMap.lineAt(this.scaler.fromDOM(e),qn.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Dl(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class tf{constructor(e,n){this.from=e,this.to=n}}function Zw(r,e,n){let i=[],o=r,a=0;return Qn.spans(n,r,e,{span(){},point(c,f){c>o&&(i.push({from:o,to:c}),a+=c-o),o=f}},20),o<e&&(i.push({from:o,to:e}),a+=e-o),{total:a,ranges:i}}function nf({total:r,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let i=Math.floor(r*n);for(let o=0;;o++){let{from:a,to:c}=e[o],f=c-a;if(i<=f)return a+i;i-=f}}function rf(r,e){let n=0;for(let{from:i,to:o}of r.ranges){if(e<=o){n+=e-i;break}n+=o-i}return n/r.total}function Mw(r,e){for(let n of r)if(e(n))return n}const Ag={toDOM(r){return r},fromDOM(r){return r},scale:1};class Xw{constructor(e,n,i){let o=0,a=0,c=0;this.viewports=i.map(({from:f,to:d})=>{let m=n.lineAt(f,qn.ByPos,e,0,0).top,O=n.lineAt(d,qn.ByPos,e,0,0).bottom;return o+=O-m,{from:f,to:d,top:m,bottom:O,domTop:0,domBottom:0}}),this.scale=(7e6-o)/(n.height-o);for(let f of this.viewports)f.domTop=c+(f.top-a)*this.scale,c=f.domBottom=f.domTop+(f.bottom-f.top),a=f.bottom}toDOM(e){for(let n=0,i=0,o=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.top)return o+(e-i)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);i=a.bottom,o=a.domBottom}}fromDOM(e){for(let n=0,i=0,o=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.domTop)return i+(e-o)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);i=a.bottom,o=a.domBottom}}}function Dl(r,e){if(e.scale==1)return r;let n=e.toDOM(r.top),i=e.toDOM(r.bottom);return new Ls(r.from,r.length,n,i-n,Array.isArray(r.type)?r.type.map(o=>Dl(o,e)):r.type)}const sf=pt.define({combine:r=>r.join(" ")}),cd=pt.define({combine:r=>r.indexOf(!0)>-1}),fd=po.newName(),Jv=po.newName(),Kv=po.newName(),e0={"&light":"."+Jv,"&dark":"."+Kv};function ud(r,e,n){return new po(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,o=>{if(o=="&")return r;if(!n||!n[o])throw new RangeError(`Unsupported selector: ${o}`);return n[o]}):r+" "+i}})}const Rw=ud("."+fd,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},e0);class Yw{constructor(e,n,i,o){this.typeOver=o,this.bounds=null,this.text="";let{impreciseHead:a,impreciseAnchor:c}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,i,0))){let f=a||c?[]:jw(e),d=new jv(f,e.state);d.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=d.text,this.newSel=Uw(f,this.bounds.from)}else{let f=e.observer.selectionRange,d=a&&a.node==f.focusNode&&a.offset==f.focusOffset||!Wa(e.contentDOM,f.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(f.focusNode,f.focusOffset),m=c&&c.node==f.anchorNode&&c.offset==f.anchorOffset||!Wa(e.contentDOM,f.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(f.anchorNode,f.anchorOffset);this.newSel=$e.single(m,d)}}}function t0(r,e){let n,{newSel:i}=e,o=r.state.selection.main;if(e.bounds){let{from:a,to:c}=e.bounds,f=o.from,d=null;(r.inputState.lastKeyCode===8&&r.inputState.lastKeyTime>Date.now()-100||gt.android&&e.text.length<c-a)&&(f=o.to,d="end");let m=Ww(r.state.doc.sliceString(a,c,co),e.text,f-a,d);m&&(gt.chrome&&r.inputState.lastKeyCode==13&&m.toB==m.from+2&&e.text.slice(m.from,m.toB)==co+co&&m.toB--,n={from:a+m.from,to:a+m.toA,insert:mn.of(e.text.slice(m.from,m.toB).split(co))})}else i&&(!r.hasFocus&&r.state.facet(su)||i.main.eq(o))&&(i=null);if(!n&&!i)return!1;if(!n&&e.typeOver&&!o.empty&&i&&i.main.empty?n={from:o.from,to:o.to,insert:r.state.doc.slice(o.from,o.to)}:n&&n.from>=o.from&&n.to<=o.to&&(n.from!=o.from||n.to!=o.to)&&o.to-o.from-(n.to-n.from)<=4?n={from:o.from,to:o.to,insert:r.state.doc.slice(o.from,n.from).append(n.insert).append(r.state.doc.slice(n.to,o.to))}:(gt.mac||gt.android)&&n&&n.from==n.to&&n.from==o.head-1&&/^\. ?$/.test(n.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(i&&n.insert.length==2&&(i=$e.single(i.main.anchor-1,i.main.head-1)),n={from:o.from,to:o.to,insert:mn.of([" "])}):gt.chrome&&n&&n.from==n.to&&n.from==o.head&&n.insert.toString()==`
 `&&r.lineWrapping&&(i&&(i=$e.single(i.main.anchor-1,i.main.head-1)),n={from:o.from,to:o.to,insert:mn.of([" "])}),n){let a=r.state;if(gt.ios&&r.inputState.flushIOSKey(r)||gt.android&&(n.from==o.from&&n.to==o.to&&n.insert.length==1&&n.insert.lines==2&&Za(r.contentDOM,"Enter",13)||n.from==o.from-1&&n.to==o.to&&n.insert.length==0&&Za(r.contentDOM,"Backspace",8)||n.from==o.from&&n.to==o.to+1&&n.insert.length==0&&Za(r.contentDOM,"Delete",46)))return!0;let c=n.insert.toString();if(r.state.facet(Tv).some(m=>m(r,n.from,n.to,c)))return!0;r.inputState.composing>=0&&r.inputState.composing++;let f;if(n.from>=o.from&&n.to<=o.to&&n.to-n.from>=(o.to-o.from)/3&&(!i||i.main.empty&&i.main.from==n.from+n.insert.length)&&r.inputState.composing<0){let m=o.from<n.from?a.sliceDoc(o.from,n.from):"",O=o.to>n.to?a.sliceDoc(n.to,o.to):"";f=a.replaceSelection(r.state.toText(m+n.insert.sliceString(0,void 0,r.state.lineBreak)+O))}else{let m=a.changes(n),O=i&&!a.selection.main.eq(i.main)&&i.main.to<=m.newLength?i.main:void 0;if(a.selection.ranges.length>1&&r.inputState.composing>=0&&n.to<=o.to&&n.to>=o.to-10){let y=r.state.sliceDoc(n.from,n.to),P=Uv(r)||r.state.doc.lineAt(o.head),C=o.to-n.to,W=o.to-o.from;f=a.changeByRange(ae=>{if(ae.from==o.from&&ae.to==o.to)return{changes:m,range:O||ae.map(m)};let fe=ae.to-C,xe=fe-y.length;if(ae.to-ae.from!=W||r.state.sliceDoc(xe,fe)!=y||P&&ae.to>=P.from&&ae.from<=P.to)return{range:ae};let je=a.changes({from:xe,to:fe,insert:n.insert}),Ee=ae.to-o.to;return{changes:je,range:O?$e.range(Math.max(0,O.anchor+Ee),Math.max(0,O.head+Ee)):ae.map(je)}})}else f={changes:m,selection:O&&a.selection.replaceRange(O)}}let d="input.type";return r.composing&&(d+=".compose",r.inputState.compositionFirstChange&&(d+=".start",r.inputState.compositionFirstChange=!1)),r.dispatch(f,{scrollIntoView:!0,userEvent:d}),!0}else if(i&&!i.main.eq(o)){let a=!1,c="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(a=!0),c=r.inputState.lastSelectionOrigin),r.dispatch({selection:i,scrollIntoView:a,userEvent:c}),!0}else return!1}function Ww(r,e,n,i){let o=Math.min(r.length,e.length),a=0;for(;a<o&&r.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==o&&r.length==e.length)return null;let c=r.length,f=e.length;for(;c>0&&f>0&&r.charCodeAt(c-1)==e.charCodeAt(f-1);)c--,f--;if(i=="end"){let d=Math.max(0,a-Math.min(c,f));n-=c+d-a}return c<a&&r.length<e.length?(a-=n<=a&&n>=c?a-n:0,f=a+(f-c),c=a):f<a&&(a-=n<=a&&n>=f?a-n:0,c=a+(c-f),f=a),{from:a,toA:c,toB:f}}function jw(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:n,anchorOffset:i,focusNode:o,focusOffset:a}=r.observer.selectionRange;return n&&(e.push(new dg(n,i)),(o!=n||a!=i)&&e.push(new dg(o,a))),e}function Uw(r,e){if(r.length==0)return null;let n=r[0].pos,i=r.length==2?r[1].pos:n;return n>-1&&i>-1?$e.single(n+e,i+e):null}const qw={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Oh=gt.ie&&gt.ie_version<=11;class zw{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Xb,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let i of n)this.queue.push(i);(gt.ie&&gt.ie_version<=11||gt.ios&&e.composing)&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Oh&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,i)=>n!=e[i]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,o=this.selectionRange;if(i.state.facet(su)?i.root.activeElement!=this.dom:!yf(i.dom,o))return;let a=o.anchorNode&&i.docView.nearest(o.anchorNode);if(a&&a.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(gt.ie&&gt.ie_version<=11||gt.android&&gt.chrome)&&!i.state.selection.main.empty&&o.focusNode&&Cf(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=gt.safari&&e.root.nodeType==11&&Ab(this.dom.ownerDocument)==this.dom&&Iw(this.view)||Pf(e.root);if(!n||this.selectionRange.eq(n))return!1;let i=yf(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Yb(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let i=this.dom;i;)if(i.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=n)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,qw),Oh&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),Oh&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var i;if(!this.delayedAndroidKey){let o=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),!this.flush()&&a.force&&Za(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(o)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let a of this.observer.takeRecords())e.push(a);e.length&&(this.queue=[]);let n=-1,i=-1,o=!1;for(let a of e){let c=this.readMutation(a);!c||(c.typeOver&&(o=!0),n==-1?{from:n,to:i}=c:(n=Math.min(c.from,n),i=Math.max(c.to,i)))}return{from:n,to:i,typeOver:o}}readChange(){let{from:e,to:n,typeOver:i}=this.processRecords(),o=this.selectionChanged&&yf(this.dom,this.selectionRange);return e<0&&!o?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new Yw(this.view,e,n,i))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return!1;let i=this.view.state,o=t0(this.view,n);return this.view.state==i&&this.view.update([]),o}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){let i=Dg(n,e.previousSibling||e.target.previousSibling,-1),o=Dg(n,e.nextSibling||e.target.nextSibling,1);return{from:i?n.posAfter(i):n.posAtStart,to:o?n.posBefore(o):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,i,o;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(o=this.resizeContent)===null||o===void 0||o.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Dg(r,e,n){for(;e;){let i=zn.get(e);if(i&&i.parent==r)return i;let o=e.parentNode;e=o!=r.dom?o:n>0?e.nextSibling:e.previousSibling}return null}function Iw(r){let e=null;function n(d){d.preventDefault(),d.stopImmediatePropagation(),e=d.getTargetRanges()[0]}if(r.contentDOM.addEventListener("beforeinput",n,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let i=e.startContainer,o=e.startOffset,a=e.endContainer,c=e.endOffset,f=r.docView.domAtPos(r.state.selection.main.anchor);return Cf(f.node,f.offset,a,c)&&([i,o,a,c]=[a,c,i,o]),{anchorNode:i,anchorOffset:o,focusNode:a,focusOffset:c}}class Ot{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this._root=e.root||Rb(e.parent)||document,this.viewState=new Eg(e.state||ln.create(e)),this.plugins=this.state.facet(El).map(n=>new dh(n));for(let n of this.plugins)n.update(this);this.observer=new zw(this),this.inputState=new hw(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new pg(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof xi?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,i=!1,o,a=this.state;for(let m of e){if(m.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=m.state}if(this.destroyed){this.viewState.state=a;return}let c=this.observer.delayedAndroidKey,f=null;if(c?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(f=null)):this.observer.clear(),a.facet(ln.phrases)!=this.state.facet(ln.phrases))return this.setState(a);o=Af.create(this,a,e);let d=this.viewState.scrollTarget;try{this.updateState=2;for(let m of e){if(d&&(d=d.map(m.changes)),m.scrollIntoView){let{main:O}=m.state.selection;d=new Ef(O.empty?O:$e.cursor(O.head,O.head>O.anchor?-1:1))}for(let O of m.effects)O.is(ug)&&(d=O.value)}this.viewState.update(o,d),this.bidiCache=Df.update(this.bidiCache,o.changes),o.empty||(this.updatePlugins(o),this.inputState.update(o)),n=this.docView.update(o),this.state.facet(Al)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(o.startState.facet(sf)!=o.state.facet(sf)&&(this.viewState.mustMeasureContent=!0),(n||i||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!o.empty)for(let m of this.state.facet(id))m(o);f&&!t0(this,f)&&c.force&&Za(this.contentDOM,c.key,c.keyCode)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Eg(e),this.plugins=e.facet(El).map(i=>new dh(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new pg(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(El),i=e.state.facet(El);if(n!=i){let o=[];for(let a of i){let c=n.indexOf(a);if(c<0)o.push(new dh(a));else{let f=this.plugins[c];f.mustUpdate=e,o.push(f)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=o,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let o of this.plugins)o.mustUpdate=e;for(let o=0;o<this.plugins.length;o++)this.plugins[o].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,{scrollHeight:i,scrollTop:o,clientHeight:a}=this.scrollDOM,c=o>i-a-4?i:o;try{for(let f=0;;f++){this.updateState=1;let d=this.viewport,m=this.viewState.lineBlockAtHeight(c),O=this.viewState.measure(this);if(!O&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(f>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let y=[];O&4||([this.measureRequests,y]=[y,this.measureRequests]);let P=y.map(fe=>{try{return fe.read(this)}catch(xe){return Er(this.state,xe),Zg}}),C=Af.create(this,this.state,[]),W=!1,ae=!1;C.flags|=O,n?n.flags|=O:n=C,this.updateState=2,C.empty||(this.updatePlugins(C),this.inputState.update(C),this.updateAttrs(),W=this.docView.update(C));for(let fe=0;fe<y.length;fe++)if(P[fe]!=Zg)try{let xe=y[fe];xe.write&&xe.write(P[fe],this)}catch(xe){Er(this.state,xe)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,ae=!0;else{let fe=this.viewState.lineBlockAt(m.from).top-m.top;(fe>1||fe<-1)&&(this.scrollDOM.scrollTop+=fe,ae=!0)}if(W&&this.docView.updateSelection(!0),this.viewport.from==d.from&&this.viewport.to==d.to&&!ae&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let f of this.state.facet(id))f(n)}get themeClasses(){return fd+" "+(this.state.facet(cd)?Kv:Jv)+" "+this.state.facet(sf)}updateAttrs(){let e=Mg(this,Zv,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(su)?"true":"false",class:"cm-content",style:`${gt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Mg(this,Md,n);let i=this.observer.ignore(()=>{let o=td(this.contentDOM,this.contentAttrs,n),a=td(this.dom,this.editorAttrs,e);return o||a});return this.editorAttrs=e,this.contentAttrs=n,i}showAnnouncements(e){let n=!0;for(let i of e)for(let o of i.effects)if(o.is(Ot.announce)){n&&(this.announceDOM.textContent=""),n=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=o.value}}mountStyles(){this.styleModules=this.state.facet(Al),po.mount(this.root,this.styleModules.concat(Rw).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(i=>i.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,i){return mh(this,e,bg(this,e,n,i))}moveByGroup(e,n){return mh(this,e,bg(this,e,n,i=>fw(this,e.head,i)))}moveToLineBoundary(e,n,i=!0){return cw(this,e,n,i)}moveVertically(e,n,i){return mh(this,e,uw(this,e,n,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),zv(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let i=this.docView.coordsAt(e,n);if(!i||i.left==i.right)return i;let o=this.state.doc.lineAt(e),a=this.bidiSpans(o),c=a[Ma.find(a,e-o.from,-1,n)];return Ed(i,c.dir==Kn.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Av)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Vw)return Yv(e.length);let n=this.textDirectionAt(e.from);for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n)return o.order;let i=Nb(e.text,n);return this.bidiCache.push(new Df(e.from,e.to,n,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||gt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{dv(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return ug.of(new Ef(typeof e=="number"?$e.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return pi.define(()=>({}),{eventHandlers:e})}static theme(e,n){let i=po.newName(),o=[sf.of(i),Al.of(ud(`.${i}`,e))];return n&&n.dark&&o.push(cd.of(!0)),o}static baseTheme(e){return Fo.lowest(Al.of(ud("."+fd,e,e0)))}static findFromDOM(e){var n;let i=e.querySelector(".cm-content"),o=i&&zn.get(i)||zn.get(e);return((n=o==null?void 0:o.rootView)===null||n===void 0?void 0:n.view)||null}}Ot.styleModule=Al;Ot.inputHandler=Tv;Ot.focusChangeEffect=Ev;Ot.perLineTextDirection=Av;Ot.exceptionSink=Cv;Ot.updateListener=id;Ot.editable=su;Ot.mouseSelectionStyle=Pv;Ot.dragMovesSelection=$v;Ot.clickAddsSelectionRange=Qv;Ot.decorations=Ll;Ot.atomicRanges=Mv;Ot.scrollMargins=Xv;Ot.darkTheme=cd;Ot.contentAttributes=Md;Ot.editorAttributes=Zv;Ot.lineWrapping=Ot.contentAttributes.of({class:"cm-lineWrapping"});Ot.announce=Ut.define();const Vw=4096,Zg={};class Df{constructor(e,n,i,o){this.from=e,this.to=n,this.dir=i,this.order=o}static update(e,n){if(n.empty)return e;let i=[],o=e.length?e[e.length-1].dir:Kn.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let c=e[a];c.dir==o&&!n.touchesRange(c.from,c.to)&&i.push(new Df(n.mapPos(c.from,1),n.mapPos(c.to,-1),c.dir,c.order))}return i}}function Mg(r,e,n){for(let i=r.state.facet(e),o=i.length-1;o>=0;o--){let a=i[o],c=typeof a=="function"?a(r):a;c&&ed(c,n)}return n}const Lw=gt.mac?"mac":gt.windows?"win":gt.linux?"linux":"key";function Bw(r,e){const n=r.split(/-(?!$)/);let i=n[n.length-1];i=="Space"&&(i=" ");let o,a,c,f;for(let d=0;d<n.length-1;++d){const m=n[d];if(/^(cmd|meta|m)$/i.test(m))f=!0;else if(/^a(lt)?$/i.test(m))o=!0;else if(/^(c|ctrl|control)$/i.test(m))a=!0;else if(/^s(hift)?$/i.test(m))c=!0;else if(/^mod$/i.test(m))e=="mac"?f=!0:a=!0;else throw new Error("Unrecognized modifier name: "+m)}return o&&(i="Alt-"+i),a&&(i="Ctrl-"+i),f&&(i="Meta-"+i),c&&(i="Shift-"+i),i}function of(r,e,n){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),n!==!1&&e.shiftKey&&(r="Shift-"+r),r}const Fw=Fo.default(Ot.domEventHandlers({keydown(r,e){return i0(n0(e.state),r,e,"editor")}})),ou=pt.define({enables:Fw}),Xg=new WeakMap;function n0(r){let e=r.facet(ou),n=Xg.get(e);return n||Xg.set(e,n=Hw(e.reduce((i,o)=>i.concat(o),[]))),n}function Nw(r,e,n){return i0(n0(r.state),e,r,n)}let oo=null;const Gw=4e3;function Hw(r,e=Lw){let n=Object.create(null),i=Object.create(null),o=(c,f)=>{let d=i[c];if(d==null)i[c]=f;else if(d!=f)throw new Error("Key binding "+c+" is used both as a regular binding and as a multi-stroke prefix")},a=(c,f,d,m)=>{var O,y;let P=n[c]||(n[c]=Object.create(null)),C=f.split(/ (?!$)/).map(fe=>Bw(fe,e));for(let fe=1;fe<C.length;fe++){let xe=C.slice(0,fe).join(" ");o(xe,!0),P[xe]||(P[xe]={preventDefault:!0,run:[je=>{let Ee=oo={view:je,prefix:xe,scope:c};return setTimeout(()=>{oo==Ee&&(oo=null)},Gw),!0}]})}let W=C.join(" ");o(W,!1);let ae=P[W]||(P[W]={preventDefault:!1,run:((y=(O=P._any)===null||O===void 0?void 0:O.run)===null||y===void 0?void 0:y.slice())||[]});d&&ae.run.push(d),m&&(ae.preventDefault=!0)};for(let c of r){let f=c.scope?c.scope.split(" "):["editor"];if(c.any)for(let m of f){let O=n[m]||(n[m]=Object.create(null));O._any||(O._any={preventDefault:!1,run:[]});for(let y in O)O[y].run.push(c.any)}let d=c[e]||c.key;if(!!d)for(let m of f)a(m,d,c.run,c.preventDefault),c.shift&&a(m,"Shift-"+d,c.shift,c.preventDefault)}return n}function i0(r,e,n,i){let o=Eb(e),a=Mi(o,0),c=jr(a)==o.length&&o!=" ",f="",d=!1;oo&&oo.view==n&&oo.scope==i&&(f=oo.prefix+" ",(d=Vv.indexOf(e.keyCode)<0)&&(oo=null));let m=new Set,O=W=>{if(W){for(let ae of W.run)if(!m.has(ae)&&(m.add(ae),ae(n,e)))return!0;W.preventDefault&&(d=!0)}return!1},y=r[i],P,C;if(y){if(O(y[f+of(o,e,!c)]))return!0;if(c&&(e.altKey||e.metaKey||e.ctrlKey)&&!(gt.windows&&e.ctrlKey&&e.altKey)&&(P=mo[e.keyCode])&&P!=o){if(O(y[f+of(P,e,!0)]))return!0;if(e.shiftKey&&(C=zl[e.keyCode])!=o&&C!=P&&O(y[f+of(C,e,!1)]))return!0}else if(c&&e.shiftKey&&O(y[f+of(o,e,!0)]))return!0;if(O(y._any))return!0}return d}class nc{constructor(e,n,i,o,a){this.className=e,this.left=n,this.top=i,this.width=o,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,i){if(i.empty){let o=e.coordsAtPos(i.head,i.assoc||1);if(!o)return[];let a=r0(e);return[new nc(n,o.left-a.left,o.top-a.top,null,o.bottom-o.top)]}else return Jw(e,n,i)}}function r0(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==Kn.LTR?e.left:e.right-r.scrollDOM.clientWidth)-r.scrollDOM.scrollLeft,top:e.top-r.scrollDOM.scrollTop}}function Rg(r,e,n){let i=$e.cursor(e);return{from:Math.max(n.from,r.moveToLineBoundary(i,!1,!0).from),to:Math.min(n.to,r.moveToLineBoundary(i,!0,!0).from),type:Zn.Text}}function Yg(r,e){let n=r.lineBlockAt(e);if(Array.isArray(n.type)){for(let i of n.type)if(i.to>e||i.to==e&&(i.to==n.to||i.type==Zn.Text))return i}return n}function Jw(r,e,n){if(n.to<=r.viewport.from||n.from>=r.viewport.to)return[];let i=Math.max(n.from,r.viewport.from),o=Math.min(n.to,r.viewport.to),a=r.textDirection==Kn.LTR,c=r.contentDOM,f=c.getBoundingClientRect(),d=r0(r),m=window.getComputedStyle(c.firstChild),O=f.left+parseInt(m.paddingLeft)+Math.min(0,parseInt(m.textIndent)),y=f.right-parseInt(m.paddingRight),P=Yg(r,i),C=Yg(r,o),W=P.type==Zn.Text?P:null,ae=C.type==Zn.Text?C:null;if(r.lineWrapping&&(W&&(W=Rg(r,i,W)),ae&&(ae=Rg(r,o,ae))),W&&ae&&W.from==ae.from)return xe(je(n.from,n.to,W));{let le=W?je(n.from,null,W):Ee(P,!1),we=ae?je(null,n.to,ae):Ee(C,!0),Ae=[];return(W||P).to<(ae||C).from-1?Ae.push(fe(O,le.bottom,y,we.top)):le.bottom<we.top&&r.elementAtHeight((le.bottom+we.top)/2).type==Zn.Text&&(le.bottom=we.top=(le.bottom+we.top)/2),xe(le).concat(Ae).concat(xe(we))}function fe(le,we,Ae,it){return new nc(e,le-d.left,we-d.top-.01,Ae-le,it-we+.01)}function xe({top:le,bottom:we,horizontal:Ae}){let it=[];for(let Jt=0;Jt<Ae.length;Jt+=2)it.push(fe(Ae[Jt],le,Ae[Jt+1],we));return it}function je(le,we,Ae){let it=1e9,Jt=-1e9,re=[];function Rt(Et,Dt,cn,In,vn){let _t=r.coordsAtPos(Et,Et==Ae.to?-2:2),on=r.coordsAtPos(cn,cn==Ae.from?2:-2);it=Math.min(_t.top,on.top,it),Jt=Math.max(_t.bottom,on.bottom,Jt),vn==Kn.LTR?re.push(a&&Dt?O:_t.left,a&&In?y:on.right):re.push(!a&&In?O:on.left,!a&&Dt?y:_t.right)}let V=le!=null?le:Ae.from,Wn=we!=null?we:Ae.to;for(let Et of r.visibleRanges)if(Et.to>V&&Et.from<Wn)for(let Dt=Math.max(Et.from,V),cn=Math.min(Et.to,Wn);;){let In=r.state.doc.lineAt(Dt);for(let vn of r.bidiSpans(In)){let _t=vn.from+In.from,on=vn.to+In.from;if(_t>=cn)break;on>Dt&&Rt(Math.max(_t,Dt),le==null&&_t<=V,Math.min(on,cn),we==null&&on>=Wn,vn.dir)}if(Dt=In.to+1,Dt>=cn)break}return re.length==0&&Rt(V,le==null,Wn,we==null,r.textDirection),{top:it,bottom:Jt,horizontal:re}}function Ee(le,we){let Ae=f.top+(we?le.top:le.bottom);return{top:Ae,bottom:Ae,horizontal:[]}}}function Kw(r,e){return r.constructor==e.constructor&&r.eq(e)}class e1{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(wf)!=e.state.facet(wf)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let n=0,i=e.facet(wf);for(;n<i.length&&i[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((n,i)=>!Kw(n,this.drawn[i]))){let n=this.dom.firstChild,i=0;for(let o of e)o.update&&n&&o.constructor&&this.drawn[i].constructor&&o.update(n,this.drawn[i])?(n=n.nextSibling,i++):this.dom.insertBefore(o.draw(),n);for(;n;){let o=n.nextSibling;n.remove(),n=o}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const wf=pt.define();function s0(r){return[pi.define(e=>new e1(e,r)),wf.of(r)]}const o0=!gt.ios,Bl=pt.define({combine(r){return Cs(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function t1(r={}){return[Bl.of(r),n1,i1,r1,Dv.of(!0)]}function a0(r){return r.startState.facet(Bl)!=r.state.facet(Bl)}const n1=s0({above:!0,markers(r){let{state:e}=r,n=e.facet(Bl),i=[];for(let o of e.selection.ranges){let a=o==e.selection.main;if(o.empty?!a||o0:n.drawRangeCursor){let c=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",f=o.empty?o:$e.cursor(o.head,o.head>o.anchor?-1:1);for(let d of nc.forRange(r,c,f))i.push(d)}}return i},update(r,e){r.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=a0(r);return n&&Wg(r.state,e),r.docChanged||r.selectionSet||n},mount(r,e){Wg(e.state,r)},class:"cm-cursorLayer"});function Wg(r,e){e.style.animationDuration=r.facet(Bl).cursorBlinkRate+"ms"}const i1=s0({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:nc.forRange(r,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||a0(r)},class:"cm-selectionLayer"}),l0={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};o0&&(l0[".cm-line"].caretColor="transparent !important");const r1=Fo.highest(Ot.theme(l0)),c0=Ut.define({map(r,e){return r==null?null:e.mapPos(r)}}),Zl=Ti.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((n,i)=>i.is(c0)?i.value:n,r)}}),s1=pi.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let n=r.state.field(Zl);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(Zl)!=n||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let r=this.view.state.field(Zl),e=r!=null&&this.view.coordsAtPos(r);if(!e)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+this.view.scrollDOM.scrollLeft,top:e.top-n.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(r){this.cursor&&(r?(this.cursor.style.left=r.left+"px",this.cursor.style.top=r.top+"px",this.cursor.style.height=r.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(Zl)!=r&&this.view.dispatch({effects:c0.of(r)})}},{eventHandlers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function o1(){return[Zl,s1]}function jg(r,e,n,i,o){e.lastIndex=0;for(let a=r.iterRange(n,i),c=n,f;!a.next().done;c+=a.value.length)if(!a.lineBreak)for(;f=e.exec(a.value);)o(c+f.index,f)}function a1(r,e){let n=r.visibleRanges;if(n.length==1&&n[0].from==r.viewport.from&&n[0].to==r.viewport.to)return n;let i=[];for(let{from:o,to:a}of n)o=Math.max(r.state.doc.lineAt(o).from,o-e),a=Math.min(r.state.doc.lineAt(a).to,a+e),i.length&&i[i.length-1].to>=o?i[i.length-1].to=a:i.push({from:o,to:a});return i}class l1{constructor(e){const{regexp:n,decoration:i,decorate:o,boundary:a,maxLength:c=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,o)this.addMatch=(f,d,m,O)=>o(O,m,m+f[0].length,f,d);else if(typeof i=="function")this.addMatch=(f,d,m,O)=>{let y=i(f,d,m);y&&O(m,m+f[0].length,y)};else if(i)this.addMatch=(f,d,m,O)=>O(m,m+f[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=c}createDeco(e){let n=new ho,i=n.add.bind(n);for(let{from:o,to:a}of a1(e,this.maxLength))jg(e.state.doc,this.regexp,o,a,(c,f)=>this.addMatch(f,e,c,i));return n.finish()}updateDeco(e,n){let i=1e9,o=-1;return e.docChanged&&e.changes.iterChanges((a,c,f,d)=>{d>e.view.viewport.from&&f<e.view.viewport.to&&(i=Math.min(f,i),o=Math.max(d,o))}),e.viewportChanged||o-i>1e3?this.createDeco(e.view):o>-1?this.updateRange(e.view,n.map(e.changes),i,o):n}updateRange(e,n,i,o){for(let a of e.visibleRanges){let c=Math.max(a.from,i),f=Math.min(a.to,o);if(f>c){let d=e.state.doc.lineAt(c),m=d.to<f?e.state.doc.lineAt(f):d,O=Math.max(a.from,d.from),y=Math.min(a.to,m.to);if(this.boundary){for(;c>d.from;c--)if(this.boundary.test(d.text[c-1-d.from])){O=c;break}for(;f<m.to;f++)if(this.boundary.test(m.text[f-m.from])){y=f;break}}let P=[],C,W=(ae,fe,xe)=>P.push(xe.range(ae,fe));if(d==m)for(this.regexp.lastIndex=O-d.from;(C=this.regexp.exec(d.text))&&C.index<y-d.from;)this.addMatch(C,e,C.index+d.from,W);else jg(e.state.doc,this.regexp,O,y,(ae,fe)=>this.addMatch(fe,e,ae,W));n=n.update({filterFrom:O,filterTo:y,filter:(ae,fe)=>ae<O||fe>y,add:P})}}return n}}const hd=/x/.unicode!=null?"gu":"g",c1=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,hd),f1={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let vh=null;function u1(){var r;if(vh==null&&typeof document!="undefined"&&document.body){let e=document.body.style;vh=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return vh||!1}const xf=pt.define({combine(r){let e=Cs(r,{render:null,specialChars:c1,addSpecialChars:null});return(e.replaceTabs=!u1())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,hd)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,hd)),e}});function h1(r={}){return[xf.of(r),d1()]}let Ug=null;function d1(){return Ug||(Ug=pi.fromClass(class{constructor(r){this.view=r,this.decorations=kt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(xf)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new l1({regexp:r.specialChars,decoration:(e,n,i)=>{let{doc:o}=n.state,a=Mi(e[0],0);if(a==9){let c=o.lineAt(i),f=n.state.tabSize,d=ec(c.text,f,i-c.from);return kt.replace({widget:new O1((f-d%f)*this.view.defaultCharacterWidth)})}return this.decorationCache[a]||(this.decorationCache[a]=kt.replace({widget:new g1(r,a)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(xf);r.startState.facet(xf)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const p1="\u2022";function m1(r){return r>=32?p1:r==10?"\u2424":String.fromCharCode(9216+r)}class g1 extends Fs{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=m1(this.code),i=e.state.phrase("Control character")+" "+(f1[this.code]||"0x"+this.code.toString(16)),o=this.options.render&&this.options.render(this.code,i,n);if(o)return o;let a=document.createElement("span");return a.textContent=n,a.title=i,a.setAttribute("aria-label",i),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class O1 extends Fs{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function v1(){return b1}const y1=kt.line({class:"cm-activeLine"}),b1=pi.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,n=[];for(let i of r.state.selection.ranges){let o=r.lineBlockAt(i.head);o.from>e&&(n.push(y1.range(o.from)),e=o.from)}return kt.set(n)}},{decorations:r=>r.decorations}),dd=2e3;function w1(r,e,n){let i=Math.min(e.line,n.line),o=Math.max(e.line,n.line),a=[];if(e.off>dd||n.off>dd||e.col<0||n.col<0){let c=Math.min(e.off,n.off),f=Math.max(e.off,n.off);for(let d=i;d<=o;d++){let m=r.doc.line(d);m.length<=f&&a.push($e.range(m.from+c,m.to+f))}}else{let c=Math.min(e.col,n.col),f=Math.max(e.col,n.col);for(let d=i;d<=o;d++){let m=r.doc.line(d),O=Lh(m.text,c,r.tabSize,!0);if(O<0)a.push($e.cursor(m.to));else{let y=Lh(m.text,f,r.tabSize);a.push($e.range(m.from+O,m.from+y))}}}return a}function x1(r,e){let n=r.coordsAtPos(r.viewport.from);return n?Math.round(Math.abs((n.left-e)/r.defaultCharacterWidth)):-1}function qg(r,e){let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1),i=r.state.doc.lineAt(n),o=n-i.from,a=o>dd?-1:o==i.length?x1(r,e.clientX):ec(i.text,r.state.tabSize,n-i.from);return{line:i.number,col:a,off:o}}function _1(r,e){let n=qg(r,e),i=r.state.selection;return n?{update(o){if(o.docChanged){let a=o.changes.mapPos(o.startState.doc.line(n.line).from),c=o.state.doc.lineAt(a);n={line:c.number,col:n.col,off:Math.min(n.off,c.length)},i=i.map(o.changes)}},get(o,a,c){let f=qg(r,o);if(!f)return i;let d=w1(r.state,n,f);return d.length?c?$e.create(d.concat(i.ranges)):$e.create(d):i}}:null}function k1(r){let e=(r==null?void 0:r.eventFilter)||(n=>n.altKey&&n.button==0);return Ot.mouseSelectionStyle.of((n,i)=>e(i)?_1(n,i):null)}const S1={Alt:[18,r=>r.altKey],Control:[17,r=>r.ctrlKey],Shift:[16,r=>r.shiftKey],Meta:[91,r=>r.metaKey]},Q1={style:"cursor: crosshair"};function $1(r={}){let[e,n]=S1[r.key||"Alt"],i=pi.fromClass(class{constructor(o){this.view=o,this.isDown=!1}set(o){this.isDown!=o&&(this.isDown=o,this.view.update([]))}},{eventHandlers:{keydown(o){this.set(o.keyCode==e||n(o))},keyup(o){(o.keyCode==e||!n(o))&&this.set(!1)},mousemove(o){this.set(n(o))}}});return[i,Ot.contentAttributes.of(o=>{var a;return!((a=o.plugin(i))===null||a===void 0)&&a.isDown?Q1:null})]}const af="-10000px";class f0{constructor(e,n,i){this.facet=n,this.createTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o),this.tooltipViews=this.tooltips.map(i)}update(e){var n;let i=e.state.facet(this.facet),o=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let a=[];for(let c=0;c<o.length;c++){let f=o[c],d=-1;if(!!f){for(let m=0;m<this.tooltips.length;m++){let O=this.tooltips[m];O&&O.create==f.create&&(d=m)}if(d<0)a[c]=this.createTooltipView(f);else{let m=a[c]=this.tooltipViews[d];m.update&&m.update(e)}}}for(let c of this.tooltipViews)a.indexOf(c)<0&&(c.dom.remove(),(n=c.destroy)===null||n===void 0||n.call(c));return this.input=i,this.tooltips=o,this.tooltipViews=a,!0}}function P1(r){let{win:e}=r;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const yh=pt.define({combine:r=>{var e,n,i;return{position:gt.ios?"absolute":((e=r.find(o=>o.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=r.find(o=>o.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((i=r.find(o=>o.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||P1}}}),zg=new WeakMap,u0=pi.fromClass(class{constructor(r){this.view=r,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(yh);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new f0(r,Rd,n=>this.createTooltip(n)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r);e&&this.observeIntersection();let n=e||r.geometryChanged,i=r.state.facet(yh);if(i.position!=this.position){this.position=i.position;for(let o of this.manager.tooltipViews)o.dom.style.position=this.position;n=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let o of this.manager.tooltipViews)this.container.appendChild(o.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(r){let e=r.create(this.view);if(e.dom.classList.add("cm-tooltip"),r.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",e.dom.appendChild(n)}return e.dom.style.position=this.position,e.dom.style.top=af,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var r,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(r=n.destroy)===null||r===void 0||r.call(n);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=this.view.dom.getBoundingClientRect();return{editor:r,parent:this.parent?this.container.getBoundingClientRect():r,pos:this.manager.tooltips.map((e,n)=>{let i=this.manager.tooltipViews[n];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(yh).tooltipSpace(this.view)}}writeMeasure(r){var e;let{editor:n,space:i}=r,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let c=this.manager.tooltips[a],f=this.manager.tooltipViews[a],{dom:d}=f,m=r.pos[a],O=r.size[a];if(!m||m.bottom<=Math.max(n.top,i.top)||m.top>=Math.min(n.bottom,i.bottom)||m.right<Math.max(n.left,i.left)-.1||m.left>Math.min(n.right,i.right)+.1){d.style.top=af;continue}let y=c.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,P=y?7:0,C=O.right-O.left,W=(e=zg.get(f))!==null&&e!==void 0?e:O.bottom-O.top,ae=f.offset||T1,fe=this.view.textDirection==Kn.LTR,xe=O.width>i.right-i.left?fe?i.left:i.right-O.width:fe?Math.min(m.left-(y?14:0)+ae.x,i.right-C):Math.max(i.left,m.left-C+(y?14:0)-ae.x),je=!!c.above;!c.strictSide&&(je?m.top-(O.bottom-O.top)-ae.y<i.top:m.bottom+(O.bottom-O.top)+ae.y>i.bottom)&&je==i.bottom-m.bottom>m.top-i.top&&(je=!je);let Ee=(je?m.top-i.top:i.bottom-m.bottom)-P;if(Ee<W&&f.resize!==!1){if(Ee<this.view.defaultLineHeight){d.style.top=af;continue}zg.set(f,W),d.style.height=(W=Ee)+"px"}else d.style.height&&(d.style.height="");let le=je?m.top-W-P-ae.y:m.bottom+P+ae.y,we=xe+C;if(f.overlap!==!0)for(let Ae of o)Ae.left<we&&Ae.right>xe&&Ae.top<le+W&&Ae.bottom>le&&(le=je?Ae.top-W-2-P:Ae.bottom+P+2);this.position=="absolute"?(d.style.top=le-r.parent.top+"px",d.style.left=xe-r.parent.left+"px"):(d.style.top=le+"px",d.style.left=xe+"px"),y&&(y.style.left=`${m.left+(fe?ae.x:-ae.x)-(xe+14-7)}px`),f.overlap!==!0&&o.push({left:xe,top:le,right:we,bottom:le+W}),d.classList.toggle("cm-tooltip-above",je),d.classList.toggle("cm-tooltip-below",!je),f.positioned&&f.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=af}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),C1=Ot.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),T1={x:0,y:0},Rd=pt.define({enables:[u0,C1]}),Zf=pt.define();class Yd{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new f0(e,Zf,n=>this.createHostedView(n))}static create(e){return new Yd(e)}createHostedView(e){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}}const E1=Rd.compute([Zf],r=>{let e=r.facet(Zf).filter(n=>n);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.filter(n=>n.end!=null).map(n=>n.end)),create:Yd.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class A1{constructor(e,n,i,o,a){this.view=e,this.source=n,this.field=i,this.setHover=o,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,n=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(n==null)return;let i=this.view.coordsAtPos(n);if(i==null||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let o=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find(f=>f.from<=n&&f.to>=n),a=o&&o.dir==Kn.RTL?-1:1,c=this.source(this.view,n,e.x<i.left?-a:a);if(c!=null&&c.then){let f=this.pending={pos:n};c.then(d=>{this.pending==f&&(this.pending=null,d&&this.view.dispatch({effects:this.setHover.of(d)}))},d=>Er(this.view.state,d,"hover tooltip"))}else c&&this.view.dispatch({effects:this.setHover.of(c)})}mousemove(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!Ig(this.lastMove.target)||this.pending){let{pos:o}=i||this.pending,a=(n=i==null?void 0:i.end)!==null&&n!==void 0?n:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!D1(this.view,o,a,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Ig(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Ig(r){for(let e=r;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function D1(r,e,n,i,o,a){let c=document.createRange(),f=r.domAtPos(e),d=r.domAtPos(n);c.setEnd(d.node,d.offset),c.setStart(f.node,f.offset);let m=c.getClientRects();c.detach();for(let O=0;O<m.length;O++){let y=m[O];if(Math.max(y.top-o,o-y.bottom,y.left-i,i-y.right)<=a)return!0}return!1}function Z1(r,e={}){let n=Ut.define(),i=Ti.define({create(){return null},update(o,a){if(o&&(e.hideOnChange&&(a.docChanged||a.selection)||e.hideOn&&e.hideOn(a,o)))return null;if(o&&a.docChanged){let c=a.changes.mapPos(o.pos,-1,Ri.TrackDel);if(c==null)return null;let f=Object.assign(Object.create(null),o);f.pos=c,o.end!=null&&(f.end=a.changes.mapPos(o.end)),o=f}for(let c of a.effects)c.is(n)&&(o=c.value),c.is(X1)&&(o=null);return o},provide:o=>Zf.from(o)});return[i,pi.define(o=>new A1(o,r,i,n,e.hoverTime||300)),E1]}function M1(r,e){let n=r.plugin(u0);if(!n)return null;let i=n.manager.tooltips.indexOf(e);return i<0?null:n.manager.tooltipViews[i]}const X1=Ut.define(),Vg=pt.define({combine(r){let e,n;for(let i of r)e=e||i.topContainer,n=n||i.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Fl(r,e){let n=r.plugin(h0),i=n?n.specs.indexOf(e):-1;return i>-1?n.panels[i]:null}const h0=pi.fromClass(class{constructor(r){this.input=r.state.facet(Nl),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(r));let e=r.state.facet(Vg);this.top=new lf(r,!0,e.topContainer),this.bottom=new lf(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(r){let e=r.state.facet(Vg);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new lf(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new lf(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=r.state.facet(Nl);if(n!=this.input){let i=n.filter(d=>d),o=[],a=[],c=[],f=[];for(let d of i){let m=this.specs.indexOf(d),O;m<0?(O=d(r.view),f.push(O)):(O=this.panels[m],O.update&&O.update(r)),o.push(O),(O.top?a:c).push(O)}this.specs=i,this.panels=o,this.top.sync(a),this.bottom.sync(c);for(let d of f)d.dom.classList.add("cm-panel"),d.mount&&d.mount()}else for(let i of this.panels)i.update&&i.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>Ot.scrollMargins.of(e=>{let n=e.plugin(r);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class lf{constructor(e,n,i){this.view=e,this.top=n,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=Lg(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=Lg(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Lg(r){let e=r.nextSibling;return r.remove(),e}const Nl=pt.define({enables:h0});class Bs extends Vo{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Bs.prototype.elementClass="";Bs.prototype.toDOM=void 0;Bs.prototype.mapMode=Ri.TrackBefore;Bs.prototype.startSide=Bs.prototype.endSide=-1;Bs.prototype.point=!0;const _f=pt.define(),R1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Qn.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Yl=pt.define();function Y1(r){return[d0(),Yl.of(Object.assign(Object.assign({},R1),r))]}const pd=pt.define({combine:r=>r.some(e=>e)});function d0(r){let e=[W1];return r&&r.fixed===!1&&e.push(pd.of(!0)),e}const W1=pi.fromClass(class{constructor(r){this.view=r,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=r.state.facet(Yl).map(e=>new Fg(r,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!r.state.facet(pd),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}update(r){if(this.updateGutters(r)){let e=this.prevViewport,n=r.view.viewport,i=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(i<(n.to-n.from)*.8)}r.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(pd)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&this.dom.remove();let n=Qn.iter(this.view.state.facet(_f),this.view.viewport.from),i=[],o=this.gutters.map(a=>new j1(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks){let c;if(Array.isArray(a.type)){for(let f of a.type)if(f.type==Zn.Text){c=f;break}}else c=a.type==Zn.Text?a:void 0;if(!!c){i.length&&(i=[]),p0(n,i,a.from);for(let f of o)f.line(this.view,c,i)}}for(let a of o)a.finish();r&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(r){let e=r.startState.facet(Yl),n=r.state.facet(Yl),i=r.docChanged||r.heightChanged||r.viewportChanged||!Qn.eq(r.startState.facet(_f),r.state.facet(_f),r.view.viewport.from,r.view.viewport.to);if(e==n)for(let o of this.gutters)o.update(r)&&(i=!0);else{i=!0;let o=[];for(let a of n){let c=e.indexOf(a);c<0?o.push(new Fg(this.view,a)):(this.gutters[c].update(r),o.push(this.gutters[c]))}for(let a of this.gutters)a.dom.remove(),o.indexOf(a)<0&&a.destroy();for(let a of o)this.dom.appendChild(a.dom);this.gutters=o}return i}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove()}},{provide:r=>Ot.scrollMargins.of(e=>{let n=e.plugin(r);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Kn.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function Bg(r){return Array.isArray(r)?r:[r]}function p0(r,e,n){for(;r.value&&r.from<=n;)r.from==n&&e.push(r.value),r.next()}class j1{constructor(e,n,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Qn.iter(e.markers,n.from)}line(e,n,i){let o=[];p0(this.cursor,o,n.from),i.length&&(o=o.concat(i));let a=this.gutter.config.lineMarker(e,n,o);a&&o.unshift(a);let c=this.gutter;if(o.length==0&&!c.config.renderEmptyElements)return;let f=n.top-this.height;if(this.i==c.elements.length){let d=new m0(e,n.height,f,o);c.elements.push(d),c.dom.appendChild(d.dom)}else c.elements[this.i].update(e,n.height,f,o);this.height=n.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class Fg{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in n.domEventHandlers)this.dom.addEventListener(i,o=>{let a=o.target,c;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let d=a.getBoundingClientRect();c=(d.top+d.bottom)/2}else c=o.clientY;let f=e.lineBlockAtHeight(c-e.documentTop);n.domEventHandlers[i](e,f,o)&&o.preventDefault()});this.markers=Bg(n.markers(e)),n.initialSpacer&&(this.spacer=new m0(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=Bg(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let o=this.config.updateSpacer(this.spacer.markers[0],e);o!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[o])}let i=e.view.viewport;return!Qn.eq(this.markers,n,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class m0{constructor(e,n,i,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,i,o)}update(e,n,i,o){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),U1(this.markers,o)||this.setMarkers(e,o)}setMarkers(e,n){let i="cm-gutterElement",o=this.dom.firstChild;for(let a=0,c=0;;){let f=c,d=a<n.length?n[a++]:null,m=!1;if(d){let O=d.elementClass;O&&(i+=" "+O);for(let y=c;y<this.markers.length;y++)if(this.markers[y].compare(d)){f=y,m=!0;break}}else f=this.markers.length;for(;c<f;){let O=this.markers[c++];if(O.toDOM){O.destroy(o);let y=o.nextSibling;o.remove(),o=y}}if(!d)break;d.toDOM&&(m?o=o.nextSibling:this.dom.insertBefore(d.toDOM(e),o)),m&&c++}this.dom.className=i,this.markers=n}destroy(){this.setMarkers(null,[])}}function U1(r,e){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!r[n].compare(e[n]))return!1;return!0}const q1=pt.define(),Pa=pt.define({combine(r){return Cs(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let i=Object.assign({},e);for(let o in n){let a=i[o],c=n[o];i[o]=a?(f,d,m)=>a(f,d,m)||c(f,d,m):c}return i}})}});class bh extends Bs{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function wh(r,e){return r.state.facet(Pa).formatNumber(e,r.state)}const z1=Yl.compute([Pa],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(q1)},lineMarker(e,n,i){return i.some(o=>o.toDOM)?null:new bh(wh(e,e.state.doc.lineAt(n.from).number))},lineMarkerChange:e=>e.startState.facet(Pa)!=e.state.facet(Pa),initialSpacer(e){return new bh(wh(e,Ng(e.state.doc.lines)))},updateSpacer(e,n){let i=wh(n.view,Ng(n.view.state.doc.lines));return i==e.number?e:new bh(i)},domEventHandlers:r.facet(Pa).domEventHandlers}));function I1(r={}){return[Pa.of(r),d0(),z1]}function Ng(r){let e=9;for(;e<r;)e=e*10+9;return e}const V1=new class extends Bs{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},L1=_f.compute(["selection"],r=>{let e=[],n=-1;for(let i of r.selection.ranges){let o=r.doc.lineAt(i.head).from;o>n&&(n=o,e.push(V1.range(o)))}return Qn.of(e)});function B1(){return L1}const g0=1024;let F1=0;class xh{constructor(e,n){this.from=e,this.to=n}}class Ft{constructor(e={}){this.id=F1++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=pr.match(e)),n=>{let i=e(n);return i===void 0?null:[this,i]}}}Ft.closedBy=new Ft({deserialize:r=>r.split(" ")});Ft.openedBy=new Ft({deserialize:r=>r.split(" ")});Ft.group=new Ft({deserialize:r=>r.split(" ")});Ft.contextHash=new Ft({perNode:!0});Ft.lookAhead=new Ft({perNode:!0});Ft.mounted=new Ft({perNode:!0});const N1=Object.create(null);class pr{constructor(e,n,i,o=0){this.name=e,this.props=n,this.id=i,this.flags=o}static define(e){let n=e.props&&e.props.length?Object.create(null):N1,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),o=new pr(e.name||"",n,e.id,i);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(o)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}return o}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Ft.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let i in e)for(let o of i.split(" "))n[o]=e[i];return i=>{for(let o=i.prop(Ft.group),a=-1;a<(o?o.length:0);a++){let c=n[a<0?i.name:o[a]];if(c)return c}}}}pr.none=new pr("",Object.create(null),0,8);class Wd{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let i of this.types){let o=null;for(let a of e){let c=a(i);c&&(o||(o=Object.assign({},i.props)),o[c[0].id]=c[1])}n.push(o?new pr(i.name,o,i.id,i.flags):i)}return new Wd(n)}}const cf=new WeakMap,Gg=new WeakMap;var Ci;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Ci||(Ci={}));class di{constructor(e,n,i,o,a){if(this.type=e,this.children=n,this.positions=i,this.length=o,this.props=null,a&&a.length){this.props=Object.create(null);for(let[c,f]of a)this.props[typeof c=="number"?c:c.id]=f}}toString(){let e=this.prop(Ft.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let i of this.children){let o=i.toString();o&&(n&&(n+=","),n+=o)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Rf(this.topNode,e)}cursorAt(e,n=0,i=0){let o=cf.get(this)||this.topNode,a=new Rf(o);return a.moveTo(e,n),cf.set(this,a._tree),a}get topNode(){return new rs(this,0,0,null)}resolve(e,n=0){let i=qa(cf.get(this)||this.topNode,e,n,!1);return cf.set(this,i),i}resolveInner(e,n=0){let i=qa(Gg.get(this)||this.topNode,e,n,!0);return Gg.set(this,i),i}iterate(e){let{enter:n,leave:i,from:o=0,to:a=this.length}=e;for(let c=this.cursor((e.mode||0)|Ci.IncludeAnonymous);;){let f=!1;if(c.from<=a&&c.to>=o&&(c.type.isAnonymous||n(c)!==!1)){if(c.firstChild())continue;f=!0}for(;f&&i&&!c.type.isAnonymous&&i(c),!c.nextSibling();){if(!c.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:qd(pr.none,this.children,this.positions,0,this.children.length,0,this.length,(n,i,o)=>new di(this.type,n,i,o,this.propValues),e.makeTree||((n,i,o)=>new di(pr.none,n,i,o)))}static build(e){return H1(e)}}di.empty=new di(pr.none,[],[],0);class jd{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new jd(this.buffer,this.index)}}class No{constructor(e,n,i){this.buffer=e,this.length=n,this.set=i}get type(){return pr.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],i=this.buffer[e+3],o=this.set.types[n],a=o.name;if(/\W/.test(a)&&!o.isError&&(a=JSON.stringify(a)),e+=4,i==e)return a;let c=[];for(;e<i;)c.push(this.childString(e)),e=this.buffer[e+3];return a+"("+c.join(",")+")"}findChild(e,n,i,o,a){let{buffer:c}=this,f=-1;for(let d=e;d!=n&&!(O0(a,o,c[d+1],c[d+2])&&(f=d,i>0));d=c[d+3]);return f}slice(e,n,i){let o=this.buffer,a=new Uint16Array(n-e),c=0;for(let f=e,d=0;f<n;){a[d++]=o[f++],a[d++]=o[f++]-i;let m=a[d++]=o[f++]-i;a[d++]=o[f++]-e,c=Math.max(c,m)}return new No(a,c,this.set)}}function O0(r,e,n,i){switch(r){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function v0(r,e){let n=r.childBefore(e);for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}function qa(r,e,n,i){for(var o;r.from==r.to||(n<1?r.from>=e:r.from>e)||(n>-1?r.to<=e:r.to<e);){let c=!i&&r instanceof rs&&r.index<0?null:r.parent;if(!c)return r;r=c}let a=i?0:Ci.IgnoreOverlays;if(i)for(let c=r,f=c.parent;f;c=f,f=c.parent)c instanceof rs&&c.index<0&&((o=f.enter(e,n,a))===null||o===void 0?void 0:o.from)!=c.from&&(r=f);for(;;){let c=r.enter(e,n,a);if(!c)return r;r=c}}class rs{constructor(e,n,i,o){this._tree=e,this.from=n,this.index=i,this._parent=o}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,i,o,a=0){for(let c=this;;){for(let{children:f,positions:d}=c._tree,m=n>0?f.length:-1;e!=m;e+=n){let O=f[e],y=d[e]+c.from;if(!!O0(o,i,y,y+O.length)){if(O instanceof No){if(a&Ci.ExcludeBuffers)continue;let P=O.findChild(0,O.buffer.length,n,i-y,o);if(P>-1)return new _s(new G1(c,O,e,y),null,P)}else if(a&Ci.IncludeAnonymous||!O.type.isAnonymous||Ud(O)){let P;if(!(a&Ci.IgnoreMounts)&&O.props&&(P=O.prop(Ft.mounted))&&!P.overlay)return new rs(P.tree,y,e,c);let C=new rs(O,y,e,c);return a&Ci.IncludeAnonymous||!C.type.isAnonymous?C:C.nextChild(n<0?O.children.length-1:0,n,i,o)}}}if(a&Ci.IncludeAnonymous||!c.type.isAnonymous||(c.index>=0?e=c.index+n:e=n<0?-1:c._parent._tree.children.length,c=c._parent,!c))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,i=0){let o;if(!(i&Ci.IgnoreOverlays)&&(o=this._tree.prop(Ft.mounted))&&o.overlay){let a=e-this.from;for(let{from:c,to:f}of o.overlay)if((n>0?c<=a:c<a)&&(n<0?f>=a:f>a))return new rs(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Rf(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return qa(this,e,n,!1)}resolveInner(e,n=0){return qa(this,e,n,!0)}enterUnfinishedNodesBefore(e){return v0(this,e)}getChild(e,n=null,i=null){let o=Mf(this,e,n,i);return o.length?o[0]:null}getChildren(e,n=null,i=null){return Mf(this,e,n,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Xf(this,e)}}function Mf(r,e,n,i){let o=r.cursor(),a=[];if(!o.firstChild())return a;if(n!=null){for(;!o.type.is(n);)if(!o.nextSibling())return a}for(;;){if(i!=null&&o.type.is(i))return a;if(o.type.is(e)&&a.push(o.node),!o.nextSibling())return i==null?a:[]}}function Xf(r,e,n=e.length-1){for(let i=r.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class G1{constructor(e,n,i,o){this.parent=e,this.buffer=n,this.index=i,this.start=o}}class _s{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,i){this.context=e,this._parent=n,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,n,i){let{buffer:o}=this.context,a=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.context.start,i);return a<0?null:new _s(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,i=0){if(i&Ci.ExcludeBuffers)return null;let{buffer:o}=this.context,a=o.findChild(this.index+4,o.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return a<0?null:new _s(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new _s(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new _s(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new Rf(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:i}=this.context,o=this.index+4,a=i.buffer[this.index+3];if(a>o){let c=i.buffer[this.index+1];e.push(i.slice(o,a,c)),n.push(0)}return new di(this.type,e,n,this.to-this.from)}resolve(e,n=0){return qa(this,e,n,!1)}resolveInner(e,n=0){return qa(this,e,n,!0)}enterUnfinishedNodesBefore(e){return v0(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,i=null){let o=Mf(this,e,n,i);return o.length?o[0]:null}getChildren(e,n=null,i=null){return Mf(this,e,n,i)}get node(){return this}matchContext(e){return Xf(this,e)}}class Rf{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof rs)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:i,buffer:o}=this.buffer;return this.type=n||o.set.types[o.buffer[e]],this.from=i+o.buffer[e+1],this.to=i+o.buffer[e+2],!0}yield(e){return e?e instanceof rs?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,i,this.mode));let{buffer:o}=this.buffer,a=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.buffer.start,i);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,i=this.mode){return this.buffer?i&Ci.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ci.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ci.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,i=this.stack.length-1;if(e<0){let o=i<0?0:this.stack[i]+4;if(this.index!=o)return this.yieldBuf(n.findChild(o,this.index,-1,0,4))}else{let o=n.buffer[this.index+3];if(o<(i<0?n.buffer.length:n.buffer[this.stack[i]+3]))return this.yieldBuf(o)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,i,{buffer:o}=this;if(o){if(e>0){if(this.index<o.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(o.buffer.buffer[a+3]<this.index)return!1;({index:n,parent:i}=o)}else({index:n,_parent:i}=this._tree);for(;i;{index:n,_parent:i}=i)if(n>-1)for(let a=n+e,c=e<0?-1:i._tree.children.length;a!=c;a+=e){let f=i._tree.children[a];if(this.mode&Ci.IncludeAnonymous||f instanceof No||!f.type.isAnonymous||Ud(f))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,i=0;if(e&&e.context==this.buffer){e:for(let o=this.index,a=this.stack.length;a>=0;){for(let c=e;c;c=c._parent)if(c.index==o){if(o==this.index)return c;n=c,i=a+1;break e}o=this.stack[--a]}}for(let o=i;o<this.stack.length;o++)n=new _s(this.buffer,n,this.stack[o]);return this.bufferNode=new _s(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let i=0;;){let o=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(o=!0)}for(;o&&n&&n(this),o=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,o=!0}}}matchContext(e){if(!this.buffer)return Xf(this.node,e);let{buffer:n}=this.buffer,{types:i}=n.set;for(let o=e.length-1,a=this.stack.length-1;o>=0;a--){if(a<0)return Xf(this.node,e,o);let c=i[n.buffer[this.stack[a]]];if(!c.isAnonymous){if(e[o]&&e[o]!=c.name)return!1;o--}}return!0}}function Ud(r){return r.children.some(e=>e instanceof No||!e.type.isAnonymous||Ud(e))}function H1(r){var e;let{buffer:n,nodeSet:i,maxBufferLength:o=g0,reused:a=[],minRepeatType:c=i.types.length}=r,f=Array.isArray(n)?new jd(n,n.length):n,d=i.types,m=0,O=0;function y(le,we,Ae,it,Jt){let{id:re,start:Rt,end:V,size:Wn}=f,Et=O;for(;Wn<0;)if(f.next(),Wn==-1){let _t=a[re];Ae.push(_t),it.push(Rt-le);return}else if(Wn==-3){m=re;return}else if(Wn==-4){O=re;return}else throw new RangeError(`Unrecognized record size: ${Wn}`);let Dt=d[re],cn,In,vn=Rt-le;if(V-Rt<=o&&(In=ae(f.pos-we,Jt))){let _t=new Uint16Array(In.size-In.skip),on=f.pos-In.size,Ar=_t.length;for(;f.pos>on;)Ar=fe(In.start,_t,Ar);cn=new No(_t,V-In.start,i),vn=In.start-le}else{let _t=f.pos-Wn;f.next();let on=[],Ar=[],Yt=re>=c?re:-1,Re=0,Mn=V;for(;f.pos>_t;)Yt>=0&&f.id==Yt&&f.size>=0?(f.end<=Mn-o&&(C(on,Ar,Rt,Re,f.end,Mn,Yt,Et),Re=on.length,Mn=f.end),f.next()):y(Rt,_t,on,Ar,Yt);if(Yt>=0&&Re>0&&Re<on.length&&C(on,Ar,Rt,Re,Rt,Mn,Yt,Et),on.reverse(),Ar.reverse(),Yt>-1&&Re>0){let Nn=P(Dt);cn=qd(Dt,on,Ar,0,on.length,0,V-Rt,Nn,Nn)}else cn=W(Dt,on,Ar,V-Rt,Et-V)}Ae.push(cn),it.push(vn)}function P(le){return(we,Ae,it)=>{let Jt=0,re=we.length-1,Rt,V;if(re>=0&&(Rt=we[re])instanceof di){if(!re&&Rt.type==le&&Rt.length==it)return Rt;(V=Rt.prop(Ft.lookAhead))&&(Jt=Ae[re]+Rt.length+V)}return W(le,we,Ae,it,Jt)}}function C(le,we,Ae,it,Jt,re,Rt,V){let Wn=[],Et=[];for(;le.length>it;)Wn.push(le.pop()),Et.push(we.pop()+Ae-Jt);le.push(W(i.types[Rt],Wn,Et,re-Jt,V-re)),we.push(Jt-Ae)}function W(le,we,Ae,it,Jt=0,re){if(m){let Rt=[Ft.contextHash,m];re=re?[Rt].concat(re):[Rt]}if(Jt>25){let Rt=[Ft.lookAhead,Jt];re=re?[Rt].concat(re):[Rt]}return new di(le,we,Ae,it,re)}function ae(le,we){let Ae=f.fork(),it=0,Jt=0,re=0,Rt=Ae.end-o,V={size:0,start:0,skip:0};e:for(let Wn=Ae.pos-le;Ae.pos>Wn;){let Et=Ae.size;if(Ae.id==we&&Et>=0){V.size=it,V.start=Jt,V.skip=re,re+=4,it+=4,Ae.next();continue}let Dt=Ae.pos-Et;if(Et<0||Dt<Wn||Ae.start<Rt)break;let cn=Ae.id>=c?4:0,In=Ae.start;for(Ae.next();Ae.pos>Dt;){if(Ae.size<0)if(Ae.size==-3)cn+=4;else break e;else Ae.id>=c&&(cn+=4);Ae.next()}Jt=In,it+=Et,re+=cn}return(we<0||it==le)&&(V.size=it,V.start=Jt,V.skip=re),V.size>4?V:void 0}function fe(le,we,Ae){let{id:it,start:Jt,end:re,size:Rt}=f;if(f.next(),Rt>=0&&it<c){let V=Ae;if(Rt>4){let Wn=f.pos-(Rt-4);for(;f.pos>Wn;)Ae=fe(le,we,Ae)}we[--Ae]=V,we[--Ae]=re-le,we[--Ae]=Jt-le,we[--Ae]=it}else Rt==-3?m=it:Rt==-4&&(O=it);return Ae}let xe=[],je=[];for(;f.pos>0;)y(r.start||0,r.bufferStart||0,xe,je,-1);let Ee=(e=r.length)!==null&&e!==void 0?e:xe.length?je[0]+xe[0].length:0;return new di(d[r.topID],xe.reverse(),je.reverse(),Ee)}const Hg=new WeakMap;function kf(r,e){if(!r.isAnonymous||e instanceof No||e.type!=r)return 1;let n=Hg.get(e);if(n==null){n=1;for(let i of e.children){if(i.type!=r||!(i instanceof di)){n=1;break}n+=kf(r,i)}Hg.set(e,n)}return n}function qd(r,e,n,i,o,a,c,f,d){let m=0;for(let W=i;W<o;W++)m+=kf(r,e[W]);let O=Math.ceil(m*1.5/8),y=[],P=[];function C(W,ae,fe,xe,je){for(let Ee=fe;Ee<xe;){let le=Ee,we=ae[Ee],Ae=kf(r,W[Ee]);for(Ee++;Ee<xe;Ee++){let it=kf(r,W[Ee]);if(Ae+it>=O)break;Ae+=it}if(Ee==le+1){if(Ae>O){let it=W[le];C(it.children,it.positions,0,it.children.length,ae[le]+je);continue}y.push(W[le])}else{let it=ae[Ee-1]+W[Ee-1].length-we;y.push(qd(r,W,ae,le,Ee,we,it,null,d))}P.push(we+je-a)}}return C(e,n,i,o,0),(f||d)(y,P,c)}class J1{constructor(){this.map=new WeakMap}setBuffer(e,n,i){let o=this.map.get(e);o||this.map.set(e,o=new Map),o.set(n,i)}getBuffer(e,n){let i=this.map.get(e);return i&&i.get(n)}set(e,n){e instanceof _s?this.setBuffer(e.context.buffer,e.index,n):e instanceof rs&&this.map.set(e.tree,n)}get(e){return e instanceof _s?this.getBuffer(e.context.buffer,e.index):e instanceof rs?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class zo{constructor(e,n,i,o,a=!1,c=!1){this.from=e,this.to=n,this.tree=i,this.offset=o,this.open=(a?1:0)|(c?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],i=!1){let o=[new zo(0,e.length,e,0,!1,i)];for(let a of n)a.to>e.length&&o.push(a);return o}static applyChanges(e,n,i=128){if(!n.length)return e;let o=[],a=1,c=e.length?e[0]:null;for(let f=0,d=0,m=0;;f++){let O=f<n.length?n[f]:null,y=O?O.fromA:1e9;if(y-d>=i)for(;c&&c.from<y;){let P=c;if(d>=P.from||y<=P.to||m){let C=Math.max(P.from,d)-m,W=Math.min(P.to,y)-m;P=C>=W?null:new zo(C,W,P.tree,P.offset+m,f>0,!!O)}if(P&&o.push(P),c.to>y)break;c=a<e.length?e[a++]:null}if(!O)break;d=O.toA,m=O.toA-O.toB}return o}}class y0{startParse(e,n,i){return typeof e=="string"&&(e=new K1(e)),i=i?i.length?i.map(o=>new xh(o.from,o.to)):[new xh(0,0)]:[new xh(0,e.length)],this.createParse(e,n||[],i)}parse(e,n,i){let o=this.startParse(e,n,i);for(;;){let a=o.advance();if(a)return a}}}class K1{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Ft({perNode:!0});let ex=0;class ws{constructor(e,n,i){this.set=e,this.base=n,this.modified=i,this.id=ex++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new ws([],null,[]);if(n.set.push(n),e)for(let i of e.set)n.set.push(i);return n}static defineModifier(){let e=new Yf;return n=>n.modified.indexOf(e)>-1?n:Yf.get(n.base||n,n.modified.concat(e).sort((i,o)=>i.id-o.id))}}let tx=0;class Yf{constructor(){this.instances=[],this.id=tx++}static get(e,n){if(!n.length)return e;let i=n[0].instances.find(f=>f.base==e&&nx(n,f.modified));if(i)return i;let o=[],a=new ws(o,e,n);for(let f of n)f.instances.push(a);let c=ix(n);for(let f of e.set)if(!f.modified.length)for(let d of c)o.push(Yf.get(f,d));return a}}function nx(r,e){return r.length==e.length&&r.every((n,i)=>n==e[i])}function ix(r){let e=[[]];for(let n=0;n<r.length;n++)for(let i=0,o=e.length;i<o;i++)e.push(e[i].concat(r[n]));return e.sort((n,i)=>i.length-n.length)}function b0(r){let e=Object.create(null);for(let n in r){let i=r[n];Array.isArray(i)||(i=[i]);for(let o of n.split(" "))if(o){let a=[],c=2,f=o;for(let y=0;;){if(f=="..."&&y>0&&y+3==o.length){c=1;break}let P=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(f);if(!P)throw new RangeError("Invalid path: "+o);if(a.push(P[0]=="*"?"":P[0][0]=='"'?JSON.parse(P[0]):P[0]),y+=P[0].length,y==o.length)break;let C=o[y++];if(y==o.length&&C=="!"){c=0;break}if(C!="/")throw new RangeError("Invalid path: "+o);f=o.slice(y)}let d=a.length-1,m=a[d];if(!m)throw new RangeError("Invalid path: "+o);let O=new Wf(i,c,d>0?a.slice(0,d):null);e[m]=O.sort(e[m])}}return w0.add(e)}const w0=new Ft;class Wf{constructor(e,n,i,o){this.tags=e,this.mode=n,this.context=i,this.next=o}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Wf.empty=new Wf([],2,null);function x0(r,e){let n=Object.create(null);for(let a of r)if(!Array.isArray(a.tag))n[a.tag.id]=a.class;else for(let c of a.tag)n[c.id]=a.class;let{scope:i,all:o=null}=e||{};return{style:a=>{let c=o;for(let f of a)for(let d of f.set){let m=n[d.id];if(m){c=c?c+" "+m:m;break}}return c},scope:i}}function rx(r,e){let n=null;for(let i of r){let o=i.style(e);o&&(n=n?n+" "+o:o)}return n}function sx(r,e,n,i=0,o=r.length){let a=new ox(i,Array.isArray(e)?e:[e],n);a.highlightRange(r.cursor(),i,o,"",a.highlighters),a.flush(o)}class ox{constructor(e,n,i){this.at=e,this.highlighters=n,this.span=i,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,i,o,a){let{type:c,from:f,to:d}=e;if(f>=i||d<=n)return;c.isTop&&(a=this.highlighters.filter(C=>!C.scope||C.scope(c)));let m=o,O=ax(e)||Wf.empty,y=rx(a,O.tags);if(y&&(m&&(m+=" "),m+=y,O.mode==1&&(o+=(o?" ":"")+y)),this.startSpan(e.from,m),O.opaque)return;let P=e.tree&&e.tree.prop(Ft.mounted);if(P&&P.overlay){let C=e.node.enter(P.overlay[0].from+f,1),W=this.highlighters.filter(fe=>!fe.scope||fe.scope(P.tree.type)),ae=e.firstChild();for(let fe=0,xe=f;;fe++){let je=fe<P.overlay.length?P.overlay[fe]:null,Ee=je?je.from+f:d,le=Math.max(n,xe),we=Math.min(i,Ee);if(le<we&&ae)for(;e.from<we&&(this.highlightRange(e,le,we,o,a),this.startSpan(Math.min(we,e.to),m),!(e.to>=Ee||!e.nextSibling())););if(!je||Ee>i)break;xe=je.to+f,xe>n&&(this.highlightRange(C.cursor(),Math.max(n,je.from+f),Math.min(i,xe),o,W),this.startSpan(xe,m))}ae&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=i)break;this.highlightRange(e,n,i,o,a),this.startSpan(Math.min(i,e.to),m)}while(e.nextSibling());e.parent()}}}function ax(r){let e=r.type.prop(w0);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const He=ws.define,ff=He(),ro=He(),Jg=He(ro),Kg=He(ro),so=He(),uf=He(so),_h=He(so),bs=He(),Ro=He(bs),vs=He(),ys=He(),md=He(),$l=He(md),hf=He(),ge={comment:ff,lineComment:He(ff),blockComment:He(ff),docComment:He(ff),name:ro,variableName:He(ro),typeName:Jg,tagName:He(Jg),propertyName:Kg,attributeName:He(Kg),className:He(ro),labelName:He(ro),namespace:He(ro),macroName:He(ro),literal:so,string:uf,docString:He(uf),character:He(uf),attributeValue:He(uf),number:_h,integer:He(_h),float:He(_h),bool:He(so),regexp:He(so),escape:He(so),color:He(so),url:He(so),keyword:vs,self:He(vs),null:He(vs),atom:He(vs),unit:He(vs),modifier:He(vs),operatorKeyword:He(vs),controlKeyword:He(vs),definitionKeyword:He(vs),moduleKeyword:He(vs),operator:ys,derefOperator:He(ys),arithmeticOperator:He(ys),logicOperator:He(ys),bitwiseOperator:He(ys),compareOperator:He(ys),updateOperator:He(ys),definitionOperator:He(ys),typeOperator:He(ys),controlOperator:He(ys),punctuation:md,separator:He(md),bracket:$l,angleBracket:He($l),squareBracket:He($l),paren:He($l),brace:He($l),content:bs,heading:Ro,heading1:He(Ro),heading2:He(Ro),heading3:He(Ro),heading4:He(Ro),heading5:He(Ro),heading6:He(Ro),contentSeparator:He(bs),list:He(bs),quote:He(bs),emphasis:He(bs),strong:He(bs),link:He(bs),monospace:He(bs),strikethrough:He(bs),inserted:He(),deleted:He(),changed:He(),invalid:He(),meta:hf,documentMeta:He(hf),annotation:He(hf),processingInstruction:He(hf),definition:ws.defineModifier(),constant:ws.defineModifier(),function:ws.defineModifier(),standard:ws.defineModifier(),local:ws.defineModifier(),special:ws.defineModifier()};x0([{tag:ge.link,class:"tok-link"},{tag:ge.heading,class:"tok-heading"},{tag:ge.emphasis,class:"tok-emphasis"},{tag:ge.strong,class:"tok-strong"},{tag:ge.keyword,class:"tok-keyword"},{tag:ge.atom,class:"tok-atom"},{tag:ge.bool,class:"tok-bool"},{tag:ge.url,class:"tok-url"},{tag:ge.labelName,class:"tok-labelName"},{tag:ge.inserted,class:"tok-inserted"},{tag:ge.deleted,class:"tok-deleted"},{tag:ge.literal,class:"tok-literal"},{tag:ge.string,class:"tok-string"},{tag:ge.number,class:"tok-number"},{tag:[ge.regexp,ge.escape,ge.special(ge.string)],class:"tok-string2"},{tag:ge.variableName,class:"tok-variableName"},{tag:ge.local(ge.variableName),class:"tok-variableName tok-local"},{tag:ge.definition(ge.variableName),class:"tok-variableName tok-definition"},{tag:ge.special(ge.variableName),class:"tok-variableName2"},{tag:ge.definition(ge.propertyName),class:"tok-propertyName tok-definition"},{tag:ge.typeName,class:"tok-typeName"},{tag:ge.namespace,class:"tok-namespace"},{tag:ge.className,class:"tok-className"},{tag:ge.macroName,class:"tok-macroName"},{tag:ge.propertyName,class:"tok-propertyName"},{tag:ge.operator,class:"tok-operator"},{tag:ge.comment,class:"tok-comment"},{tag:ge.meta,class:"tok-meta"},{tag:ge.invalid,class:"tok-invalid"},{tag:ge.punctuation,class:"tok-punctuation"}]);var kh;const Ca=new Ft;function _0(r){return pt.define({combine:r?e=>e.concat(r):void 0})}const zd=new Ft;class is{constructor(e,n,i=[],o=""){this.data=e,this.name=o,ln.prototype.hasOwnProperty("tree")||Object.defineProperty(ln.prototype,"tree",{get(){return ki(this)}}),this.parser=n,this.extension=[Oo.of(this),ln.languageData.of((a,c,f)=>{let d=eO(a,c,f),m=d.type.prop(Ca);if(!m)return[];let O=a.facet(m),y=d.type.prop(zd);if(y){let P=d.resolve(c-d.from,f);for(let C of y)if(C.test(P,a)){let W=a.facet(C.facet);return C.type=="replace"?W:W.concat(O)}}return O})].concat(i)}isActiveAt(e,n,i=-1){return eO(e,n,i).type.prop(Ca)==this.data}findRegions(e){let n=e.facet(Oo);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let i=[],o=(a,c)=>{if(a.prop(Ca)==this.data){i.push({from:c,to:c+a.length});return}let f=a.prop(Ft.mounted);if(f){if(f.tree.prop(Ca)==this.data){if(f.overlay)for(let d of f.overlay)i.push({from:d.from+c,to:d.to+c});else i.push({from:c,to:c+a.length});return}else if(f.overlay){let d=i.length;if(o(f.tree,f.overlay[0].from+c),i.length>d)return}}for(let d=0;d<a.children.length;d++){let m=a.children[d];m instanceof di&&o(m,a.positions[d]+c)}};return o(ki(e),0),i}get allowsNesting(){return!0}}is.setState=Ut.define();function eO(r,e,n){let i=r.facet(Oo),o=ki(r).topNode;if(!i||i.allowsNesting)for(let a=o;a;a=a.enter(e,n,Ci.ExcludeBuffers))a.type.isTop&&(o=a);return o}class jf extends is{constructor(e,n,i){super(e,n,[],i),this.parser=n}static define(e){let n=_0(e.languageData);return new jf(n,e.parser.configure({props:[Ca.add(i=>i.isTop?n:void 0)]}),e.name)}configure(e,n){return new jf(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ki(r){let e=r.field(is.state,!1);return e?e.tree:di.empty}class lx{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let i=this.cursorPos-this.string.length;return e<i||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-i,n-i)}}let Pl=null;class Uf{constructor(e,n,i=[],o,a,c,f,d){this.parser=e,this.state=n,this.fragments=i,this.tree=o,this.treeLen=a,this.viewport=c,this.skipped=f,this.scheduleOn=d,this.parse=null,this.tempSkipped=[]}static create(e,n,i){return new Uf(e,n,[],di.empty,0,i,[],null)}startParse(){return this.parser.startParse(new lx(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=di.empty&&this.isDone(n!=null?n:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let o=Date.now()+e;e=()=>Date.now()>o}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let o=this.parse.advance();if(o)if(this.fragments=this.withoutTempSkipped(zo.addTree(o,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=o,this.parse=null,this.treeLen<(n!=null?n:this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(zo.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Pl;Pl=this;try{return e()}finally{Pl=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=tO(e,n.from,n.to);return e}changes(e,n){let{fragments:i,tree:o,treeLen:a,viewport:c,skipped:f}=this;if(this.takeTree(),!e.empty){let d=[];if(e.iterChangedRanges((m,O,y,P)=>d.push({fromA:m,toA:O,fromB:y,toB:P})),i=zo.applyChanges(i,d),o=di.empty,a=0,c={from:e.mapPos(c.from,-1),to:e.mapPos(c.to,1)},this.skipped.length){f=[];for(let m of this.skipped){let O=e.mapPos(m.from,1),y=e.mapPos(m.to,-1);O<y&&f.push({from:O,to:y})}}}return new Uf(this.parser,n,i,o,a,c,f,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:o,to:a}=this.skipped[i];o<e.to&&a>e.from&&(this.fragments=tO(this.fragments,o,a),this.skipped.splice(i--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends y0{createParse(n,i,o){let a=o[0].from,c=o[o.length-1].to;return{parsedPos:a,advance(){let d=Pl;if(d){for(let m of o)d.tempSkipped.push(m);e&&(d.scheduleOn=d.scheduleOn?Promise.all([d.scheduleOn,e]):e)}return this.parsedPos=c,new di(pr.none,[],[],c-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Pl}}function tO(r,e,n){return zo.applyChanges(r,[{fromA:e,toA:n,fromB:e,toB:n}])}class za{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,i)||n.takeTree(),new za(n)}static init(e){let n=Math.min(3e3,e.doc.length),i=Uf.create(e.facet(Oo).parser,e,{from:0,to:n});return i.work(20,n)||i.takeTree(),new za(i)}}is.state=Ti.define({create:za.init,update(r,e){for(let n of e.effects)if(n.is(is.setState))return n.value;return e.startState.facet(Oo)!=e.state.facet(Oo)?za.init(e.state):r.apply(e)}});let k0=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback!="undefined"&&(k0=r=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(r,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Sh=typeof navigator!="undefined"&&((kh=navigator.scheduling)===null||kh===void 0?void 0:kh.isInputPending)?()=>navigator.scheduling.isInputPending():null,cx=pi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(is.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(is.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=k0(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:o}}=this.view,a=i.field(is.state);if(a.tree==a.context.tree&&a.context.isDone(o+1e5))return;let c=Date.now()+Math.min(this.chunkBudget,100,e&&!Sh?Math.max(25,e.timeRemaining()-5):1e9),f=a.context.treeLen<o&&i.doc.length>o+1e3,d=a.context.work(()=>Sh&&Sh()||Date.now()>c,o+(f?0:1e5));this.chunkBudget-=Date.now()-n,(d||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:is.setState.of(new za(a.context))})),this.chunkBudget>0&&!(d&&!f)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Er(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Oo=pt.define({combine(r){return r.length?r[0]:null},enables:r=>[is.state,cx,Ot.contentAttributes.compute([r],e=>{let n=e.facet(r);return n&&n.name?{"data-language":n.name}:{}})]});class fx{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const ux=pt.define(),au=pt.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function qf(r){let e=r.facet(au);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function Gl(r,e){let n="",i=r.tabSize,o=r.facet(au)[0];if(o=="	"){for(;e>=i;)n+="	",e-=i;o=" "}for(let a=0;a<e;a++)n+=o;return n}function Id(r,e){r instanceof ln&&(r=new lu(r));for(let i of r.state.facet(ux)){let o=i(r,e);if(o!==void 0)return o}let n=ki(r.state);return n?hx(r,n,e):null}class lu{constructor(e,n={}){this.state=e,this.options=n,this.unit=qf(e)}lineAt(e,n=1){let i=this.state.doc.lineAt(e),{simulateBreak:o,simulateDoubleBreak:a}=this.options;return o!=null&&o>=i.from&&o<=i.to?a&&o==e?{text:"",from:e}:(n<0?o<e:o<=e)?{text:i.text.slice(o-i.from),from:o}:{text:i.text.slice(0,o-i.from),from:i.from}:i}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:o}=this.lineAt(e,n);return i.slice(e-o,Math.min(i.length,e+100-o))}column(e,n=1){let{text:i,from:o}=this.lineAt(e,n),a=this.countColumn(i,e-o),c=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return c>-1&&(a+=c-this.countColumn(i,i.search(/\S|$/))),a}countColumn(e,n=e.length){return ec(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:i,from:o}=this.lineAt(e,n),a=this.options.overrideIndentation;if(a){let c=a(o);if(c>-1)return c}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const S0=new Ft;function hx(r,e,n){return Q0(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,r)}function dx(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function px(r){let e=r.type.prop(S0);if(e)return e;let n=r.firstChild,i;if(n&&(i=n.type.prop(Ft.closedBy))){let o=r.lastChild,a=o&&i.indexOf(o.name)>-1;return c=>$0(c,!0,1,void 0,a&&!dx(c)?o.from:void 0)}return r.parent==null?mx:null}function Q0(r,e,n){for(;r;r=r.parent){let i=px(r);if(i)return i(Vd.create(n,e,r))}return null}function mx(){return 0}class Vd extends lu{constructor(e,n,i){super(e.state,e.options),this.base=e,this.pos=n,this.node=i}static create(e,n,i){return new Vd(e,n,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(gx(n,this.node))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?Q0(e,this.pos,this.base):0}}function gx(r,e){for(let n=e;n;n=n.parent)if(r==n)return!0;return!1}function Ox(r){let e=r.node,n=e.childAfter(e.from),i=e.lastChild;if(!n)return null;let o=r.options.simulateBreak,a=r.state.doc.lineAt(n.from),c=o==null||o<=a.from?a.to:Math.min(a.to,o);for(let f=n.to;;){let d=e.childAfter(f);if(!d||d==i)return null;if(!d.type.isSkipped)return d.from<c?n:null;f=d.to}}function vx({closing:r,align:e=!0,units:n=1}){return i=>$0(i,e,n,r)}function $0(r,e,n,i,o){let a=r.textAfter,c=a.match(/^\s*/)[0].length,f=i&&a.slice(c,c+i.length)==i||o==r.pos+c,d=e?Ox(r):null;return d?f?r.column(d.from):r.column(d.to):r.baseIndent+(f?0:r.unit*n)}const yx=r=>r.baseIndent;function Qh({except:r,units:e=1}={}){return n=>{let i=r&&r.test(n.textAfter);return n.baseIndent+(i?0:e*n.unit)}}const bx=200;function wx(){return ln.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let n=r.newDoc,{head:i}=r.newSelection.main,o=n.lineAt(i);if(i>o.from+bx)return r;let a=n.sliceString(o.from,i);if(!e.some(m=>m.test(a)))return r;let{state:c}=r,f=-1,d=[];for(let{head:m}of c.selection.ranges){let O=c.doc.lineAt(m);if(O.from==f)continue;f=O.from;let y=Id(c,O.from);if(y==null)continue;let P=/^\s*/.exec(O.text)[0],C=Gl(c,y);P!=C&&d.push({from:O.from,to:O.from+P.length,insert:C})}return d.length?[r,{changes:d,sequential:!0}]:r})}const xx=pt.define(),P0=new Ft;function _x(r){let e=r.firstChild,n=r.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?r.to:n.from}:null}function kx(r,e,n){let i=ki(r);if(i.length<n)return null;let o=i.resolveInner(n,1),a=null;for(let c=o;c;c=c.parent){if(c.to<=n||c.from>n)continue;if(a&&c.from<e)break;let f=c.type.prop(P0);if(f&&(c.to<i.length-50||i.length==r.doc.length||!Sx(c))){let d=f(c,r);d&&d.from<=n&&d.from>=e&&d.to>n&&(a=d)}}return a}function Sx(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function zf(r,e,n){for(let i of r.facet(xx)){let o=i(r,e,n);if(o)return o}return kx(r,e,n)}function C0(r,e){let n=e.mapPos(r.from,1),i=e.mapPos(r.to,-1);return n>=i?void 0:{from:n,to:i}}const cu=Ut.define({map:C0}),ic=Ut.define({map:C0});function T0(r){let e=[];for(let{head:n}of r.state.selection.ranges)e.some(i=>i.from<=n&&i.to>=n)||e.push(r.lineBlockAt(n));return e}const Bo=Ti.define({create(){return kt.none},update(r,e){r=r.map(e.changes);for(let n of e.effects)n.is(cu)&&!Qx(r,n.value.from,n.value.to)?r=r.update({add:[nO.range(n.value.from,n.value.to)]}):n.is(ic)&&(r=r.update({filter:(i,o)=>n.value.from!=i||n.value.to!=o,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:i}=e.selection.main;r.between(i,i,(o,a)=>{o<i&&a>i&&(n=!0)}),n&&(r=r.update({filterFrom:i,filterTo:i,filter:(o,a)=>a<=i||o>=i}))}return r},provide:r=>Ot.decorations.from(r),toJSON(r,e){let n=[];return r.between(0,e.doc.length,(i,o)=>{n.push(i,o)}),n},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<r.length;){let i=r[n++],o=r[n++];if(typeof i!="number"||typeof o!="number")throw new RangeError("Invalid JSON for fold state");e.push(nO.range(i,o))}return kt.set(e,!0)}});function If(r,e,n){var i;let o=null;return(i=r.field(Bo,!1))===null||i===void 0||i.between(e,n,(a,c)=>{(!o||o.from>a)&&(o={from:a,to:c})}),o}function Qx(r,e,n){let i=!1;return r.between(e,e,(o,a)=>{o==e&&a==n&&(i=!0)}),i}function E0(r,e){return r.field(Bo,!1)?e:e.concat(Ut.appendConfig.of(Z0()))}const $x=r=>{for(let e of T0(r)){let n=zf(r.state,e.from,e.to);if(n)return r.dispatch({effects:E0(r.state,[cu.of(n),A0(r,n)])}),!0}return!1},Px=r=>{if(!r.state.field(Bo,!1))return!1;let e=[];for(let n of T0(r)){let i=If(r.state,n.from,n.to);i&&e.push(ic.of(i),A0(r,i,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function A0(r,e,n=!0){let i=r.state.doc.lineAt(e.from).number,o=r.state.doc.lineAt(e.to).number;return Ot.announce.of(`${r.state.phrase(n?"Folded lines":"Unfolded lines")} ${i} ${r.state.phrase("to")} ${o}.`)}const Cx=r=>{let{state:e}=r,n=[];for(let i=0;i<e.doc.length;){let o=r.lineBlockAt(i),a=zf(e,o.from,o.to);a&&n.push(cu.of(a)),i=(a?r.lineBlockAt(a.to):o).to+1}return n.length&&r.dispatch({effects:E0(r.state,n)}),!!n.length},Tx=r=>{let e=r.state.field(Bo,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,r.state.doc.length,(i,o)=>{n.push(ic.of({from:i,to:o}))}),r.dispatch({effects:n}),!0},Ex=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:$x},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Px},{key:"Ctrl-Alt-[",run:Cx},{key:"Ctrl-Alt-]",run:Tx}],Ax={placeholderDOM:null,placeholderText:"\u2026"},D0=pt.define({combine(r){return Cs(r,Ax)}});function Z0(r){let e=[Bo,Mx];return r&&e.push(D0.of(r)),e}const nO=kt.replace({widget:new class extends Fs{toDOM(r){let{state:e}=r,n=e.facet(D0),i=a=>{let c=r.lineBlockAt(r.posAtDOM(a.target)),f=If(r.state,c.from,c.to);f&&r.dispatch({effects:ic.of(f)}),a.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(r,i);let o=document.createElement("span");return o.textContent=n.placeholderText,o.setAttribute("aria-label",e.phrase("folded code")),o.title=e.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}}}),Dx={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class $h extends Bs{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Zx(r={}){let e=Object.assign(Object.assign({},Dx),r),n=new $h(e,!0),i=new $h(e,!1),o=pi.fromClass(class{constructor(c){this.from=c.viewport.from,this.markers=this.buildMarkers(c)}update(c){(c.docChanged||c.viewportChanged||c.startState.facet(Oo)!=c.state.facet(Oo)||c.startState.field(Bo,!1)!=c.state.field(Bo,!1)||ki(c.startState)!=ki(c.state)||e.foldingChanged(c))&&(this.markers=this.buildMarkers(c.view))}buildMarkers(c){let f=new ho;for(let d of c.viewportLineBlocks){let m=If(c.state,d.from,d.to)?i:zf(c.state,d.from,d.to)?n:null;m&&f.add(d.from,d.from,m)}return f.finish()}}),{domEventHandlers:a}=e;return[o,Y1({class:"cm-foldGutter",markers(c){var f;return((f=c.plugin(o))===null||f===void 0?void 0:f.markers)||Qn.empty},initialSpacer(){return new $h(e,!1)},domEventHandlers:Object.assign(Object.assign({},a),{click:(c,f,d)=>{if(a.click&&a.click(c,f,d))return!0;let m=If(c.state,f.from,f.to);if(m)return c.dispatch({effects:ic.of(m)}),!0;let O=zf(c.state,f.from,f.to);return O?(c.dispatch({effects:cu.of(O)}),!0):!1}})}),Z0()]}const Mx=Ot.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class fu{constructor(e,n){this.specs=e;let i;function o(f){let d=po.newName();return(i||(i=Object.create(null)))["."+d]=f,d}const a=typeof n.all=="string"?n.all:n.all?o(n.all):void 0,c=n.scope;this.scope=c instanceof is?f=>f.prop(Ca)==c.data:c?f=>f==c:void 0,this.style=x0(e.map(f=>({tag:f.tag,class:f.class||o(Object.assign({},f,{tag:null}))})),{all:a}).style,this.module=i?new po(i):null,this.themeType=n.themeType}static define(e,n){return new fu(e,n||{})}}const gd=pt.define(),M0=pt.define({combine(r){return r.length?[r[0]]:null}});function Ph(r){let e=r.facet(gd);return e.length?e:r.facet(M0)}function Xx(r,e){let n=[Yx],i;return r instanceof fu&&(r.module&&n.push(Ot.styleModule.of(r.module)),i=r.themeType),e!=null&&e.fallback?n.push(M0.of(r)):i?n.push(gd.computeN([Ot.darkTheme],o=>o.facet(Ot.darkTheme)==(i=="dark")?[r]:[])):n.push(gd.of(r)),n}class Rx{constructor(e){this.markCache=Object.create(null),this.tree=ki(e.state),this.decorations=this.buildDeco(e,Ph(e.state))}update(e){let n=ki(e.state),i=Ph(e.state),o=i!=Ph(e.startState);n.length<e.view.viewport.to&&!o&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||o)&&(this.tree=n,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,n){if(!n||!this.tree.length)return kt.none;let i=new ho;for(let{from:o,to:a}of e.visibleRanges)sx(this.tree,n,(c,f,d)=>{i.add(c,f,this.markCache[d]||(this.markCache[d]=kt.mark({class:d})))},o,a);return i.finish()}}const Yx=Fo.high(pi.fromClass(Rx,{decorations:r=>r.decorations})),Wx=fu.define([{tag:ge.meta,color:"#404740"},{tag:ge.link,textDecoration:"underline"},{tag:ge.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ge.emphasis,fontStyle:"italic"},{tag:ge.strong,fontWeight:"bold"},{tag:ge.strikethrough,textDecoration:"line-through"},{tag:ge.keyword,color:"#708"},{tag:[ge.atom,ge.bool,ge.url,ge.contentSeparator,ge.labelName],color:"#219"},{tag:[ge.literal,ge.inserted],color:"#164"},{tag:[ge.string,ge.deleted],color:"#a11"},{tag:[ge.regexp,ge.escape,ge.special(ge.string)],color:"#e40"},{tag:ge.definition(ge.variableName),color:"#00f"},{tag:ge.local(ge.variableName),color:"#30a"},{tag:[ge.typeName,ge.namespace],color:"#085"},{tag:ge.className,color:"#167"},{tag:[ge.special(ge.variableName),ge.macroName],color:"#256"},{tag:ge.definition(ge.propertyName),color:"#00c"},{tag:ge.comment,color:"#940"},{tag:ge.invalid,color:"#f00"}]),jx=Ot.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),X0=1e4,R0="()[]{}",Y0=pt.define({combine(r){return Cs(r,{afterCursor:!0,brackets:R0,maxScanDistance:X0,renderMatch:zx})}}),Ux=kt.mark({class:"cm-matchingBracket"}),qx=kt.mark({class:"cm-nonmatchingBracket"});function zx(r){let e=[],n=r.matched?Ux:qx;return e.push(n.range(r.start.from,r.start.to)),r.end&&e.push(n.range(r.end.from,r.end.to)),e}const Ix=Ti.define({create(){return kt.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let n=[],i=e.state.facet(Y0);for(let o of e.state.selection.ranges){if(!o.empty)continue;let a=ks(e.state,o.head,-1,i)||o.head>0&&ks(e.state,o.head-1,1,i)||i.afterCursor&&(ks(e.state,o.head,1,i)||o.head<e.state.doc.length&&ks(e.state,o.head+1,-1,i));a&&(n=n.concat(i.renderMatch(a,e.state)))}return kt.set(n,!0)},provide:r=>Ot.decorations.from(r)}),Vx=[Ix,jx];function Lx(r={}){return[Y0.of(r),Vx]}const Bx=new Ft;function Od(r,e,n){let i=r.prop(e<0?Ft.openedBy:Ft.closedBy);if(i)return i;if(r.name.length==1){let o=n.indexOf(r.name);if(o>-1&&o%2==(e<0?1:0))return[n[o+e]]}return null}function vd(r){let e=r.type.prop(Bx);return e?e(r.node):r}function ks(r,e,n,i={}){let o=i.maxScanDistance||X0,a=i.brackets||R0,c=ki(r),f=c.resolveInner(e,n);for(let d=f;d;d=d.parent){let m=Od(d.type,n,a);if(m&&d.from<d.to){let O=vd(d);if(O&&(n>0?e>=O.from&&e<O.to:e>O.from&&e<=O.to))return Fx(r,e,n,d,O,m,a)}}return Nx(r,e,n,c,f.type,o,a)}function Fx(r,e,n,i,o,a,c){let f=i.parent,d={from:o.from,to:o.to},m=0,O=f==null?void 0:f.cursor();if(O&&(n<0?O.childBefore(i.from):O.childAfter(i.to)))do if(n<0?O.to<=i.from:O.from>=i.to){if(m==0&&a.indexOf(O.type.name)>-1&&O.from<O.to){let y=vd(O);return{start:d,end:y?{from:y.from,to:y.to}:void 0,matched:!0}}else if(Od(O.type,n,c))m++;else if(Od(O.type,-n,c)){if(m==0){let y=vd(O);return{start:d,end:y&&y.from<y.to?{from:y.from,to:y.to}:void 0,matched:!1}}m--}}while(n<0?O.prevSibling():O.nextSibling());return{start:d,matched:!1}}function Nx(r,e,n,i,o,a,c){let f=n<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),d=c.indexOf(f);if(d<0||d%2==0!=n>0)return null;let m={from:n<0?e-1:e,to:n>0?e+1:e},O=r.doc.iterRange(e,n>0?r.doc.length:0),y=0;for(let P=0;!O.next().done&&P<=a;){let C=O.value;n<0&&(P+=C.length);let W=e+P*n;for(let ae=n>0?0:C.length-1,fe=n>0?C.length:-1;ae!=fe;ae+=n){let xe=c.indexOf(C[ae]);if(!(xe<0||i.resolveInner(W+ae,1).type!=o))if(xe%2==0==n>0)y++;else{if(y==1)return{start:m,end:{from:W+ae,to:W+ae+1},matched:xe>>1==d>>1};y--}}n>0&&(P+=C.length)}return O.done?{start:m,matched:!1}:null}const Gx=Object.create(null),iO=[pr.none],rO=[],Hx=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Hx[r]=Jx(Gx,e);function Ch(r,e){rO.indexOf(r)>-1||(rO.push(r),console.warn(e))}function Jx(r,e){let n=null;for(let a of e.split(".")){let c=r[a]||ge[a];c?typeof c=="function"?n?n=c(n):Ch(a,`Modifier ${a} used at start of tag`):n?Ch(a,`Tag ${a} used as modifier`):n=c:Ch(a,`Unknown highlighting tag ${a}`)}if(!n)return 0;let i=e.replace(/ /g,"_"),o=pr.define({id:iO.length,name:i,props:[b0({[i]:n})]});return iO.push(o),o.id}const Kx=r=>{let{state:e}=r,n=e.doc.lineAt(e.selection.main.head),i=Bd(r.state,n.from);return i.line?e_(r):i.block?n_(r):!1};function Ld(r,e){return({state:n,dispatch:i})=>{if(n.readOnly)return!1;let o=r(e,n);return o?(i(n.update(o)),!0):!1}}const e_=Ld(s_,0),t_=Ld(W0,0),n_=Ld((r,e)=>W0(r,e,r_(e)),0);function Bd(r,e){let n=r.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Cl=50;function i_(r,{open:e,close:n},i,o){let a=r.sliceDoc(i-Cl,i),c=r.sliceDoc(o,o+Cl),f=/\s*$/.exec(a)[0].length,d=/^\s*/.exec(c)[0].length,m=a.length-f;if(a.slice(m-e.length,m)==e&&c.slice(d,d+n.length)==n)return{open:{pos:i-f,margin:f&&1},close:{pos:o+d,margin:d&&1}};let O,y;o-i<=2*Cl?O=y=r.sliceDoc(i,o):(O=r.sliceDoc(i,i+Cl),y=r.sliceDoc(o-Cl,o));let P=/^\s*/.exec(O)[0].length,C=/\s*$/.exec(y)[0].length,W=y.length-C-n.length;return O.slice(P,P+e.length)==e&&y.slice(W,W+n.length)==n?{open:{pos:i+P+e.length,margin:/\s/.test(O.charAt(P+e.length))?1:0},close:{pos:o-C-n.length,margin:/\s/.test(y.charAt(W-1))?1:0}}:null}function r_(r){let e=[];for(let n of r.selection.ranges){let i=r.doc.lineAt(n.from),o=n.to<=i.to?i:r.doc.lineAt(n.to),a=e.length-1;a>=0&&e[a].to>i.from?e[a].to=o.to:e.push({from:i.from,to:o.to})}return e}function W0(r,e,n=e.selection.ranges){let i=n.map(a=>Bd(e,a.from).block);if(!i.every(a=>a))return null;let o=n.map((a,c)=>i_(e,i[c],a.from,a.to));if(r!=2&&!o.every(a=>a))return{changes:e.changes(n.map((a,c)=>o[c]?[]:[{from:a.from,insert:i[c].open+" "},{from:a.to,insert:" "+i[c].close}]))};if(r!=1&&o.some(a=>a)){let a=[];for(let c=0,f;c<o.length;c++)if(f=o[c]){let d=i[c],{open:m,close:O}=f;a.push({from:m.pos-d.open.length,to:m.pos+m.margin},{from:O.pos-O.margin,to:O.pos+d.close.length})}return{changes:a}}return null}function s_(r,e,n=e.selection.ranges){let i=[],o=-1;for(let{from:a,to:c}of n){let f=i.length,d=1e9;for(let m=a;m<=c;){let O=e.doc.lineAt(m);if(O.from>o&&(a==c||c>O.from)){o=O.from;let y=Bd(e,O.from).line;if(!y)continue;let P=/^\s*/.exec(O.text)[0].length,C=P==O.length,W=O.text.slice(P,P+y.length)==y?P:-1;P<O.text.length&&P<d&&(d=P),i.push({line:O,comment:W,token:y,indent:P,empty:C,single:!1})}m=O.to+1}if(d<1e9)for(let m=f;m<i.length;m++)i[m].indent<i[m].line.text.length&&(i[m].indent=d);i.length==f+1&&(i[f].single=!0)}if(r!=2&&i.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:f,token:d,indent:m,empty:O,single:y}of i)(y||!O)&&a.push({from:f.from+m,insert:d+" "});let c=e.changes(a);return{changes:c,selection:e.selection.map(c,1)}}else if(r!=1&&i.some(a=>a.comment>=0)){let a=[];for(let{line:c,comment:f,token:d}of i)if(f>=0){let m=c.from+f,O=m+d.length;c.text[O-c.from]==" "&&O++,a.push({from:m,to:O})}return{changes:a}}return null}const yd=vo.define(),o_=vo.define(),a_=pt.define(),j0=pt.define({combine(r){return Cs(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(i,o)=>e(i,o)||n(i,o)})}});function l_(r){let e=0;return r.iterChangedRanges((n,i)=>e=i),e}const U0=Ti.define({create(){return Ss.empty},update(r,e){let n=e.state.facet(j0),i=e.annotation(yd);if(i){let d=e.docChanged?$e.single(l_(e.changes)):void 0,m=dr.fromTransaction(e,d),O=i.side,y=O==0?r.undone:r.done;return m?y=Vf(y,y.length,n.minDepth,m):y=I0(y,e.startState.selection),new Ss(O==0?i.rest:y,O==0?y:i.rest)}let o=e.annotation(o_);if((o=="full"||o=="before")&&(r=r.isolate()),e.annotation(xi.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let a=dr.fromTransaction(e),c=e.annotation(xi.time),f=e.annotation(xi.userEvent);return a?r=r.addChanges(a,c,f,n,e):e.selection&&(r=r.addSelection(e.startState.selection,c,f,n.newGroupDelay)),(o=="full"||o=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new Ss(r.done.map(dr.fromJSON),r.undone.map(dr.fromJSON))}});function c_(r={}){return[U0,j0.of(r),Ot.domEventHandlers({beforeinput(e,n){let i=e.inputType=="historyUndo"?q0:e.inputType=="historyRedo"?bd:null;return i?(e.preventDefault(),i(n)):!1}})]}function uu(r,e){return function({state:n,dispatch:i}){if(!e&&n.readOnly)return!1;let o=n.field(U0,!1);if(!o)return!1;let a=o.pop(r,n,e);return a?(i(a),!0):!1}}const q0=uu(0,!1),bd=uu(1,!1),f_=uu(0,!0),u_=uu(1,!0);class dr{constructor(e,n,i,o,a){this.changes=e,this.effects=n,this.mapped=i,this.startSelection=o,this.selectionsAfter=a}setSelAfter(e){return new dr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(o=>o.toJSON())}}static fromJSON(e){return new dr(e.changes&&wi.fromJSON(e.changes),[],e.mapped&&Qs.fromJSON(e.mapped),e.startSelection&&$e.fromJSON(e.startSelection),e.selectionsAfter.map($e.fromJSON))}static fromTransaction(e,n){let i=Ur;for(let o of e.startState.facet(a_)){let a=o(e);a.length&&(i=i.concat(a))}return!i.length&&e.changes.empty?null:new dr(e.changes.invert(e.startState.doc),i,void 0,n||e.startState.selection,Ur)}static selection(e){return new dr(void 0,Ur,void 0,void 0,e)}}function Vf(r,e,n,i){let o=e+1>n+20?e-n-1:0,a=r.slice(o,e);return a.push(i),a}function h_(r,e){let n=[],i=!1;return r.iterChangedRanges((o,a)=>n.push(o,a)),e.iterChangedRanges((o,a,c,f)=>{for(let d=0;d<n.length;){let m=n[d++],O=n[d++];f>=m&&c<=O&&(i=!0)}}),i}function d_(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((n,i)=>n.empty!=e.ranges[i].empty).length===0}function z0(r,e){return r.length?e.length?r.concat(e):r:e}const Ur=[],p_=200;function I0(r,e){if(r.length){let n=r[r.length-1],i=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-p_));return i.length&&i[i.length-1].eq(e)?r:(i.push(e),Vf(r,r.length-1,1e9,n.setSelAfter(i)))}else return[dr.selection([e])]}function m_(r){let e=r[r.length-1],n=r.slice();return n[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Th(r,e){if(!r.length)return r;let n=r.length,i=Ur;for(;n;){let o=g_(r[n-1],e,i);if(o.changes&&!o.changes.empty||o.effects.length){let a=r.slice(0,n);return a[n-1]=o,a}else e=o.mapped,n--,i=o.selectionsAfter}return i.length?[dr.selection(i)]:Ur}function g_(r,e,n){let i=z0(r.selectionsAfter.length?r.selectionsAfter.map(f=>f.map(e)):Ur,n);if(!r.changes)return dr.selection(i);let o=r.changes.map(e),a=e.mapDesc(r.changes,!0),c=r.mapped?r.mapped.composeDesc(a):a;return new dr(o,Ut.mapEffects(r.effects,e),c,r.startSelection.map(a),i)}const O_=/^(input\.type|delete)($|\.)/;class Ss{constructor(e,n,i=0,o=void 0){this.done=e,this.undone=n,this.prevTime=i,this.prevUserEvent=o}isolate(){return this.prevTime?new Ss(this.done,this.undone):this}addChanges(e,n,i,o,a){let c=this.done,f=c[c.length-1];return f&&f.changes&&!f.changes.empty&&e.changes&&(!i||O_.test(i))&&(!f.selectionsAfter.length&&n-this.prevTime<o.newGroupDelay&&o.joinToEvent(a,h_(f.changes,e.changes))||i=="input.type.compose")?c=Vf(c,c.length-1,o.minDepth,new dr(e.changes.compose(f.changes),z0(e.effects,f.effects),f.mapped,f.startSelection,Ur)):c=Vf(c,c.length,o.minDepth,e),new Ss(c,Ur,n,i)}addSelection(e,n,i,o){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:Ur;return a.length>0&&n-this.prevTime<o&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&d_(a[a.length-1],e)?this:new Ss(I0(this.done,e),this.undone,n,i)}addMapping(e){return new Ss(Th(this.done,e),Th(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,i){let o=e==0?this.done:this.undone;if(o.length==0)return null;let a=o[o.length-1];if(i&&a.selectionsAfter.length)return n.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:yd.of({side:e,rest:m_(o)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let c=o.length==1?Ur:o.slice(0,o.length-1);return a.mapped&&(c=Th(c,a.mapped)),n.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:yd.of({side:e,rest:c}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ss.empty=new Ss(Ur,Ur);const v_=[{key:"Mod-z",run:q0,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:bd,preventDefault:!0},{linux:"Ctrl-Shift-z",run:bd,preventDefault:!0},{key:"Mod-u",run:f_,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:u_,preventDefault:!0}];function La(r,e){return $e.create(r.ranges.map(e),r.mainIndex)}function Ts(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ss({state:r,dispatch:e},n){let i=La(r.selection,n);return i.eq(r.selection)?!1:(e(Ts(r,i)),!0)}function hu(r,e){return $e.cursor(e?r.to:r.from)}function V0(r,e){return ss(r,n=>n.empty?r.moveByChar(n,e):hu(n,e))}function Ii(r){return r.textDirectionAt(r.state.selection.main.head)==Kn.LTR}const L0=r=>V0(r,!Ii(r)),B0=r=>V0(r,Ii(r));function F0(r,e){return ss(r,n=>n.empty?r.moveByGroup(n,e):hu(n,e))}const y_=r=>F0(r,!Ii(r)),b_=r=>F0(r,Ii(r));function w_(r,e,n){if(e.type.prop(n))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function du(r,e,n){let i=ki(r).resolveInner(e.head),o=n?Ft.closedBy:Ft.openedBy;for(let d=e.head;;){let m=n?i.childAfter(d):i.childBefore(d);if(!m)break;w_(r,m,o)?i=m:d=n?m.to:m.from}let a=i.type.prop(o),c,f;return a&&(c=n?ks(r,i.from,1):ks(r,i.to,-1))&&c.matched?f=n?c.end.to:c.end.from:f=n?i.to:i.from,$e.cursor(f,n?-1:1)}const x_=r=>ss(r,e=>du(r.state,e,!Ii(r))),__=r=>ss(r,e=>du(r.state,e,Ii(r)));function N0(r,e){return ss(r,n=>{if(!n.empty)return hu(n,e);let i=r.moveVertically(n,e);return i.head!=n.head?i:r.moveToLineBoundary(n,e)})}const G0=r=>N0(r,!1),H0=r=>N0(r,!0);function J0(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,n=0,i=0,o;if(e){for(let a of r.state.facet(Ot.scrollMargins)){let c=a(r);c!=null&&c.top&&(n=Math.max(c==null?void 0:c.top,n)),c!=null&&c.bottom&&(i=Math.max(c==null?void 0:c.bottom,i))}o=r.scrollDOM.clientHeight-n-i}else o=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:e,height:Math.max(r.defaultLineHeight,o-5)}}function K0(r,e){let n=J0(r),{state:i}=r,o=La(i.selection,c=>c.empty?r.moveVertically(c,e,n.height):hu(c,e));if(o.eq(i.selection))return!1;let a;if(n.selfScroll){let c=r.coordsAtPos(i.selection.main.head),f=r.scrollDOM.getBoundingClientRect(),d=f.top+n.marginTop,m=f.bottom-n.marginBottom;c&&c.top>d&&c.bottom<m&&(a=Ot.scrollIntoView(o.main.head,{y:"start",yMargin:c.top-d}))}return r.dispatch(Ts(i,o),{effects:a}),!0}const sO=r=>K0(r,!1),wd=r=>K0(r,!0);function yo(r,e,n){let i=r.lineBlockAt(e.head),o=r.moveToLineBoundary(e,n);if(o.head==e.head&&o.head!=(n?i.to:i.from)&&(o=r.moveToLineBoundary(e,n,!1)),!n&&o.head==i.from&&i.length){let a=/^\s*/.exec(r.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;a&&e.head!=i.from+a&&(o=$e.cursor(i.from+a))}return o}const k_=r=>ss(r,e=>yo(r,e,!0)),S_=r=>ss(r,e=>yo(r,e,!1)),Q_=r=>ss(r,e=>yo(r,e,!Ii(r))),$_=r=>ss(r,e=>yo(r,e,Ii(r))),P_=r=>ss(r,e=>$e.cursor(r.lineBlockAt(e.head).from,1)),C_=r=>ss(r,e=>$e.cursor(r.lineBlockAt(e.head).to,-1));function T_(r,e,n){let i=!1,o=La(r.selection,a=>{let c=ks(r,a.head,-1)||ks(r,a.head,1)||a.head>0&&ks(r,a.head-1,1)||a.head<r.doc.length&&ks(r,a.head+1,-1);if(!c||!c.end)return a;i=!0;let f=c.start.from==a.head?c.end.to:c.end.from;return n?$e.range(a.anchor,f):$e.cursor(f)});return i?(e(Ts(r,o)),!0):!1}const E_=({state:r,dispatch:e})=>T_(r,e,!1);function zr(r,e){let n=La(r.state.selection,i=>{let o=e(i);return $e.range(i.anchor,o.head,o.goalColumn,o.bidiLevel||void 0)});return n.eq(r.state.selection)?!1:(r.dispatch(Ts(r.state,n)),!0)}function ey(r,e){return zr(r,n=>r.moveByChar(n,e))}const ty=r=>ey(r,!Ii(r)),ny=r=>ey(r,Ii(r));function iy(r,e){return zr(r,n=>r.moveByGroup(n,e))}const A_=r=>iy(r,!Ii(r)),D_=r=>iy(r,Ii(r)),Z_=r=>zr(r,e=>du(r.state,e,!Ii(r))),M_=r=>zr(r,e=>du(r.state,e,Ii(r)));function ry(r,e){return zr(r,n=>r.moveVertically(n,e))}const sy=r=>ry(r,!1),oy=r=>ry(r,!0);function ay(r,e){return zr(r,n=>r.moveVertically(n,e,J0(r).height))}const oO=r=>ay(r,!1),aO=r=>ay(r,!0),X_=r=>zr(r,e=>yo(r,e,!0)),R_=r=>zr(r,e=>yo(r,e,!1)),Y_=r=>zr(r,e=>yo(r,e,!Ii(r))),W_=r=>zr(r,e=>yo(r,e,Ii(r))),j_=r=>zr(r,e=>$e.cursor(r.lineBlockAt(e.head).from)),U_=r=>zr(r,e=>$e.cursor(r.lineBlockAt(e.head).to)),lO=({state:r,dispatch:e})=>(e(Ts(r,{anchor:0})),!0),cO=({state:r,dispatch:e})=>(e(Ts(r,{anchor:r.doc.length})),!0),fO=({state:r,dispatch:e})=>(e(Ts(r,{anchor:r.selection.main.anchor,head:0})),!0),uO=({state:r,dispatch:e})=>(e(Ts(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),q_=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),z_=({state:r,dispatch:e})=>{let n=mu(r).map(({from:i,to:o})=>$e.range(i,Math.min(o+1,r.doc.length)));return e(r.update({selection:$e.create(n),userEvent:"select"})),!0},I_=({state:r,dispatch:e})=>{let n=La(r.selection,i=>{var o;let a=ki(r).resolveInner(i.head,1);for(;!(a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from||!(!((o=a.parent)===null||o===void 0)&&o.parent));)a=a.parent;return $e.range(a.to,a.from)});return e(Ts(r,n)),!0},V_=({state:r,dispatch:e})=>{let n=r.selection,i=null;return n.ranges.length>1?i=$e.create([n.main]):n.main.empty||(i=$e.create([$e.cursor(n.main.head)])),i?(e(Ts(r,i)),!0):!1};function pu(r,e){if(r.state.readOnly)return!1;let n="delete.selection",{state:i}=r,o=i.changeByRange(a=>{let{from:c,to:f}=a;if(c==f){let d=e(c);d<c?(n="delete.backward",d=df(r,d,!1)):d>c&&(n="delete.forward",d=df(r,d,!0)),c=Math.min(c,d),f=Math.max(f,d)}else c=df(r,c,!1),f=df(r,f,!0);return c==f?{range:a}:{changes:{from:c,to:f},range:$e.cursor(c)}});return o.changes.empty?!1:(r.dispatch(i.update(o,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Ot.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function df(r,e,n){if(r instanceof Ot)for(let i of r.state.facet(Ot.atomicRanges).map(o=>o(r)))i.between(e,e,(o,a)=>{o<e&&a>e&&(e=n?a:o)});return e}const ly=(r,e)=>pu(r,n=>{let{state:i}=r,o=i.doc.lineAt(n),a,c;if(!e&&n>o.from&&n<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,n-o.from))){if(a[a.length-1]=="	")return n-1;let f=ec(a,i.tabSize),d=f%qf(i)||qf(i);for(let m=0;m<d&&a[a.length-1-m]==" ";m++)n--;c=n}else c=er(o.text,n-o.from,e,e)+o.from,c==n&&o.number!=(e?i.doc.lines:1)&&(c+=e?1:-1);return c}),xd=r=>ly(r,!1),cy=r=>ly(r,!0),fy=(r,e)=>pu(r,n=>{let i=n,{state:o}=r,a=o.doc.lineAt(i),c=o.charCategorizer(i);for(let f=null;;){if(i==(e?a.to:a.from)){i==n&&a.number!=(e?o.doc.lines:1)&&(i+=e?1:-1);break}let d=er(a.text,i-a.from,e)+a.from,m=a.text.slice(Math.min(i,d)-a.from,Math.max(i,d)-a.from),O=c(m);if(f!=null&&O!=f)break;(m!=" "||i!=n)&&(f=O),i=d}return i}),uy=r=>fy(r,!1),L_=r=>fy(r,!0),hy=r=>pu(r,e=>{let n=r.lineBlockAt(e).to;return e<n?n:Math.min(r.state.doc.length,e+1)}),B_=r=>pu(r,e=>{let n=r.lineBlockAt(e).from;return e>n?n:Math.max(0,e-1)}),F_=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=r.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:mn.of(["",""])},range:$e.cursor(i.from)}));return e(r.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},N_=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=r.changeByRange(i=>{if(!i.empty||i.from==0||i.from==r.doc.length)return{range:i};let o=i.from,a=r.doc.lineAt(o),c=o==a.from?o-1:er(a.text,o-a.from,!1)+a.from,f=o==a.to?o+1:er(a.text,o-a.from,!0)+a.from;return{changes:{from:c,to:f,insert:r.doc.slice(o,f).append(r.doc.slice(c,o))},range:$e.cursor(f)}});return n.changes.empty?!1:(e(r.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function mu(r){let e=[],n=-1;for(let i of r.selection.ranges){let o=r.doc.lineAt(i.from),a=r.doc.lineAt(i.to);if(!i.empty&&i.to==a.from&&(a=r.doc.lineAt(i.to-1)),n>=o.number){let c=e[e.length-1];c.to=a.to,c.ranges.push(i)}else e.push({from:o.from,to:a.to,ranges:[i]});n=a.number+1}return e}function dy(r,e,n){if(r.readOnly)return!1;let i=[],o=[];for(let a of mu(r)){if(n?a.to==r.doc.length:a.from==0)continue;let c=r.doc.lineAt(n?a.to+1:a.from-1),f=c.length+1;if(n){i.push({from:a.to,to:c.to},{from:a.from,insert:c.text+r.lineBreak});for(let d of a.ranges)o.push($e.range(Math.min(r.doc.length,d.anchor+f),Math.min(r.doc.length,d.head+f)))}else{i.push({from:c.from,to:a.from},{from:a.to,insert:r.lineBreak+c.text});for(let d of a.ranges)o.push($e.range(d.anchor-f,d.head-f))}}return i.length?(e(r.update({changes:i,scrollIntoView:!0,selection:$e.create(o,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const G_=({state:r,dispatch:e})=>dy(r,e,!1),H_=({state:r,dispatch:e})=>dy(r,e,!0);function py(r,e,n){if(r.readOnly)return!1;let i=[];for(let o of mu(r))n?i.push({from:o.from,insert:r.doc.slice(o.from,o.to)+r.lineBreak}):i.push({from:o.to,insert:r.lineBreak+r.doc.slice(o.from,o.to)});return e(r.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const J_=({state:r,dispatch:e})=>py(r,e,!1),K_=({state:r,dispatch:e})=>py(r,e,!0),ek=r=>{if(r.state.readOnly)return!1;let{state:e}=r,n=e.changes(mu(e).map(({from:o,to:a})=>(o>0?o--:a<e.doc.length&&a++,{from:o,to:a}))),i=La(e.selection,o=>r.moveVertically(o,!0)).map(n);return r.dispatch({changes:n,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function tk(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=ki(r).resolveInner(e),i=n.childBefore(e),o=n.childAfter(e),a;return i&&o&&i.to<=e&&o.from>=e&&(a=i.type.prop(Ft.closedBy))&&a.indexOf(o.name)>-1&&r.doc.lineAt(i.to).from==r.doc.lineAt(o.from).from?{from:i.to,to:o.from}:null}const nk=my(!1),ik=my(!0);function my(r){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let i=e.changeByRange(o=>{let{from:a,to:c}=o,f=e.doc.lineAt(a),d=!r&&a==c&&tk(e,a);r&&(a=c=(c<=f.to?f:e.doc.lineAt(c)).to);let m=new lu(e,{simulateBreak:a,simulateDoubleBreak:!!d}),O=Id(m,a);for(O==null&&(O=/^\s*/.exec(e.doc.lineAt(a).text)[0].length);c<f.to&&/\s/.test(f.text[c-f.from]);)c++;d?{from:a,to:c}=d:a>f.from&&a<f.from+100&&!/\S/.test(f.text.slice(0,a))&&(a=f.from);let y=["",Gl(e,O)];return d&&y.push(Gl(e,m.lineIndent(f.from,-1))),{changes:{from:a,to:c,insert:mn.of(y)},range:$e.cursor(a+1+y[1].length)}});return n(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Fd(r,e){let n=-1;return r.changeByRange(i=>{let o=[];for(let c=i.from;c<=i.to;){let f=r.doc.lineAt(c);f.number>n&&(i.empty||i.to>f.from)&&(e(f,o,i),n=f.number),c=f.to+1}let a=r.changes(o);return{changes:o,range:$e.range(a.mapPos(i.anchor,1),a.mapPos(i.head,1))}})}const rk=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=Object.create(null),i=new lu(r,{overrideIndentation:a=>{let c=n[a];return c==null?-1:c}}),o=Fd(r,(a,c,f)=>{let d=Id(i,a.from);if(d==null)return;/\S/.test(a.text)||(d=0);let m=/^\s*/.exec(a.text)[0],O=Gl(r,d);(m!=O||f.from<a.from+m.length)&&(n[a.from]=d,c.push({from:a.from,to:a.from+m.length,insert:O}))});return o.changes.empty||e(r.update(o,{userEvent:"indent"})),!0},sk=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Fd(r,(n,i)=>{i.push({from:n.from,insert:r.facet(au)})}),{userEvent:"input.indent"})),!0),ok=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(Fd(r,(n,i)=>{let o=/^\s*/.exec(n.text)[0];if(!o)return;let a=ec(o,r.tabSize),c=0,f=Gl(r,Math.max(0,a-qf(r)));for(;c<o.length&&c<f.length&&o.charCodeAt(c)==f.charCodeAt(c);)c++;i.push({from:n.from+c,to:n.from+o.length,insert:f.slice(c)})}),{userEvent:"delete.dedent"})),!0),ak=[{key:"Ctrl-b",run:L0,shift:ty,preventDefault:!0},{key:"Ctrl-f",run:B0,shift:ny},{key:"Ctrl-p",run:G0,shift:sy},{key:"Ctrl-n",run:H0,shift:oy},{key:"Ctrl-a",run:P_,shift:j_},{key:"Ctrl-e",run:C_,shift:U_},{key:"Ctrl-d",run:cy},{key:"Ctrl-h",run:xd},{key:"Ctrl-k",run:hy},{key:"Ctrl-Alt-h",run:uy},{key:"Ctrl-o",run:F_},{key:"Ctrl-t",run:N_},{key:"Ctrl-v",run:wd}],lk=[{key:"ArrowLeft",run:L0,shift:ty,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:y_,shift:A_,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Q_,shift:Y_,preventDefault:!0},{key:"ArrowRight",run:B0,shift:ny,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:b_,shift:D_,preventDefault:!0},{mac:"Cmd-ArrowRight",run:$_,shift:W_,preventDefault:!0},{key:"ArrowUp",run:G0,shift:sy,preventDefault:!0},{mac:"Cmd-ArrowUp",run:lO,shift:fO},{mac:"Ctrl-ArrowUp",run:sO,shift:oO},{key:"ArrowDown",run:H0,shift:oy,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cO,shift:uO},{mac:"Ctrl-ArrowDown",run:wd,shift:aO},{key:"PageUp",run:sO,shift:oO},{key:"PageDown",run:wd,shift:aO},{key:"Home",run:S_,shift:R_,preventDefault:!0},{key:"Mod-Home",run:lO,shift:fO},{key:"End",run:k_,shift:X_,preventDefault:!0},{key:"Mod-End",run:cO,shift:uO},{key:"Enter",run:nk},{key:"Mod-a",run:q_},{key:"Backspace",run:xd,shift:xd},{key:"Delete",run:cy},{key:"Mod-Backspace",mac:"Alt-Backspace",run:uy},{key:"Mod-Delete",mac:"Alt-Delete",run:L_},{mac:"Mod-Backspace",run:B_},{mac:"Mod-Delete",run:hy}].concat(ak.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),ck=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:x_,shift:Z_},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:__,shift:M_},{key:"Alt-ArrowUp",run:G_},{key:"Shift-Alt-ArrowUp",run:J_},{key:"Alt-ArrowDown",run:H_},{key:"Shift-Alt-ArrowDown",run:K_},{key:"Escape",run:V_},{key:"Mod-Enter",run:ik},{key:"Alt-l",mac:"Ctrl-l",run:z_},{key:"Mod-i",run:I_,preventDefault:!0},{key:"Mod-[",run:ok},{key:"Mod-]",run:sk},{key:"Mod-Alt-\\",run:rk},{key:"Shift-Mod-k",run:ek},{key:"Shift-Mod-\\",run:E_},{key:"Mod-/",run:Kx},{key:"Alt-A",run:t_}].concat(lk);function Yn(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i];typeof o=="string"?r.setAttribute(i,o):o!=null&&(r[i]=o)}e++}for(;e<arguments.length;e++)gy(r,arguments[e]);return r}function gy(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)gy(r,e[n]);else throw new RangeError("Unsupported child node: "+e)}const hO=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class Ia{constructor(e,n,i=0,o=e.length,a,c){this.test=c,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,o),this.bufferStart=i,this.normalize=a?f=>a(hO(f)):hO,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Mi(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=$d(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=jr(e);let o=this.normalize(n);for(let a=0,c=i;;a++){let f=o.charCodeAt(a),d=this.match(f,c);if(d)return this.value=d,this;if(a==o.length-1)break;c==i&&a<n.length&&n.charCodeAt(a)==f&&c++}}}match(e,n){let i=null;for(let o=0;o<this.matches.length;o+=2){let a=this.matches[o],c=!1;this.query.charCodeAt(a)==e&&(a==this.query.length-1?i={from:this.matches[o+1],to:n+1}:(this.matches[o]++,c=!0)),c||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:n+1}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferPos)&&(i=null),i}}typeof Symbol!="undefined"&&(Ia.prototype[Symbol.iterator]=function(){return this});const Oy={from:-1,to:-1,match:/.*/.exec("")},Nd="gm"+(/x/.unicode==null?"":"u");class vy{constructor(e,n,i,o=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=Oy,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new yy(e,n,i,o,a);this.re=new RegExp(n,Nd+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let c=e.lineAt(o);this.curLineStart=c.from,this.matchPos=Lf(e,o),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let i=this.curLineStart+n.index,o=i+n[0].length;if(this.matchPos=Lf(this.text,o+(i==o?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<o||i>this.value.to)&&(!this.test||this.test(i,o,n)))return this.value={from:i,to:o,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Eh=new WeakMap;class Xa{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,i){let o=Eh.get(e);if(!o||o.from>=i||o.to<=n){let f=new Xa(n,e.sliceString(n,i));return Eh.set(e,f),f}if(o.from==n&&o.to==i)return o;let{text:a,from:c}=o;return c>n&&(a=e.sliceString(n,c)+a,c=n),o.to<i&&(a+=e.sliceString(o.to,i)),Eh.set(e,new Xa(c,a)),new Xa(n,a.slice(n-c,i-c))}}class yy{constructor(e,n,i,o,a){this.text=e,this.to=a,this.done=!1,this.value=Oy,this.matchPos=Lf(e,o),this.re=new RegExp(n,Nd+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Xa.get(e,o,this.chunkEnd(o+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let i=this.flat.from+n.index,o=i+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,o,n)))return this.value={from:i,to:o,match:n},this.matchPos=Lf(this.text,o+(i==o?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Xa.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol!="undefined"&&(vy.prototype[Symbol.iterator]=yy.prototype[Symbol.iterator]=function(){return this});function fk(r){try{return new RegExp(r,Nd),!0}catch{return!1}}function Lf(r,e){if(e>=r.length)return e;let n=r.lineAt(e),i;for(;e<n.to&&(i=n.text.charCodeAt(e-n.from))>=56320&&i<57344;)e++;return e}function _d(r){let e=Yn("input",{class:"cm-textfield",name:"line"}),n=Yn("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),r.dispatch({effects:Bf.of(!1)}),r.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},Yn("label",r.state.phrase("Go to line"),": ",e)," ",Yn("button",{class:"cm-button",type:"submit"},r.state.phrase("go")));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!o)return;let{state:a}=r,c=a.doc.lineAt(a.selection.main.head),[,f,d,m,O]=o,y=m?+m.slice(1):0,P=d?+d:c.number;if(d&&O){let W=P/100;f&&(W=W*(f=="-"?-1:1)+c.number/a.doc.lines),P=Math.round(a.doc.lines*W)}else d&&f&&(P=P*(f=="-"?-1:1)+c.number);let C=a.doc.line(Math.max(1,Math.min(a.doc.lines,P)));r.dispatch({effects:Bf.of(!1),selection:$e.cursor(C.from+Math.max(0,Math.min(y,C.length))),scrollIntoView:!0}),r.focus()}return{dom:n}}const Bf=Ut.define(),dO=Ti.define({create(){return!0},update(r,e){for(let n of e.effects)n.is(Bf)&&(r=n.value);return r},provide:r=>Nl.from(r,e=>e?_d:null)}),uk=r=>{let e=Fl(r,_d);if(!e){let n=[Bf.of(!0)];r.state.field(dO,!1)==null&&n.push(Ut.appendConfig.of([dO,hk])),r.dispatch({effects:n}),e=Fl(r,_d)}return e&&e.dom.querySelector("input").focus(),!0},hk=Ot.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),dk={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},by=pt.define({combine(r){return Cs(r,dk,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function pk(r){let e=[yk,vk];return r&&e.push(by.of(r)),e}const mk=kt.mark({class:"cm-selectionMatch"}),gk=kt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function pO(r,e,n,i){return(n==0||r(e.sliceDoc(n-1,n))!=Fn.Word)&&(i==e.doc.length||r(e.sliceDoc(i,i+1))!=Fn.Word)}function Ok(r,e,n,i){return r(e.sliceDoc(n,n+1))==Fn.Word&&r(e.sliceDoc(i-1,i))==Fn.Word}const vk=pi.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(by),{state:n}=r,i=n.selection;if(i.ranges.length>1)return kt.none;let o=i.main,a,c=null;if(o.empty){if(!e.highlightWordAroundCursor)return kt.none;let d=n.wordAt(o.head);if(!d)return kt.none;c=n.charCategorizer(o.head),a=n.sliceDoc(d.from,d.to)}else{let d=o.to-o.from;if(d<e.minSelectionLength||d>200)return kt.none;if(e.wholeWords){if(a=n.sliceDoc(o.from,o.to),c=n.charCategorizer(o.head),!(pO(c,n,o.from,o.to)&&Ok(c,n,o.from,o.to)))return kt.none}else if(a=n.sliceDoc(o.from,o.to).trim(),!a)return kt.none}let f=[];for(let d of r.visibleRanges){let m=new Ia(n.doc,a,d.from,d.to);for(;!m.next().done;){let{from:O,to:y}=m.value;if((!c||pO(c,n,O,y))&&(o.empty&&O<=o.from&&y>=o.to?f.push(gk.range(O,y)):(O>=o.to||y<=o.from)&&f.push(mk.range(O,y)),f.length>e.maxMatches))return kt.none}}return kt.set(f)}},{decorations:r=>r.decorations}),yk=Ot.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),bk=({state:r,dispatch:e})=>{let{selection:n}=r,i=$e.create(n.ranges.map(o=>r.wordAt(o.head)||$e.cursor(o.head)),n.mainIndex);return i.eq(n)?!1:(e(r.update({selection:i})),!0)};function wk(r,e){let{main:n,ranges:i}=r.selection,o=r.wordAt(n.head),a=o&&o.from==n.from&&o.to==n.to;for(let c=!1,f=new Ia(r.doc,e,i[i.length-1].to);;)if(f.next(),f.done){if(c)return null;f=new Ia(r.doc,e,0,Math.max(0,i[i.length-1].from-1)),c=!0}else{if(c&&i.some(d=>d.from==f.value.from))continue;if(a){let d=r.wordAt(f.value.from);if(!d||d.from!=f.value.from||d.to!=f.value.to)continue}return f.value}}const xk=({state:r,dispatch:e})=>{let{ranges:n}=r.selection;if(n.some(a=>a.from===a.to))return bk({state:r,dispatch:e});let i=r.sliceDoc(n[0].from,n[0].to);if(r.selection.ranges.some(a=>r.sliceDoc(a.from,a.to)!=i))return!1;let o=wk(r,i);return o?(e(r.update({selection:r.selection.addRange($e.range(o.from,o.to),!1),effects:Ot.scrollIntoView(o.to)})),!0):!1},Gd=pt.define({combine(r){return Cs(r,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new Zk(e)})}});class wy{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||fk(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Qk(this):new kk(this)}getCursor(e,n=0,i){let o=e.doc?e:ln.create({doc:e});return i==null&&(i=o.doc.length),this.regexp?$a(this,o,n,i):Qa(this,o,n,i)}}class xy{constructor(e){this.spec=e}}function Qa(r,e,n,i){return new Ia(e.doc,r.unquoted,n,i,r.caseSensitive?void 0:o=>o.toLowerCase(),r.wholeWord?_k(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function _k(r,e){return(n,i,o,a)=>((a>n||a+o.length<i)&&(a=Math.max(0,n-2),o=r.sliceString(a,Math.min(r.length,i+2))),(e(Ff(o,n-a))!=Fn.Word||e(Nf(o,n-a))!=Fn.Word)&&(e(Nf(o,i-a))!=Fn.Word||e(Ff(o,i-a))!=Fn.Word))}class kk extends xy{constructor(e){super(e)}nextMatch(e,n,i){let o=Qa(this.spec,e,i,e.doc.length).nextOverlapping();return o.done&&(o=Qa(this.spec,e,0,n).nextOverlapping()),o.done?null:o.value}prevMatchInRange(e,n,i){for(let o=i;;){let a=Math.max(n,o-1e4-this.spec.unquoted.length),c=Qa(this.spec,e,a,o),f=null;for(;!c.nextOverlapping().done;)f=c.value;if(f)return f;if(a==n)return null;o-=1e4}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let i=Qa(this.spec,e,0,e.doc.length),o=[];for(;!i.next().done;){if(o.length>=n)return null;o.push(i.value)}return o}highlight(e,n,i,o){let a=Qa(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)o(a.value.from,a.value.to)}}function $a(r,e,n,i){return new vy(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?Sk(e.charCategorizer(e.selection.main.head)):void 0},n,i)}function Ff(r,e){return r.slice(er(r,e,!1),e)}function Nf(r,e){return r.slice(e,er(r,e))}function Sk(r){return(e,n,i)=>!i[0].length||(r(Ff(i.input,i.index))!=Fn.Word||r(Nf(i.input,i.index))!=Fn.Word)&&(r(Nf(i.input,i.index+i[0].length))!=Fn.Word||r(Ff(i.input,i.index+i[0].length))!=Fn.Word)}class Qk extends xy{nextMatch(e,n,i){let o=$a(this.spec,e,i,e.doc.length).next();return o.done&&(o=$a(this.spec,e,0,n).next()),o.done?null:o.value}prevMatchInRange(e,n,i){for(let o=1;;o++){let a=Math.max(n,i-o*1e4),c=$a(this.spec,e,a,i),f=null;for(;!c.next().done;)f=c.value;if(f&&(a==n||f.from>a+10))return f;if(a==n)return null}}prevMatch(e,n,i){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(n,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:n))}matchAll(e,n){let i=$a(this.spec,e,0,e.doc.length),o=[];for(;!i.next().done;){if(o.length>=n)return null;o.push(i.value)}return o}highlight(e,n,i,o){let a=$a(this.spec,e,Math.max(0,n-250),Math.min(i+250,e.doc.length));for(;!a.next().done;)o(a.value.from,a.value.to)}}const Hl=Ut.define(),Hd=Ut.define(),fo=Ti.define({create(r){return new Ah(kd(r).create(),null)},update(r,e){for(let n of e.effects)n.is(Hl)?r=new Ah(n.value.create(),r.panel):n.is(Hd)&&(r=new Ah(r.query,n.value?Jd:null));return r},provide:r=>Nl.from(r,e=>e.panel)});class Ah{constructor(e,n){this.query=e,this.panel=n}}const $k=kt.mark({class:"cm-searchMatch"}),Pk=kt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Ck=pi.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(fo))}update(r){let e=r.state.field(fo);(e!=r.startState.field(fo)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return kt.none;let{view:n}=this,i=new ho;for(let o=0,a=n.visibleRanges,c=a.length;o<c;o++){let{from:f,to:d}=a[o];for(;o<c-1&&d>a[o+1].from-2*250;)d=a[++o].to;r.highlight(n.state,f,d,(m,O)=>{let y=n.state.selection.ranges.some(P=>P.from==m&&P.to==O);i.add(m,O,y?Pk:$k)})}return i.finish()}},{decorations:r=>r.decorations});function rc(r){return e=>{let n=e.state.field(fo,!1);return n&&n.query.spec.valid?r(e,n):_y(e)}}const Gf=rc((r,{query:e})=>{let{to:n}=r.state.selection.main,i=e.nextMatch(r.state,n,n);return i?(r.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:Kd(r,i),userEvent:"select.search"}),!0):!1}),Hf=rc((r,{query:e})=>{let{state:n}=r,{from:i}=n.selection.main,o=e.prevMatch(n,i,i);return o?(r.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:Kd(r,o),userEvent:"select.search"}),!0):!1}),Tk=rc((r,{query:e})=>{let n=e.matchAll(r.state,1e3);return!n||!n.length?!1:(r.dispatch({selection:$e.create(n.map(i=>$e.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),Ek=({state:r,dispatch:e})=>{let n=r.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:o}=n.main,a=[],c=0;for(let f=new Ia(r.doc,r.sliceDoc(i,o));!f.next().done;){if(a.length>1e3)return!1;f.value.from==i&&(c=a.length),a.push($e.range(f.value.from,f.value.to))}return e(r.update({selection:$e.create(a,c),userEvent:"select.search.matches"})),!0},mO=rc((r,{query:e})=>{let{state:n}=r,{from:i,to:o}=n.selection.main;if(n.readOnly)return!1;let a=e.nextMatch(n,i,i);if(!a)return!1;let c=[],f,d,m=[];if(a.from==i&&a.to==o&&(d=n.toText(e.getReplacement(a)),c.push({from:a.from,to:a.to,insert:d}),a=e.nextMatch(n,a.from,a.to),m.push(Ot.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(i).number)+"."))),a){let O=c.length==0||c[0].from>=a.to?0:a.to-a.from-d.length;f={anchor:a.from-O,head:a.to-O},m.push(Kd(r,a))}return r.dispatch({changes:c,selection:f,scrollIntoView:!!f,effects:m,userEvent:"input.replace"}),!0}),Ak=rc((r,{query:e})=>{if(r.state.readOnly)return!1;let n=e.matchAll(r.state,1e9).map(o=>{let{from:a,to:c}=o;return{from:a,to:c,insert:e.getReplacement(o)}});if(!n.length)return!1;let i=r.state.phrase("replaced $ matches",n.length)+".";return r.dispatch({changes:n,effects:Ot.announce.of(i),userEvent:"input.replace.all"}),!0});function Jd(r){return r.state.facet(Gd).createPanel(r)}function kd(r,e){var n,i,o,a;let c=r.selection.main,f=c.empty||c.to>c.from+100?"":r.sliceDoc(c.from,c.to);if(e&&!f)return e;let d=r.facet(Gd);return new wy({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:d.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:d.caseSensitive,literal:(o=e==null?void 0:e.literal)!==null&&o!==void 0?o:d.literal,wholeWord:(a=e==null?void 0:e.wholeWord)!==null&&a!==void 0?a:d.wholeWord})}const _y=r=>{let e=r.state.field(fo,!1);if(e&&e.panel){let n=Fl(r,Jd);if(!n)return!1;let i=n.dom.querySelector("[main-field]");if(i&&i!=r.root.activeElement){let o=kd(r.state,e.query.spec);o.valid&&r.dispatch({effects:Hl.of(o)}),i.focus(),i.select()}}else r.dispatch({effects:[Hd.of(!0),e?Hl.of(kd(r.state,e.query.spec)):Ut.appendConfig.of(Xk)]});return!0},ky=r=>{let e=r.state.field(fo,!1);if(!e||!e.panel)return!1;let n=Fl(r,Jd);return n&&n.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:Hd.of(!1)}),!0},Dk=[{key:"Mod-f",run:_y,scope:"editor search-panel"},{key:"F3",run:Gf,shift:Hf,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Gf,shift:Hf,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:ky,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Ek},{key:"Alt-g",run:uk},{key:"Mod-d",run:xk,preventDefault:!0}];class Zk{constructor(e){this.view=e;let n=this.query=e.state.field(fo).query.spec;this.commit=this.commit.bind(this),this.searchField=Yn("input",{value:n.search,placeholder:$r(e,"Find"),"aria-label":$r(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Yn("input",{value:n.replace,placeholder:$r(e,"Replace"),"aria-label":$r(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Yn("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Yn("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Yn("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function i(o,a,c){return Yn("button",{class:"cm-button",name:o,onclick:a,type:"button"},c)}this.dom=Yn("div",{onkeydown:o=>this.keydown(o),class:"cm-search"},[this.searchField,i("next",()=>Gf(e),[$r(e,"next")]),i("prev",()=>Hf(e),[$r(e,"previous")]),i("select",()=>Tk(e),[$r(e,"all")]),Yn("label",null,[this.caseField,$r(e,"match case")]),Yn("label",null,[this.reField,$r(e,"regexp")]),Yn("label",null,[this.wordField,$r(e,"by word")]),...e.state.readOnly?[]:[Yn("br"),this.replaceField,i("replace",()=>mO(e),[$r(e,"replace")]),i("replaceAll",()=>Ak(e),[$r(e,"replace all")])],Yn("button",{name:"close",onclick:()=>ky(e),"aria-label":$r(e,"close"),type:"button"},["\xD7"])])}commit(){let e=new wy({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Hl.of(e)}))}keydown(e){Nw(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Hf:Gf)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),mO(this.view))}update(e){for(let n of e.transactions)for(let i of n.effects)i.is(Hl)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Gd).top}}function $r(r,e){return r.state.phrase(e)}const pf=30,mf=/[\s\.,:;?!]/;function Kd(r,{from:e,to:n}){let i=r.state.doc.lineAt(e),o=r.state.doc.lineAt(n).to,a=Math.max(i.from,e-pf),c=Math.min(o,n+pf),f=r.state.sliceDoc(a,c);if(a!=i.from){for(let d=0;d<pf;d++)if(!mf.test(f[d+1])&&mf.test(f[d])){f=f.slice(d);break}}if(c!=o){for(let d=f.length-1;d>f.length-pf;d--)if(!mf.test(f[d-1])&&mf.test(f[d])){f=f.slice(0,d);break}}return Ot.announce.of(`${r.state.phrase("current match")}. ${f} ${r.state.phrase("on line")} ${i.number}.`)}const Mk=Ot.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Xk=[fo,Fo.lowest(Ck),Mk];class Sy{constructor(e,n,i){this.state=e,this.pos=n,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let n=ki(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),i=Math.max(n.from,this.pos-250),o=n.text.slice(i-n.from,this.pos-n.from),a=o.search($y(e,!1));return a<0?null:{from:i+a,to:this.pos,text:o.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function gO(r){let e=Object.keys(r).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Rk(r){let e=Object.create(null),n=Object.create(null);for(let{label:o}of r){e[o[0]]=!0;for(let a=1;a<o.length;a++)n[o[a]]=!0}let i=gO(e)+gO(n)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function Qy(r){let e=r.map(o=>typeof o=="string"?{label:o}:o),[n,i]=e.every(o=>/^\w+$/.test(o.label))?[/\w*$/,/\w+$/]:Rk(e);return o=>{let a=o.matchBefore(i);return a||o.explicit?{from:a?a.from:o.pos,options:e,validFor:n}:null}}function Yk(r,e){return n=>{for(let i=ki(n.state).resolveInner(n.pos,-1);i;i=i.parent){if(r.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(n)}}class OO{constructor(e,n,i){this.completion=e,this.source=n,this.match=i}}function uo(r){return r.selection.main.head}function $y(r,e){var n;let{source:i}=r,o=e&&i[0]!="^",a=i[i.length-1]!="$";return!o&&!a?r:new RegExp(`${o?"^":""}(?:${i})${a?"$":""}`,(n=r.flags)!==null&&n!==void 0?n:r.ignoreCase?"i":"")}const Wk=vo.define();function jk(r,e,n,i){return Object.assign(Object.assign({},r.changeByRange(o=>{if(o==r.selection.main)return{changes:{from:n,to:i,insert:e},range:$e.cursor(n+e.length)};let a=i-n;return!o.empty||a&&r.sliceDoc(o.from-a,o.from)!=r.sliceDoc(n,i)?{range:o}:{changes:{from:o.from-a,to:o.from,insert:e},range:$e.cursor(o.from-a+e.length)}})),{userEvent:"input.complete"})}function Py(r,e){const n=e.completion.apply||e.completion.label;let i=e.source;typeof n=="string"?r.dispatch(Object.assign(Object.assign({},jk(r.state,n,i.from,i.to)),{annotations:Wk.of(e.completion)})):n(r,e.completion,i.from,i.to)}const vO=new WeakMap;function Uk(r){if(!Array.isArray(r))return r;let e=vO.get(r);return e||vO.set(r,e=Qy(r)),e}class qk{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let n=0;n<e.length;){let i=Mi(e,n),o=jr(i);this.chars.push(i);let a=e.slice(n,n+o),c=a.toUpperCase();this.folded.push(Mi(c==a?a.toLowerCase():c,0)),n+=o}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:n,folded:i,any:o,precise:a,byWord:c}=this;if(n.length==1){let je=Mi(e,0),Ee=jr(je),le=Ee==e.length?0:-100;if(je!=n[0])if(je==i[0])le+=-200;else return null;return[le,0,Ee]}let f=e.indexOf(this.pattern);if(f==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let d=n.length,m=0;if(f<0){for(let je=0,Ee=Math.min(e.length,200);je<Ee&&m<d;){let le=Mi(e,je);(le==n[m]||le==i[m])&&(o[m++]=je),je+=jr(le)}if(m<d)return null}let O=0,y=0,P=!1,C=0,W=-1,ae=-1,fe=/[a-z]/.test(e),xe=!0;for(let je=0,Ee=Math.min(e.length,200),le=0;je<Ee&&y<d;){let we=Mi(e,je);f<0&&(O<d&&we==n[O]&&(a[O++]=je),C<d&&(we==n[C]||we==i[C]?(C==0&&(W=je),ae=je+1,C++):C=0));let Ae,it=we<255?we>=48&&we<=57||we>=97&&we<=122?2:we>=65&&we<=90?1:0:(Ae=$d(we))!=Ae.toLowerCase()?1:Ae!=Ae.toUpperCase()?2:0;(!je||it==1&&fe||le==0&&it!=0)&&(n[y]==we||i[y]==we&&(P=!0)?c[y++]=je:c.length&&(xe=!1)),le=it,je+=jr(we)}return y==d&&c[0]==0&&xe?this.result(-100+(P?-200:0),c,e):C==d&&W==0?[-200-e.length+(ae==e.length?0:-100),0,ae]:f>-1?[-700-e.length,f,f+this.pattern.length]:C==d?[-200+-700-e.length,W,ae]:y==d?this.result(-100+(P?-200:0)+-700+(xe?0:-1100),c,e):n.length==2?null:this.result((o[0]?-700:0)+-200+-1100,o,e)}result(e,n,i){let o=[e-i.length],a=1;for(let c of n){let f=c+(this.astral?jr(Mi(i,c)):1);a>1&&o[a-1]==c?o[a-1]=f:(o[a++]=c,o[a++]=f)}return o}}const qr=pt.define({combine(r){return Cs(r,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>i=>yO(e(i),n(i)),optionClass:(e,n)=>i=>yO(e(i),n(i)),addToOptions:(e,n)=>e.concat(n)})}});function yO(r,e){return r?e?r+" "+e:r:e}function zk(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(n){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),n.type&&i.classList.add(...n.type.split(/\s+/g).map(o=>"cm-completionIcon-"+o)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(n,i,o){let a=document.createElement("span");a.className="cm-completionLabel";let{label:c}=n,f=0;for(let d=1;d<o.length;){let m=o[d++],O=o[d++];m>f&&a.appendChild(document.createTextNode(c.slice(f,m)));let y=a.appendChild(document.createElement("span"));y.appendChild(document.createTextNode(c.slice(m,O))),y.className="cm-completionMatchedText",f=O}return f<c.length&&a.appendChild(document.createTextNode(c.slice(f))),a},position:50},{render(n){if(!n.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=n.detail,i},position:80}),e.sort((n,i)=>n.position-i.position).map(n=>n.render)}function bO(r,e,n){if(r<=n)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let o=Math.floor(e/n);return{from:o*n,to:(o+1)*n}}let i=Math.floor((r-e)/n);return{from:r-(i+1)*n,to:r-i*n}}class Ik{constructor(e,n){this.view=e,this.stateField=n,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:f=>this.positionInfo(f),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:a}=i.open,c=e.state.facet(qr);this.optionContent=zk(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=bO(o.length,a,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",f=>{for(let d=f.target,m;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(m=/-(\d+)$/.exec(d.id))&&+m[1]<o.length){Py(e,o[+m[1]]),f.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(o,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){var n,i,o;let a=e.state.field(this.stateField),c=e.startState.field(this.stateField);this.updateTooltipClass(e.state),a!=c&&(this.updateSel(),((n=a.open)===null||n===void 0?void 0:n.disabled)!=((i=c.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((o=a.open)===null||o===void 0)&&o.disabled)))}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of n.split(" "))i&&this.dom.classList.add(i);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=bO(n.options.length,n.selected,this.view.state.facet(qr).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=n.options[n.selected],{info:o}=i;if(!o)return;let a=typeof o=="string"?document.createTextNode(o):o(i);if(!a)return;"then"in a?a.then(c=>{c&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(c)}).catch(c=>Er(this.view.state,c,"completion info")):this.addInfoPane(a)}}addInfoPane(e){let n=this.info=document.createElement("div");n.className="cm-tooltip cm-completionInfo",n.appendChild(e),this.dom.appendChild(n),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let n=null;for(let i=this.list.firstChild,o=this.range.from;i;i=i.nextSibling,o++)o==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),n=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return n&&Lk(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),o=e.getBoundingClientRect(),a=this.space;if(!a){let W=this.dom.ownerDocument.defaultView||window;a={left:0,top:0,right:W.innerWidth,bottom:W.innerHeight}}if(o.top>Math.min(a.bottom,n.bottom)-10||o.bottom<Math.max(a.top,n.top)+10)return null;let c=this.view.textDirection==Kn.RTL,f=c,d=!1,m,O="",y="",P=n.left-a.left,C=a.right-n.right;if(f&&P<Math.min(i.width,C)?f=!1:!f&&C<Math.min(i.width,P)&&(f=!0),i.width<=(f?P:C))O=Math.max(a.top,Math.min(o.top,a.bottom-i.height))-n.top+"px",m=Math.min(400,f?P:C)+"px";else{d=!0,m=Math.min(400,(c?n.right:a.right-n.left)-30)+"px";let W=a.bottom-n.bottom;W>=i.height||W>n.top?O=o.bottom-n.top+"px":y=n.bottom-o.top+"px"}return{top:O,bottom:y,maxWidth:m,class:d?c?"left-narrow":"right-narrow":f?"left":"right"}}positionInfo(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}createListBox(e,n,i){const o=document.createElement("ul");o.id=n,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let a=i.from;a<i.to;a++){let{completion:c,match:f}=e[a];const d=o.appendChild(document.createElement("li"));d.id=n+"-"+a,d.setAttribute("role","option");let m=this.optionClass(c);m&&(d.className=m);for(let O of this.optionContent){let y=O(c,this.view.state,f);y&&d.appendChild(y)}}return i.from&&o.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&o.classList.add("cm-completionListIncompleteBottom"),o}}function Vk(r){return e=>new Ik(e,r)}function Lk(r,e){let n=r.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<n.top?r.scrollTop-=n.top-i.top:i.bottom>n.bottom&&(r.scrollTop+=i.bottom-n.bottom)}function wO(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function Bk(r,e){let n=[],i=0;for(let f of r)if(f.hasResult())if(f.result.filter===!1){let d=f.result.getMatch;for(let m of f.result.options){let O=[1e9-i++];if(d)for(let y of d(m))O.push(y);n.push(new OO(m,f,O))}}else{let d=new qk(e.sliceDoc(f.from,f.to)),m;for(let O of f.result.options)(m=d.match(O.label))&&(O.boost!=null&&(m[0]+=O.boost),n.push(new OO(O,f,m)))}let o=[],a=null,c=e.facet(qr).compareCompletions;for(let f of n.sort((d,m)=>m.match[0]-d.match[0]||c(d.completion,m.completion)))!a||a.label!=f.completion.label||a.detail!=f.completion.detail||a.type!=null&&f.completion.type!=null&&a.type!=f.completion.type||a.apply!=f.completion.apply?o.push(f):wO(f.completion)>wO(a)&&(o[o.length-1]=f),a=f.completion;return o}class Ta{constructor(e,n,i,o,a,c){this.options=e,this.attrs=n,this.tooltip=i,this.timestamp=o,this.selected=a,this.disabled=c}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Ta(this.options,xO(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,i,o,a){let c=Bk(e,n);if(!c.length)return o&&e.some(d=>d.state==1)?new Ta(o.options,o.attrs,o.tooltip,o.timestamp,o.selected,!0):null;let f=n.facet(qr).selectOnOpen?0:-1;if(o&&o.selected!=f&&o.selected!=-1){let d=o.options[o.selected].completion;for(let m=0;m<c.length;m++)if(c[m].completion==d){f=m;break}}return new Ta(c,xO(i,f),{pos:e.reduce((d,m)=>m.hasResult()?Math.min(d,m.from):d,1e8),create:Vk(Wr),above:a.aboveCursor},o?o.timestamp:Date.now(),f,!1)}map(e){return new Ta(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Jf{constructor(e,n,i){this.active=e,this.id=n,this.open=i}static start(){return new Jf(Gk,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,i=n.facet(qr),a=(i.override||n.languageDataAt("autocomplete",uo(n)).map(Uk)).map(f=>(this.active.find(m=>m.source==f)||new hr(f,this.active.some(m=>m.state!=0)?1:0)).update(e,i));a.length==this.active.length&&a.every((f,d)=>f==this.active[d])&&(a=this.active);let c=this.open;c&&e.docChanged&&(c=c.map(e.changes)),e.selection||a.some(f=>f.hasResult()&&e.changes.touchesRange(f.from,f.to))||!Fk(a,this.active)?c=Ta.build(a,n,this.id,c,i):c&&c.disabled&&!a.some(f=>f.state==1)&&(c=null),!c&&a.every(f=>f.state!=1)&&a.some(f=>f.hasResult())&&(a=a.map(f=>f.hasResult()?new hr(f.source,0):f));for(let f of e.effects)f.is(Ty)&&(c=c&&c.setSelected(f.value,this.id));return a==this.active&&c==this.open?this:new Jf(a,this.id,c)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Nk}}function Fk(r,e){if(r==e)return!0;for(let n=0,i=0;;){for(;n<r.length&&!r[n].hasResult;)n++;for(;i<e.length&&!e[i].hasResult;)i++;let o=n==r.length,a=i==e.length;if(o||a)return o==a;if(r[n++].result!=e[i++].result)return!1}}const Nk={"aria-autocomplete":"list"};function xO(r,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(n["aria-activedescendant"]=r+"-"+e),n}const Gk=[];function Sd(r){return r.isUserEvent("input.type")?"input":r.isUserEvent("delete.backward")?"delete":null}class hr{constructor(e,n,i=-1){this.source=e,this.state=n,this.explicitPos=i}hasResult(){return!1}update(e,n){let i=Sd(e),o=this;i?o=o.handleUserEvent(e,i,n):e.docChanged?o=o.handleChange(e):e.selection&&o.state!=0&&(o=new hr(o.source,0));for(let a of e.effects)if(a.is(ep))o=new hr(o.source,1,a.value?uo(e.state):-1);else if(a.is(Kf))o=new hr(o.source,0);else if(a.is(Cy))for(let c of a.value)c.source==o.source&&(o=c);return o}handleUserEvent(e,n,i){return n=="delete"||!i.activateOnTyping?this.map(e.changes):new hr(this.source,1)}handleChange(e){return e.changes.touchesRange(uo(e.startState))?new hr(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new hr(this.source,this.state,e.mapPos(this.explicitPos))}}class Wl extends hr{constructor(e,n,i,o,a){super(e,2,n),this.result=i,this.from=o,this.to=a}hasResult(){return!0}handleUserEvent(e,n,i){var o;let a=e.changes.mapPos(this.from),c=e.changes.mapPos(this.to,1),f=uo(e.state);if((this.explicitPos<0?f<=a:f<this.from)||f>c||n=="delete"&&uo(e.startState)==this.from)return new hr(this.source,n=="input"&&i.activateOnTyping?1:0);let d=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),m;return Hk(this.result.validFor,e.state,a,c)?new Wl(this.source,d,this.result,a,c):this.result.update&&(m=this.result.update(this.result,a,c,new Sy(e.state,f,d>=0)))?new Wl(this.source,d,m,m.from,(o=m.to)!==null&&o!==void 0?o:uo(e.state)):new hr(this.source,1,d)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new hr(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Wl(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Hk(r,e,n,i){if(!r)return!1;let o=e.sliceDoc(n,i);return typeof r=="function"?r(o,n,i,e):$y(r,!0).test(o)}const ep=Ut.define(),Kf=Ut.define(),Cy=Ut.define({map(r,e){return r.map(n=>n.map(e))}}),Ty=Ut.define(),Wr=Ti.define({create(){return Jf.start()},update(r,e){return r.update(e)},provide:r=>[Rd.from(r,e=>e.tooltip),Ot.contentAttributes.from(r,e=>e.attrs)]});function gf(r,e="option"){return n=>{let i=n.state.field(Wr,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(qr).interactionDelay)return!1;let o=1,a;e=="page"&&(a=M1(n,i.open.tooltip))&&(o=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:c}=i.open.options,f=i.open.selected>-1?i.open.selected+o*(r?1:-1):r?0:c-1;return f<0?f=e=="page"?0:c-1:f>=c&&(f=e=="page"?c-1:0),n.dispatch({effects:Ty.of(f)}),!0}}const Jk=r=>{let e=r.state.field(Wr,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<r.state.facet(qr).interactionDelay?!1:(e.open.disabled||Py(r,e.open.options[e.open.selected]),!0)},Kk=r=>r.state.field(Wr,!1)?(r.dispatch({effects:ep.of(!0)}),!0):!1,eS=r=>{let e=r.state.field(Wr,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(r.dispatch({effects:Kf.of(null)}),!0)};class tS{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const _O=50,nS=50,iS=1e3,rS=pi.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of r.state.field(Wr).active)e.state==1&&this.startQuery(e)}update(r){let e=r.state.field(Wr);if(!r.selectionSet&&!r.docChanged&&r.startState.field(Wr)==e)return;let n=r.transactions.some(i=>(i.selection||i.docChanged)&&!Sd(i));for(let i=0;i<this.running.length;i++){let o=this.running[i];if(n||o.updates.length+r.transactions.length>nS&&Date.now()-o.time>iS){for(let a of o.context.abortListeners)try{a()}catch(c){Er(this.view.state,c)}o.context.abortListeners=null,this.running.splice(i--,1)}else o.updates.push(...r.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(o=>o.active.source==i.source))?setTimeout(()=>this.startUpdate(),_O):-1,this.composing!=0)for(let i of r.transactions)Sd(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:r}=this.view,e=r.field(Wr);for(let n of e.active)n.state==1&&!this.running.some(i=>i.active.source==n.source)&&this.startQuery(n)}startQuery(r){let{state:e}=this.view,n=uo(e),i=new Sy(e,n,r.explicitPos==n),o=new tS(r,i);this.running.push(o),Promise.resolve(r.source(i)).then(a=>{o.context.aborted||(o.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:Kf.of(null)}),Er(this.view.state,a)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),_O))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(qr);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let c=new Wl(o.active.source,o.active.explicitPos,o.done,o.done.from,(r=o.done.to)!==null&&r!==void 0?r:uo(o.updates.length?o.updates[0].startState:this.view.state));for(let f of o.updates)c=c.update(f,n);if(c.hasResult()){e.push(c);continue}}let a=this.view.state.field(Wr).active.find(c=>c.source==o.active.source);if(a&&a.state==1)if(o.done==null){let c=new hr(o.active.source,0);for(let f of o.updates)c=c.update(f,n);c.state!=1&&e.push(c)}else this.startQuery(a)}e.length&&this.view.dispatch({effects:Cy.of(e)})}},{eventHandlers:{blur(){let r=this.view.state.field(Wr,!1);r&&r.tooltip&&this.view.state.facet(qr).closeOnBlur&&this.view.dispatch({effects:Kf.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ep.of(!1)}),20),this.composing=0}}}),Ey=Ot.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:`${400}px`,boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:`${30}px`},".cm-completionInfo.cm-completionInfo-right-narrow":{left:`${30}px`},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class sS{constructor(e,n,i,o){this.field=e,this.line=n,this.from=i,this.to=o}}class tp{constructor(e,n,i){this.field=e,this.from=n,this.to=i}map(e){let n=e.mapPos(this.from,-1,Ri.TrackDel),i=e.mapPos(this.to,1,Ri.TrackDel);return n==null||i==null?null:new tp(this.field,n,i)}}class np{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let i=[],o=[n],a=e.doc.lineAt(n),c=/^\s*/.exec(a.text)[0];for(let d of this.lines){if(i.length){let m=c,O=/^\t*/.exec(d)[0].length;for(let y=0;y<O;y++)m+=e.facet(au);o.push(n+m.length-O),d=m+d.slice(O)}i.push(d),n+=d.length+1}let f=this.fieldPositions.map(d=>new tp(d.field,o[d.line]+d.from,o[d.line]+d.to));return{text:i,ranges:f}}static parse(e){let n=[],i=[],o=[],a;for(let c of e.split(/\r\n?|\n/)){for(;a=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(c);){let f=a[1]?+a[1]:null,d=a[2]||a[3]||"",m=-1;for(let O=0;O<n.length;O++)(f!=null?n[O].seq==f:d?n[O].name==d:!1)&&(m=O);if(m<0){let O=0;for(;O<n.length&&(f==null||n[O].seq!=null&&n[O].seq<f);)O++;n.splice(O,0,{seq:f,name:d}),m=O;for(let y of o)y.field>=m&&y.field++}o.push(new sS(m,i.length,a.index,a.index+d.length)),c=c.slice(0,a.index)+d+c.slice(a.index+a[0].length)}for(let f;f=/\\([{}])/.exec(c);){c=c.slice(0,f.index)+f[1]+c.slice(f.index+f[0].length);for(let d of o)d.line==i.length&&d.from>f.index&&(d.from--,d.to--)}i.push(c)}return new np(i,o)}}let oS=kt.widget({widget:new class extends Fs{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),aS=kt.mark({class:"cm-snippetField"});class Ba{constructor(e,n){this.ranges=e,this.active=n,this.deco=kt.set(e.map(i=>(i.from==i.to?oS:aS).range(i.from,i.to)))}map(e){let n=[];for(let i of this.ranges){let o=i.map(e);if(!o)return null;n.push(o)}return new Ba(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(i=>i.field==this.active&&i.from<=n.from&&i.to>=n.to))}}const sc=Ut.define({map(r,e){return r&&r.map(e)}}),lS=Ut.define(),Jl=Ti.define({create(){return null},update(r,e){for(let n of e.effects){if(n.is(sc))return n.value;if(n.is(lS)&&r)return new Ba(r.ranges,n.value)}return r&&e.docChanged&&(r=r.map(e.changes)),r&&e.selection&&!r.selectionInsideField(e.selection)&&(r=null),r},provide:r=>Ot.decorations.from(r,e=>e?e.deco:kt.none)});function ip(r,e){return $e.create(r.filter(n=>n.field==e).map(n=>$e.range(n.from,n.to)))}function cS(r){let e=np.parse(r);return(n,i,o,a)=>{let{text:c,ranges:f}=e.instantiate(n.state,o),d={changes:{from:o,to:a,insert:mn.of(c)},scrollIntoView:!0};if(f.length&&(d.selection=ip(f,0)),f.length>1){let m=new Ba(f,0),O=d.effects=[sc.of(m)];n.state.field(Jl,!1)===void 0&&O.push(Ut.appendConfig.of([Jl,pS,mS,Ey]))}n.dispatch(n.state.update(d))}}function Ay(r){return({state:e,dispatch:n})=>{let i=e.field(Jl,!1);if(!i||r<0&&i.active==0)return!1;let o=i.active+r,a=r>0&&!i.ranges.some(c=>c.field==o+r);return n(e.update({selection:ip(i.ranges,o),effects:sc.of(a?null:new Ba(i.ranges,o))})),!0}}const fS=({state:r,dispatch:e})=>r.field(Jl,!1)?(e(r.update({effects:sc.of(null)})),!0):!1,uS=Ay(1),hS=Ay(-1),dS=[{key:"Tab",run:uS,shift:hS},{key:"Escape",run:fS}],kO=pt.define({combine(r){return r.length?r[0]:dS}}),pS=Fo.highest(ou.compute([kO],r=>r.facet(kO)));function ts(r,e){return Object.assign(Object.assign({},e),{apply:cS(r)})}const mS=Ot.domEventHandlers({mousedown(r,e){let n=e.state.field(Jl,!1),i;if(!n||(i=e.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let o=n.ranges.find(a=>a.from<=i&&a.to>=i);return!o||o.field==n.active?!1:(e.dispatch({selection:ip(n.ranges,o.field),effects:sc.of(n.ranges.some(a=>a.field>o.field)?new Ba(n.ranges,o.field):null)}),!0)}}),Kl={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Uo=Ut.define({map(r,e){let n=e.mapPos(r,-1,Ri.TrackAfter);return n==null?void 0:n}}),rp=Ut.define({map(r,e){return e.mapPos(r)}}),sp=new class extends Vo{};sp.startSide=1;sp.endSide=-1;const Dy=Ti.define({create(){return Qn.empty},update(r,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(i,-1)&&(r=Qn.empty)}r=r.map(e.changes);for(let n of e.effects)n.is(Uo)?r=r.update({add:[sp.range(n.value,n.value+1)]}):n.is(rp)&&(r=r.update({filter:i=>i!=n.value}));return r}});function gS(){return[vS,Dy]}const Dh="()[]{}<>";function Zy(r){for(let e=0;e<Dh.length;e+=2)if(Dh.charCodeAt(e)==r)return Dh.charAt(e+1);return $d(r<128?r:r+1)}function My(r,e){return r.languageDataAt("closeBrackets",e)[0]||Kl}const OS=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),vS=Ot.inputHandler.of((r,e,n,i)=>{if((OS?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let o=r.state.selection.main;if(i.length>2||i.length==2&&jr(Mi(i,0))==1||e!=o.from||n!=o.to)return!1;let a=wS(r.state,i);return a?(r.dispatch(a),!0):!1}),yS=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let i=My(r,r.selection.main.head).brackets||Kl.brackets,o=null,a=r.changeByRange(c=>{if(c.empty){let f=xS(r.doc,c.head);for(let d of i)if(d==f&&gu(r.doc,c.head)==Zy(Mi(d,0)))return{changes:{from:c.head-d.length,to:c.head+d.length},range:$e.cursor(c.head-d.length)}}return{range:o=c}});return o||e(r.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!o},bS=[{key:"Backspace",run:yS}];function wS(r,e){let n=My(r,r.selection.main.head),i=n.brackets||Kl.brackets;for(let o of i){let a=Zy(Mi(o,0));if(e==o)return a==o?SS(r,o,i.indexOf(o+o+o)>-1,n):_S(r,o,a,n.before||Kl.before);if(e==a&&Xy(r,r.selection.main.from))return kS(r,o,a)}return null}function Xy(r,e){let n=!1;return r.field(Dy).between(0,r.doc.length,i=>{i==e&&(n=!0)}),n}function gu(r,e){let n=r.sliceString(e,e+2);return n.slice(0,jr(Mi(n,0)))}function xS(r,e){let n=r.sliceString(e-2,e);return jr(Mi(n,0))==n.length?n:n.slice(1)}function _S(r,e,n,i){let o=null,a=r.changeByRange(c=>{if(!c.empty)return{changes:[{insert:e,from:c.from},{insert:n,from:c.to}],effects:Uo.of(c.to+e.length),range:$e.range(c.anchor+e.length,c.head+e.length)};let f=gu(r.doc,c.head);return!f||/\s/.test(f)||i.indexOf(f)>-1?{changes:{insert:e+n,from:c.head},effects:Uo.of(c.head+e.length),range:$e.cursor(c.head+e.length)}:{range:o=c}});return o?null:r.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function kS(r,e,n){let i=null,o=r.selection.ranges.map(a=>a.empty&&gu(r.doc,a.head)==n?$e.cursor(a.head+n.length):i=a);return i?null:r.update({selection:$e.create(o,r.selection.mainIndex),scrollIntoView:!0,effects:r.selection.ranges.map(({from:a})=>rp.of(a))})}function SS(r,e,n,i){let o=i.stringPrefixes||Kl.stringPrefixes,a=null,c=r.changeByRange(f=>{if(!f.empty)return{changes:[{insert:e,from:f.from},{insert:e,from:f.to}],effects:Uo.of(f.to+e.length),range:$e.range(f.anchor+e.length,f.head+e.length)};let d=f.head,m=gu(r.doc,d),O;if(m==e){if(SO(r,d))return{changes:{insert:e+e,from:d},effects:Uo.of(d+e.length),range:$e.cursor(d+e.length)};if(Xy(r,d)){let y=n&&r.sliceDoc(d,d+e.length*3)==e+e+e;return{range:$e.cursor(d+e.length*(y?3:1)),effects:rp.of(d)}}}else{if(n&&r.sliceDoc(d-2*e.length,d)==e+e&&(O=QO(r,d-2*e.length,o))>-1&&SO(r,O))return{changes:{insert:e+e+e+e,from:d},effects:Uo.of(d+e.length),range:$e.cursor(d+e.length)};if(r.charCategorizer(d)(m)!=Fn.Word&&QO(r,d,o)>-1&&!QS(r,d,e,o))return{changes:{insert:e+e,from:d},effects:Uo.of(d+e.length),range:$e.cursor(d+e.length)}}return{range:a=f}});return a?null:r.update(c,{scrollIntoView:!0,userEvent:"input.type"})}function SO(r,e){let n=ki(r).resolveInner(e+1);return n.parent&&n.from==e}function QS(r,e,n,i){let o=ki(r).resolveInner(e,-1),a=i.reduce((c,f)=>Math.max(c,f.length),0);for(let c=0;c<5;c++){let f=r.sliceDoc(o.from,Math.min(o.to,o.from+n.length+a)),d=f.indexOf(n);if(!d||d>-1&&i.indexOf(f.slice(0,d))>-1){let O=o.firstChild;for(;O&&O.from==o.from&&O.to-O.from>n.length+d;){if(r.sliceDoc(O.to-n.length,O.to)==n)return!1;O=O.firstChild}return!0}let m=o.to==e&&o.parent;if(!m)break;o=m}return!1}function QO(r,e,n){let i=r.charCategorizer(e);if(i(r.sliceDoc(e-1,e))!=Fn.Word)return e;for(let o of n){let a=e-o.length;if(r.sliceDoc(a,e)==o&&i(r.sliceDoc(a-1,a))!=Fn.Word)return a}return-1}function $S(r={}){return[Wr,qr.of(r),rS,PS,Ey]}const Ry=[{key:"Ctrl-Space",run:Kk},{key:"Escape",run:eS},{key:"ArrowDown",run:gf(!0)},{key:"ArrowUp",run:gf(!1)},{key:"PageDown",run:gf(!0,"page")},{key:"PageUp",run:gf(!1,"page")},{key:"Enter",run:Jk}],PS=Fo.highest(ou.computeN([qr],r=>r.facet(qr).defaultKeymap?[Ry]:[]));class CS{constructor(e,n,i){this.from=e,this.to=n,this.diagnostic=i}}class Wo{constructor(e,n,i){this.diagnostics=e,this.panel=n,this.selected=i}static init(e,n,i){let o=e,a=i.facet(Ea).markerFilter;a&&(o=a(o));let c=kt.set(o.map(f=>f.from==f.to||f.from==f.to-1&&i.doc.lineAt(f.from).to==f.from?kt.widget({widget:new WS(f),diagnostic:f}).range(f.from):kt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+f.severity},diagnostic:f}).range(f.from,f.to)),!0);return new Wo(c,n,Va(c))}}function Va(r,e=null,n=0){let i=null;return r.between(n,1e9,(o,a,{spec:c})=>{if(!(e&&c.diagnostic!=e))return i=new CS(o,a,c.diagnostic),!1}),i}function TS(r,e){return!!(r.effects.some(n=>n.is(op))||r.changes.touchesRange(e.pos))}function Yy(r,e){return r.field(Tr,!1)?e:e.concat(Ut.appendConfig.of([Tr,Ot.decorations.compute([Tr],n=>{let{selected:i,panel:o}=n.field(Tr);return!i||!o||i.from==i.to?kt.none:kt.set([AS.range(i.from,i.to)])}),Z1(DS,{hideOn:TS}),US]))}function ES(r,e){return{effects:Yy(r,[op.of(e)])}}const op=Ut.define(),ap=Ut.define(),Wy=Ut.define(),Tr=Ti.define({create(){return new Wo(kt.none,null,null)},update(r,e){if(e.docChanged){let n=r.diagnostics.map(e.changes),i=null;if(r.selected){let o=e.changes.mapPos(r.selected.from,1);i=Va(n,r.selected.diagnostic,o)||Va(n,null,o)}r=new Wo(n,r.panel,i)}for(let n of e.effects)n.is(op)?r=Wo.init(n.value,r.panel,e.state):n.is(ap)?r=new Wo(r.diagnostics,n.value?Ou.open:null,r.selected):n.is(Wy)&&(r=new Wo(r.diagnostics,r.panel,n.value));return r},provide:r=>[Nl.from(r,e=>e.panel),Ot.decorations.from(r,e=>e.diagnostics)]}),AS=kt.mark({class:"cm-lintRange cm-lintRange-active"});function DS(r,e,n){let{diagnostics:i}=r.state.field(Tr),o=[],a=2e8,c=0;i.between(e-(n<0?1:0),e+(n>0?1:0),(d,m,{spec:O})=>{e>=d&&e<=m&&(d==m||(e>d||n>0)&&(e<m||n<0))&&(o.push(O.diagnostic),a=Math.min(d,a),c=Math.max(m,c))});let f=r.state.facet(Ea).tooltipFilter;return f&&(o=f(o)),o.length?{pos:a,end:c,above:r.state.doc.lineAt(a).to<c,create(){return{dom:ZS(r,o)}}}:null}function ZS(r,e){return Yn("ul",{class:"cm-tooltip-lint"},e.map(n=>Uy(r,n,!1)))}const MS=r=>{let e=r.state.field(Tr,!1);(!e||!e.panel)&&r.dispatch({effects:Yy(r.state,[ap.of(!0)])});let n=Fl(r,Ou.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},$O=r=>{let e=r.state.field(Tr,!1);return!e||!e.panel?!1:(r.dispatch({effects:ap.of(!1)}),!0)},XS=r=>{let e=r.state.field(Tr,!1);if(!e)return!1;let n=r.state.selection.main,i=e.diagnostics.iter(n.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==n.from&&i.to==n.to)?!1:(r.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},RS=[{key:"Mod-Shift-m",run:MS,preventDefault:!0},{key:"F8",run:XS}],YS=pi.fromClass(class{constructor(r){this.view=r,this.timeout=-1,this.set=!0;let{delay:e}=r.state.facet(Ea);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let r=Date.now();if(r<this.lintTime-10)setTimeout(this.run,this.lintTime-r);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(Ea);Promise.all(n.map(i=>Promise.resolve(i(this.view)))).then(i=>{let o=i.reduce((a,c)=>a.concat(c));this.view.state.doc==e.doc&&this.view.dispatch(ES(this.view.state,o))},i=>{Er(this.view.state,i)})}}update(r){let e=r.state.facet(Ea);(r.docChanged||e!=r.startState.facet(Ea))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Ea=pt.define({combine(r){return Object.assign({sources:r.map(e=>e.source)},Cs(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:YS});function jy(r){let e=[];if(r)e:for(let{name:n}of r){for(let i=0;i<n.length;i++){let o=n[i];if(/[a-zA-Z]/.test(o)&&!e.some(a=>a.toLowerCase()==o.toLowerCase())){e.push(o);continue e}}e.push("")}return e}function Uy(r,e,n){var i;let o=n?jy(e.actions):[];return Yn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Yn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((a,c)=>{let f=!1,d=P=>{if(P.preventDefault(),f)return;f=!0;let C=Va(r.state.field(Tr).diagnostics,e);C&&a.apply(r,C.from,C.to)},{name:m}=a,O=o[c]?m.indexOf(o[c]):-1,y=O<0?m:[m.slice(0,O),Yn("u",m.slice(O,O+1)),m.slice(O+1)];return Yn("button",{type:"button",class:"cm-diagnosticAction",onclick:d,onmousedown:d,"aria-label":` Action: ${m}${O<0?"":` (access key "${o[c]})"`}.`},y)}),e.source&&Yn("div",{class:"cm-diagnosticSource"},e.source))}class WS extends Fs{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Yn("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class PO{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Uy(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ou{constructor(e){this.view=e,this.items=[];let n=o=>{if(o.keyCode==27)$O(this.view),this.view.focus();else if(o.keyCode==38||o.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(o.keyCode==40||o.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(o.keyCode==36)this.moveSelection(0);else if(o.keyCode==35)this.moveSelection(this.items.length-1);else if(o.keyCode==13)this.view.focus();else if(o.keyCode>=65&&o.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],c=jy(a.actions);for(let f=0;f<c.length;f++)if(c[f].toUpperCase().charCodeAt(0)==o.keyCode){let d=Va(this.view.state.field(Tr).diagnostics,a);d&&a.actions[f].apply(e,d.from,d.to)}}else return;o.preventDefault()},i=o=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(o.target)&&this.moveSelection(a)};this.list=Yn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:i}),this.dom=Yn("div",{class:"cm-panel-lint"},this.list,Yn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>$O(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(Tr).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Tr),i=0,o=!1,a=null;for(e.between(0,this.view.state.doc.length,(c,f,{spec:d})=>{let m=-1,O;for(let y=i;y<this.items.length;y++)if(this.items[y].diagnostic==d.diagnostic){m=y;break}m<0?(O=new PO(this.view,d.diagnostic),this.items.splice(i,0,O),o=!0):(O=this.items[m],m>i&&(this.items.splice(i,m-i),o=!0)),n&&O.diagnostic==n.diagnostic?O.dom.hasAttribute("aria-selected")||(O.dom.setAttribute("aria-selected","true"),a=O):O.dom.hasAttribute("aria-selected")&&O.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();this.items.length==0&&(this.items.push(new PO(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:c,panel:f})=>{c.top<f.top?this.list.scrollTop-=f.top-c.top:c.bottom>f.bottom&&(this.list.scrollTop+=c.bottom-f.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let e=this.list.firstChild;function n(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)n();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Tr),i=Va(n.diagnostics,this.items[e].diagnostic);!i||this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:Wy.of(i)})}static open(e){return new Ou(e)}}function jS(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function Zh(r){return jS(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const US=Ot.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Zh("#d11")},".cm-lintRange-warning":{backgroundImage:Zh("orange")},".cm-lintRange-info":{backgroundImage:Zh("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),qS=(()=>[I1(),B1(),h1(),c_(),Zx(),t1(),o1(),ln.allowMultipleSelections.of(!0),wx(),Xx(Wx,{fallback:!0}),Lx(),gS(),$S(),k1(),$1(),v1(),pk(),ou.of([...bS,...ck,...Dk,...v_,...Ex,...Ry,...RS])])();class eu{constructor(e,n,i,o,a,c,f,d,m,O=0,y){this.p=e,this.stack=n,this.state=i,this.reducePos=o,this.pos=a,this.score=c,this.buffer=f,this.bufferBase=d,this.curContext=m,this.lookAhead=O,this.parent=y}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,i=0){let o=e.parser.context;return new eu(e,[],n,i,i,0,[],0,o?new CO(o,o.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let i=e>>19,o=e&65535,{parser:a}=this.p,c=a.dynamicPrecedence(o);if(c&&(this.score+=c),i==0){this.pushState(a.getGoto(this.state,o,!0),this.reducePos),o<a.minRepeatTerm&&this.storeNode(o,this.reducePos,this.reducePos,4,!0),this.reduceContext(o,this.reducePos);return}let f=this.stack.length-(i-1)*3-(e&262144?6:0),d=f?this.stack[f-2]:this.p.ranges[0].from,m=this.reducePos-d;m>=2e3&&!(!((n=this.p.parser.nodeSet.types[o])===null||n===void 0)&&n.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=m):this.p.lastBigReductionSize<m&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=m));let O=f?this.stack[f-1]:0,y=this.bufferBase+this.buffer.length-O;if(o<a.minRepeatTerm||e&131072){let P=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(o,d,P,y+4,!0)}if(e&262144)this.state=this.stack[f];else{let P=this.stack[f-3];this.state=a.getGoto(P,o,!0)}for(;this.stack.length>f;)this.stack.pop();this.reduceContext(o,d)}storeNode(e,n,i,o=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let c=this,f=this.buffer.length;if(f==0&&c.parent&&(f=c.bufferBase-c.parent.bufferBase,c=c.parent),f>0&&c.buffer[f-4]==0&&c.buffer[f-1]>-1){if(n==i)return;if(c.buffer[f-2]>=n){c.buffer[f-2]=i;return}}}if(!a||this.pos==i)this.buffer.push(e,n,i,o);else{let c=this.buffer.length;if(c>0&&this.buffer[c-4]!=0)for(;c>0&&this.buffer[c-2]>i;)this.buffer[c]=this.buffer[c-4],this.buffer[c+1]=this.buffer[c-3],this.buffer[c+2]=this.buffer[c-2],this.buffer[c+3]=this.buffer[c-1],c-=4,o>4&&(o-=4);this.buffer[c]=e,this.buffer[c+1]=n,this.buffer[c+2]=i,this.buffer[c+3]=o}}shift(e,n,i){let o=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let a=e,{parser:c}=this.p;(i>this.pos||n<=c.maxNode)&&(this.pos=i,c.stateFlag(a,1)||(this.reducePos=i)),this.pushState(a,o),this.shiftContext(n,o),n<=c.maxNode&&this.buffer.push(n,o,i,4)}else this.pos=i,this.shiftContext(n,o),n<=this.p.parser.maxNode&&this.buffer.push(n,o,i,4)}apply(e,n,i){e&65536?this.reduce(e):this.shift(e,n,i)}useNode(e,n){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let o=this.pos;this.reducePos=this.pos=o+e.length,this.pushState(n,o),this.buffer.push(i,o,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let i=e.buffer.slice(n),o=e.bufferBase+n;for(;e&&o==e.bufferBase;)e=e.parent;return new eu(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,o,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,i?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new zS(this);;){let i=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(i==0)return!1;if((i&65536)==0)return!0;n.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>4<<1||this.stack.length>=120){let o=[];for(let a=0,c;a<n.length;a+=2)(c=n[a+1])!=this.state&&this.p.parser.hasAction(c,e)&&o.push(n[a],c);if(this.stack.length<120)for(let a=0;o.length<4<<1&&a<n.length;a+=2){let c=n[a+1];o.some((f,d)=>d&1&&f==c)||o.push(n[a],c)}n=o}let i=[];for(let o=0;o<n.length&&i.length<4;o+=2){let a=n[o+1];if(a==this.state)continue;let c=this.split();c.pushState(a,this.pos),c.storeNode(0,c.pos,c.pos,4,!0),c.shiftContext(n[o],this.pos),c.score-=200,i.push(c)}return i}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if((e&65536)==0)return!1;let{parser:n}=this.p;if(!n.validAction(this.state,e)){let i=e>>19,o=e&65535,a=this.stack.length-i*3;if(a<0||n.getGoto(this.stack[a],o,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new CO(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class CO{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}var TO;(function(r){r[r.Insert=200]="Insert",r[r.Delete=190]="Delete",r[r.Reduce=100]="Reduce",r[r.MaxNext=4]="MaxNext",r[r.MaxInsertStackDepth=300]="MaxInsertStackDepth",r[r.DampenInsertStackDepth=120]="DampenInsertStackDepth",r[r.MinBigReduction=2e3]="MinBigReduction"})(TO||(TO={}));class zS{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let o=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=o}}class tu{constructor(e,n,i){this.stack=e,this.pos=n,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new tu(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new tu(this.stack,this.pos,this.index)}}function Ml(r,e=Uint16Array){if(typeof r!="string")return r;let n=null;for(let i=0,o=0;i<r.length;){let a=0;for(;;){let c=r.charCodeAt(i++),f=!1;if(c==126){a=65535;break}c>=92&&c--,c>=34&&c--;let d=c-32;if(d>=46&&(d-=46,f=!0),a+=d,f)break;a*=46}n?n[o++]=a:n=new e(a)}return n}class Sf{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const EO=new Sf;class IS{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=EO,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let i=this.range,o=this.rangeIndex,a=this.pos+e;for(;a<i.from;){if(!o)return null;let c=this.ranges[--o];a-=i.from-c.to,i=c}for(;n<0?a>i.to:a>=i.to;){if(o==this.ranges.length-1)return null;let c=this.ranges[++o];a+=c.from-i.to,i=c}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,i,o;if(n>=0&&n<this.chunk.length)i=this.pos+e,o=this.chunk.charCodeAt(n);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(i=a,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)o=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let c=this.rangeIndex,f=this.range;for(;f.to<=i;)f=this.ranges[++c];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>f.to&&(this.chunk2=this.chunk2.slice(0,f.to-i)),o=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),o}acceptToken(e,n=0){let i=n?this.resolveOffset(n,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=EO,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let i="";for(let o of this.ranges){if(o.from>=n)break;o.to>e&&(i+=this.input.read(Math.max(o.from,e),Math.min(o.to,n)))}return i}}class Ra{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:i}=n.p;qy(this.data,e,n,this.id,i.data,i.tokenPrecTable)}}Ra.prototype.contextual=Ra.prototype.fallback=Ra.prototype.extend=!1;class Qd{constructor(e,n,i){this.precTable=n,this.elseToken=i,this.data=typeof e=="string"?Ml(e):e}token(e,n){let i=e.pos,o;for(;o=e.pos,qy(this.data,e,n,0,this.data,this.precTable),!(e.token.value>-1);){if(this.elseToken==null)return;if(e.next<0)break;e.advance(),e.reset(o+1,e.token)}o>i&&(e.reset(i,e.token),e.acceptToken(this.elseToken,o-i))}}Qd.prototype.contextual=Ra.prototype.fallback=Ra.prototype.extend=!1;class lp{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function qy(r,e,n,i,o,a){let c=0,f=1<<i,{dialect:d}=n.p.parser;e:for(;(f&r[c])!=0;){let m=r[c+1];for(let C=c+3;C<m;C+=2)if((r[C+1]&f)>0){let W=r[C];if(d.allows(W)&&(e.token.value==-1||e.token.value==W||VS(W,e.token.value,o,a))){e.acceptToken(W);break}}let O=e.next,y=0,P=r[c+2];if(e.next<0&&P>y&&r[m+P*3-3]==65535&&r[m+P*3-3]==65535){c=r[m+P*3-1];continue e}for(;y<P;){let C=y+P>>1,W=m+C+(C<<1),ae=r[W],fe=r[W+1]||65536;if(O<ae)P=C;else if(O>=fe)y=C+1;else{c=r[W+2],e.advance();continue e}}break}}function AO(r,e,n){for(let i=e,o;(o=r[i])!=65535;i++)if(o==n)return i-e;return-1}function VS(r,e,n,i){let o=AO(n,i,e);return o<0||AO(n,i,r)<o}const ns=typeof process!="undefined"&&process.env&&/\bparse\b/.test({}.LOG);let Mh=null;var DO;(function(r){r[r.Margin=25]="Margin"})(DO||(DO={}));function ZO(r,e,n){let i=r.cursor(Ci.IncludeAnonymous);for(i.moveTo(e);;)if(!(n<0?i.childBefore(e):i.childAfter(e)))for(;;){if((n<0?i.to<e:i.from>e)&&!i.type.isError)return n<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(r.length,Math.max(i.from+1,e+25));if(n<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return n<0?0:r.length}}class LS{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?ZO(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?ZO(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let i=this.trees[n],o=this.index[n];if(o==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=i.children[o],c=this.start[n]+i.positions[o];if(c>e)return this.nextStart=c,null;if(a instanceof di){if(c==e){if(c<this.safeFrom)return null;let f=c+a.length;if(f<=this.safeTo){let d=a.prop(Ft.lookAhead);if(!d||f+d<this.fragment.to)return a}}this.index[n]++,c+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(c),this.index.push(0))}else this.index[n]++,this.nextStart=c+a.length}}}class BS{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Sf)}getActions(e){let n=0,i=null,{parser:o}=e.p,{tokenizers:a}=o,c=o.stateSlot(e.state,3),f=e.curContext?e.curContext.hash:0,d=0;for(let m=0;m<a.length;m++){if((1<<m&c)==0)continue;let O=a[m],y=this.tokens[m];if(!(i&&!O.fallback)&&((O.contextual||y.start!=e.pos||y.mask!=c||y.context!=f)&&(this.updateCachedToken(y,O,e),y.mask=c,y.context=f),y.lookAhead>y.end+25&&(d=Math.max(y.lookAhead,d)),y.value!=0)){let P=n;if(y.extended>-1&&(n=this.addActions(e,y.extended,y.end,n)),n=this.addActions(e,y.value,y.end,n),!O.extend&&(i=y,n>P))break}}for(;this.actions.length>n;)this.actions.pop();return d&&e.setLookAhead(d),!i&&e.pos==this.stream.end&&(i=new Sf,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,n=this.addActions(e,i.value,i.end,n)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Sf,{pos:i,p:o}=e;return n.start=i,n.end=Math.min(i+1,o.stream.end),n.value=i==o.stream.end?o.parser.eofTerm:0,n}updateCachedToken(e,n,i){let o=this.stream.clipPos(i.pos);if(n.token(this.stream.reset(o,e),i),e.value>-1){let{parser:a}=i.p;for(let c=0;c<a.specialized.length;c++)if(a.specialized[c]==e.value){let f=a.specializers[c](this.stream.read(e.start,e.end),i);if(f>=0&&i.p.parser.dialect.allows(f>>1)){(f&1)==0?e.value=f>>1:e.extended=f>>1;break}}}else e.value=0,e.end=this.stream.clipPos(o+1)}putAction(e,n,i,o){for(let a=0;a<o;a+=3)if(this.actions[a]==e)return o;return this.actions[o++]=e,this.actions[o++]=n,this.actions[o++]=i,o}addActions(e,n,i,o){let{state:a}=e,{parser:c}=e.p,{data:f}=c;for(let d=0;d<2;d++)for(let m=c.stateSlot(a,d?2:1);;m+=3){if(f[m]==65535)if(f[m+1]==1)m=Vs(f,m+2);else{o==0&&f[m+1]==2&&(o=this.putAction(Vs(f,m+2),n,i,o));break}f[m]==n&&(o=this.putAction(Vs(f,m+1),n,i,o))}return o}}var MO;(function(r){r[r.Distance=5]="Distance",r[r.MaxRemainingPerStep=3]="MaxRemainingPerStep",r[r.MinBufferLengthPrune=500]="MinBufferLengthPrune",r[r.ForceReduceLimit=10]="ForceReduceLimit",r[r.CutDepth=15e3]="CutDepth",r[r.CutTo=9e3]="CutTo",r[r.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",r[r.MaxStackCount=12]="MaxStackCount"})(MO||(MO={}));class FS{constructor(e,n,i,o){this.parser=e,this.input=n,this.ranges=o,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new IS(n,o),this.tokens=new BS(e,this.stream),this.topTerm=e.top[1];let{from:a}=o[0];this.stacks=[eu.start(this,e.top[0],a)],this.fragments=i.length&&this.stream.end-a>e.bufferLength*4?new LS(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,i=this.stacks=[],o,a;if(this.bigReductionCount>300&&e.length==1){let[c]=e;for(;c.forceReduce()&&c.stack.length&&c.stack[c.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let c=0;c<e.length;c++){let f=e[c];for(;;){if(this.tokens.mainToken=null,f.pos>n)i.push(f);else{if(this.advanceStack(f,i,e))continue;{o||(o=[],a=[]),o.push(f);let d=this.tokens.getMainToken(f);a.push(d.value,d.end)}}break}}if(!i.length){let c=o&&HS(o);if(c)return this.stackToTree(c);if(this.parser.strict)throw ns&&o&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&o){let c=this.stoppedAt!=null&&o[0].pos>this.stoppedAt?o[0]:this.runRecovery(o,a,i);if(c)return this.stackToTree(c.forceAll())}if(this.recovering){let c=this.recovering==1?1:this.recovering*3;if(i.length>c)for(i.sort((f,d)=>d.score-f.score);i.length>c;)i.pop();i.some(f=>f.reducePos>n)&&this.recovering--}else if(i.length>1){e:for(let c=0;c<i.length-1;c++){let f=i[c];for(let d=c+1;d<i.length;d++){let m=i[d];if(f.sameState(m)||f.buffer.length>500&&m.buffer.length>500)if((f.score-m.score||f.buffer.length-m.buffer.length)>0)i.splice(d--,1);else{i.splice(c--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let c=1;c<i.length;c++)i[c].pos<this.minStackPos&&(this.minStackPos=i[c].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,i){let o=e.pos,{parser:a}=this,c=ns?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&o>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let m=e.curContext&&e.curContext.tracker.strict,O=m?e.curContext.hash:0;for(let y=this.fragments.nodeAt(o);y;){let P=this.parser.nodeSet.types[y.type.id]==y.type?a.getGoto(e.state,y.type.id):-1;if(P>-1&&y.length&&(!m||(y.prop(Ft.contextHash)||0)==O))return e.useNode(y,P),ns&&console.log(c+this.stackID(e)+` (via reuse of ${a.getName(y.type.id)})`),!0;if(!(y instanceof di)||y.children.length==0||y.positions[0]>0)break;let C=y.children[0];if(C instanceof di&&y.positions[0]==0)y=C;else break}}let f=a.stateSlot(e.state,4);if(f>0)return e.reduce(f),ns&&console.log(c+this.stackID(e)+` (via always-reduce ${a.getName(f&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let d=this.tokens.getActions(e);for(let m=0;m<d.length;){let O=d[m++],y=d[m++],P=d[m++],C=m==d.length||!i,W=C?e:e.split();if(W.apply(O,y,P),ns&&console.log(c+this.stackID(W)+` (via ${(O&65536)==0?"shift":`reduce of ${a.getName(O&65535)}`} for ${a.getName(y)} @ ${o}${W==e?"":", split"})`),C)return!0;W.pos>o?n.push(W):i.push(W)}return!1}advanceFully(e,n){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return XO(e,n),!0}}runRecovery(e,n,i){let o=null,a=!1;for(let c=0;c<e.length;c++){let f=e[c],d=n[c<<1],m=n[(c<<1)+1],O=ns?this.stackID(f)+" -> ":"";if(f.deadEnd&&(a||(a=!0,f.restart(),ns&&console.log(O+this.stackID(f)+" (restarted)"),this.advanceFully(f,i))))continue;let y=f.split(),P=O;for(let C=0;y.forceReduce()&&C<10&&(ns&&console.log(P+this.stackID(y)+" (via force-reduce)"),!this.advanceFully(y,i));C++)ns&&(P=this.stackID(y)+" -> ");for(let C of f.recoverByInsert(d))ns&&console.log(O+this.stackID(C)+" (via recover-insert)"),this.advanceFully(C,i);this.stream.end>f.pos?(m==f.pos&&(m++,d=0),f.recoverByDelete(d,m),ns&&console.log(O+this.stackID(f)+` (via recover-delete ${this.parser.getName(d)})`),XO(f,i)):(!o||o.score<f.score)&&(o=f)}return o}stackToTree(e){return e.close(),di.build({buffer:tu.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(Mh||(Mh=new WeakMap)).get(e);return n||Mh.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function XO(r,e){for(let n=0;n<e.length;n++){let i=e[n];if(i.pos==r.pos&&i.sameState(r)){e[n].score<r.score&&(e[n]=r);return}}e.push(r)}class NS{constructor(e,n,i){this.source=e,this.flags=n,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const Xh=r=>r;class GS{constructor(e){this.start=e.start,this.shift=e.shift||Xh,this.reduce=e.reduce||Xh,this.reuse=e.reuse||Xh,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class nu extends y0{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (${14})`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let f=0;f<e.repeatNodeCount;f++)n.push("");let i=Object.keys(e.topRules).map(f=>e.topRules[f][1]),o=[];for(let f=0;f<n.length;f++)o.push([]);function a(f,d,m){o[f].push([d,d.deserialize(String(m))])}if(e.nodeProps)for(let f of e.nodeProps){let d=f[0];typeof d=="string"&&(d=Ft[d]);for(let m=1;m<f.length;){let O=f[m++];if(O>=0)a(O,d,f[m++]);else{let y=f[m+-O];for(let P=-O;P>0;P--)a(f[m++],d,y);m++}}}this.nodeSet=new Wd(n.map((f,d)=>pr.define({name:d>=this.minRepeatTerm?void 0:f,id:d,props:o[d],top:i.indexOf(d)>-1,error:d==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(d)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=g0;let c=Ml(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let f=0;f<this.specializerSpecs.length;f++)this.specialized[f]=this.specializerSpecs[f].term;this.specializers=this.specializerSpecs.map(RO),this.states=Ml(e.states,Uint32Array),this.data=Ml(e.stateData),this.goto=Ml(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(f=>typeof f=="number"?new Ra(c,f):f),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,i){let o=new FS(this,e,n,i);for(let a of this.wrappers)o=a(o,e,n,i);return o}getGoto(e,n,i=!1){let o=this.goto;if(n>=o[0])return-1;for(let a=o[n+1];;){let c=o[a++],f=c&1,d=o[a++];if(f&&i)return d;for(let m=a+(c>>1);a<m;a++)if(o[a]==e)return d;if(f)return-1}}hasAction(e,n){let i=this.data;for(let o=0;o<2;o++)for(let a=this.stateSlot(e,o?2:1),c;;a+=3){if((c=i[a])==65535)if(i[a+1]==1)c=i[a=Vs(i,a+2)];else{if(i[a+1]==2)return Vs(i,a+2);break}if(c==n||c==0)return Vs(i,a+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){if(n==this.stateSlot(e,4))return!0;for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Vs(this.data,i+2);else return!1;if(n==Vs(this.data,i+1))return!0}}nextStates(e){let n=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Vs(this.data,i+2);else break;if((this.data[i+2]&1)==0){let o=this.data[i+1];n.some((a,c)=>c&1&&a==o)||n.push(this.data[i],o)}}return n}configure(e){let n=Object.assign(Object.create(nu.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=i}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(i=>{let o=e.tokenizers.find(a=>a.from==i);return o?o.to:i})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((i,o)=>{let a=e.specializers.find(f=>f.from==i.external);if(!a)return i;let c=Object.assign(Object.assign({},i),{external:a.to});return n.specializers[o]=RO(c),c})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),i=n.map(()=>!1);if(e)for(let a of e.split(" ")){let c=n.indexOf(a);c>=0&&(i[c]=!0)}let o=null;for(let a=0;a<n.length;a++)if(!i[a])for(let c=this.dialects[n[a]],f;(f=this.data[c++])!=65535;)(o||(o=new Uint8Array(this.maxTerm+1)))[f]=1;return new NS(e,i,o)}static deserialize(e){return new nu(e)}}function Vs(r,e){return r[e]|r[e+1]<<16}function HS(r){let e=null;for(let n of r){let i=n.p.stoppedAt;(n.pos==n.p.stream.end||i!=null&&n.pos>i)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function RO(r){if(r.external){let e=r.extend?1:0;return(n,i)=>r.external(n,i)<<1|e}return r.get}const YO=301,WO=1,JS=2,jO=302,KS=304,eQ=305,tQ=3,nQ=4,iQ=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],zy=125,rQ=59,UO=47,sQ=42,oQ=43,aQ=45,lQ=new GS({start:!1,shift(r,e){return e==tQ||e==nQ||e==KS?r:e==eQ},strict:!1}),cQ=new lp((r,e)=>{let{next:n}=r;(n==zy||n==-1||e.context)&&e.canShift(jO)&&r.acceptToken(jO)},{contextual:!0,fallback:!0}),fQ=new lp((r,e)=>{let{next:n}=r,i;iQ.indexOf(n)>-1||n==UO&&((i=r.peek(1))==UO||i==sQ)||n!=zy&&n!=rQ&&n!=-1&&!e.context&&e.canShift(YO)&&r.acceptToken(YO)},{contextual:!0}),uQ=new lp((r,e)=>{let{next:n}=r;if((n==oQ||n==aQ)&&(r.advance(),n==r.next)){r.advance();let i=!e.context&&e.canShift(WO);r.acceptToken(i?WO:JS)}},{contextual:!0}),hQ=b0({"get set async static":ge.modifier,"for while do if else switch try catch finally return throw break continue default case":ge.controlKeyword,"in of await yield void typeof delete instanceof":ge.operatorKeyword,"let var const function class extends":ge.definitionKeyword,"import export from":ge.moduleKeyword,"with debugger as new":ge.keyword,TemplateString:ge.special(ge.string),super:ge.atom,BooleanLiteral:ge.bool,this:ge.self,null:ge.null,Star:ge.modifier,VariableName:ge.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":ge.function(ge.variableName),VariableDefinition:ge.definition(ge.variableName),Label:ge.labelName,PropertyName:ge.propertyName,PrivatePropertyName:ge.special(ge.propertyName),"CallExpression/MemberExpression/PropertyName":ge.function(ge.propertyName),"FunctionDeclaration/VariableDefinition":ge.function(ge.definition(ge.variableName)),"ClassDeclaration/VariableDefinition":ge.definition(ge.className),PropertyDefinition:ge.definition(ge.propertyName),PrivatePropertyDefinition:ge.definition(ge.special(ge.propertyName)),UpdateOp:ge.updateOperator,LineComment:ge.lineComment,BlockComment:ge.blockComment,Number:ge.number,String:ge.string,Escape:ge.escape,ArithOp:ge.arithmeticOperator,LogicOp:ge.logicOperator,BitOp:ge.bitwiseOperator,CompareOp:ge.compareOperator,RegExp:ge.regexp,Equals:ge.definitionOperator,Arrow:ge.function(ge.punctuation),": Spread":ge.punctuation,"( )":ge.paren,"[ ]":ge.squareBracket,"{ }":ge.brace,"InterpolationStart InterpolationEnd":ge.special(ge.brace),".":ge.derefOperator,", ;":ge.separator,"@":ge.meta,TypeName:ge.typeName,TypeDefinition:ge.definition(ge.typeName),"type enum interface implements namespace module declare":ge.definitionKeyword,"abstract global Privacy readonly override":ge.modifier,"is keyof unique infer":ge.operatorKeyword,JSXAttributeValue:ge.attributeValue,JSXText:ge.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":ge.angleBracket,"JSXIdentifier JSXNameSpacedName":ge.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":ge.attributeName,"JSXBuiltin/JSXIdentifier":ge.standard(ge.tagName)}),dQ={__proto__:null,export:14,as:19,from:27,default:30,async:35,function:36,extends:46,this:50,true:58,false:58,null:70,void:74,typeof:78,super:96,new:130,delete:146,yield:155,await:159,class:164,public:219,private:219,protected:219,readonly:221,instanceof:240,satisfies:243,in:244,const:246,import:278,keyof:333,unique:337,infer:343,is:379,abstract:399,implements:401,type:403,let:406,var:408,interface:415,enum:419,namespace:425,module:427,declare:431,global:435,for:456,of:465,while:468,with:472,do:476,if:480,else:482,switch:486,case:492,try:498,catch:502,finally:506,return:510,throw:514,break:518,continue:522,debugger:526},pQ={__proto__:null,async:117,get:119,set:121,public:181,private:181,protected:181,static:183,abstract:185,override:187,readonly:193,accessor:195,new:383},mQ={__proto__:null,"<":137},gQ=nu.deserialize({version:14,states:"$BhO`QUOOO%QQUOOO'TQWOOP(_OSOOO*mQ(CjO'#CfO*tOpO'#CgO+SO!bO'#CgO+bO07`O'#DZO-sQUO'#DaO.TQUO'#DlO%QQUO'#DvO0[QUO'#EOOOQ(CY'#EW'#EWO0rQSO'#ETOOQO'#I_'#I_O0zQSO'#GjOOQO'#Eh'#EhO1VQSO'#EgO1[QSO'#EgO3^Q(CjO'#JbO5}Q(CjO'#JcO6kQSO'#FVO6pQ#tO'#FnOOQ(CY'#F_'#F_O6{O&jO'#F_O7ZQ,UO'#FuO8qQSO'#FtOOQ(CY'#Jc'#JcOOQ(CW'#Jb'#JbOOQQ'#J|'#J|O8vQSO'#IOO8{Q(C[O'#IPOOQQ'#JO'#JOOOQQ'#IT'#ITQ`QUOOO%QQUO'#DnO9TQUO'#DzO%QQUO'#D|O9[QSO'#GjO9aQ,UO'#ClO9oQSO'#EfO9zQSO'#EqO:PQ,UO'#F^O:nQSO'#GjO:sQSO'#GnO;OQSO'#GnO;^QSO'#GqO;^QSO'#GrO;^QSO'#GtO9[QSO'#GwO;}QSO'#GzO=`QSO'#CbO=pQSO'#HXO=xQSO'#H_O=xQSO'#HaO`QUO'#HcO=xQSO'#HeO=xQSO'#HhO=}QSO'#HnO>SQ(C]O'#HtO%QQUO'#HvO>_Q(C]O'#HxO>jQ(C]O'#HzO8{Q(C[O'#H|O>uQ(CjO'#CfO?wQWO'#DfQOQSOOO@_QSO'#EPO9aQ,UO'#EfO@jQSO'#EfO@uQ`O'#F^OOQQ'#Cd'#CdOOQ(CW'#Dk'#DkOOQ(CW'#Jf'#JfO%QQUO'#JfOBOQWO'#E_OOQ(CW'#E^'#E^OBYQ(C`O'#E_OBtQWO'#ESOOQO'#Ji'#JiOCYQWO'#ESOCgQWO'#E_OC}QWO'#EeODQQWO'#E_O@}QWO'#E_OBtQWO'#E_PDkO?MpO'#C`POOO)CDm)CDmOOOO'#IU'#IUODvOpO,59ROOQ(CY,59R,59ROOOO'#IV'#IVOEUO!bO,59RO%QQUO'#D]OOOO'#IX'#IXOEdO07`O,59uOOQ(CY,59u,59uOErQUO'#IYOFVQSO'#JdOHXQbO'#JdO+pQUO'#JdOH`QSO,59{OHvQSO'#EhOITQSO'#JqOI`QSO'#JpOI`QSO'#JpOIhQSO,5;UOImQSO'#JoOOQ(CY,5:W,5:WOItQUO,5:WOKuQ(CjO,5:bOLfQSO,5:jOLkQSO'#JmOMeQ(C[O'#JnO:sQSO'#JmOMlQSO'#JmOMtQSO,5;TOMyQSO'#JmOOQ(CY'#Cf'#CfO%QQUO'#EOONmQ`O,5:oOOQO'#Jj'#JjOOQO-E<]-E<]O9[QSO,5=UO! TQSO,5=UO! YQUO,5;RO!#]Q,UO'#EcO!$pQSO,5;RO!&YQ,UO'#DpO!&aQUO'#DuO!&kQWO,5;[O!&sQWO,5;[O%QQUO,5;[OOQQ'#E}'#E}OOQQ'#FP'#FPO%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]O%QQUO,5;]OOQQ'#FT'#FTO!'RQUO,5;nOOQ(CY,5;s,5;sOOQ(CY,5;t,5;tO!)UQSO,5;tOOQ(CY,5;u,5;uO%QQUO'#IeO!)^Q(C[O,5<bO!#]Q,UO,5;]O!){Q,UO,5;]O%QQUO,5;qO!*SQ#tO'#FdO!+PQ#tO'#JuO!*kQ#tO'#JuO!+WQ#tO'#JuOOQO'#Ju'#JuO!+lQ#tO,5;|OOOO,5<Y,5<YO!+}QUO'#FpOOOO'#Id'#IdO6{O&jO,5;yO!,UQ#tO'#FrOOQ(CY,5;y,5;yO!,uQ7[O'#CrOOQ(CY'#Cv'#CvO!-YQSO'#CvO!-_O07`O'#CzO!-{Q,UO,5<_O!.SQSO,5<aO!/iQMhO'#GPO!/vQSO'#GQO!/{QSO'#GQO!0QQMhO'#GUO!1PQWO'#GYO!1rQ7[O'#J]OOQ(CY'#J]'#J]O!1|QSO'#J[O!2[QSO'#JZO!2dQSO'#CqOOQ(CY'#Ct'#CtOOQ(CY'#DO'#DOOOQ(CY'#DQ'#DQO0uQSO'#DSO!$uQ,UO'#FwO!$uQ,UO'#FyO!2lQSO'#F{O!2qQSO'#F|O!/{QSO'#GSO!$uQ,UO'#GXO!2vQSO'#EiO!3bQSO,5<`O`QUO,5>jOOQQ'#JW'#JWOOQQ,5>k,5>kOOQQ-E<R-E<RO!5aQ(CjO,5:YO!7}Q(CjO,5:fO%QQUO,5:fO!:hQ(CjO,5:hOOQ(CW'#Co'#CoO!;XQ,UO,5=UO!;gQ(C[O'#JXO8qQSO'#JXO=}QSO,59WO!;xQWO,59WO!<QQ,UO,59WO9aQ,UO,59WO!<]QSO,5;RO!<eQSO'#HWO!<vQSO'#KQO%QQUO,5;vO!=OQWO,5;xO!=TQSO,5=qO!=YQSO,5=qO!=_QSO,5=qO8{Q(C[O,5=qO!=mQSO'#EjO!>gQWO'#EkOOQ(CW'#Jo'#JoO!>nQ(C[O'#J}O8{Q(C[O,5=YO;^QSO,5=`OOQO'#Cr'#CrO!>yQWO,5=]O!?RQ,UO,5=^O!?^QSO,5=`O!?cQ`O,5=cO=}QSO'#G|O9[QSO'#HOO!?kQSO'#HOO9aQ,UO'#HRO!?pQSO'#HROOQQ,5=f,5=fO!?uQSO'#HSO!?}QSO'#ClO!@SQSO,58|O!@^QSO,58|O!BfQUO,58|OOQQ,58|,58|O!BsQ(C[O,58|O%QQUO,58|O!COQUO'#HZOOQQ'#H['#H[OOQQ'#H]'#H]O`QUO,5=sO!C`QSO,5=sO`QUO,5=yO`QUO,5={O!CeQSO,5=}O`QUO,5>PO!CjQSO,5>SO!CoQUO,5>YOOQQ,5>`,5>`O%QQUO,5>`O8{Q(C[O,5>bOOQQ,5>d,5>dO!GvQSO,5>dOOQQ,5>f,5>fO!GvQSO,5>fOOQQ,5>h,5>hO!G{QWO'#DXO%QQUO'#JfO!HjQWO'#JfO!IXQWO'#DgO!IjQWO'#DgO!K{QUO'#DgO!LSQSO'#JeO!L[QSO,5:QO!LaQSO'#ElO!LoQSO'#JrO!LwQSO,5;VO!L|QWO'#DgO!MZQWO'#EROOQ(CY,5:k,5:kO%QQUO,5:kO!MbQSO,5:kO=}QSO,5;QO!;xQWO,5;QO!<QQ,UO,5;QO9aQ,UO,5;QO!MjQSO,5@QO!MoQ!LQO,5:oO!NrQ(C`O,5:yOBtQWO,5:nO# ^QWO,5:nO# kQWO,5:yO#!RQWO,5:yO#!lQWO,5:yOBtQWO,5:yO=}QSO,5:nOOQ(CW'#Eb'#EbOOQO,5:y,5:yO%QQUO,5:yO##]Q(C[O,5:yO##hQ(C[O,5:yO!;xQWO,5:nOOQO,5;P,5;PO##vQ(C[O,5:yPOOO'#IS'#ISP#$[O?MpO,58zPOOO,58z,58zOOOO-E<S-E<SOOQ(CY1G.m1G.mOOOO-E<T-E<TO#$gQ`O,59wOOOO-E<V-E<VOOQ(CY1G/a1G/aO#$lQbO,5>tO+pQUO,5>tOOQO,5>z,5>zO#$vQUO'#IYOOQO-E<W-E<WO#%TQSO,5@OO#%]QbO,5@OO#%dQSO,5@[OOQ(CY1G/g1G/gO%QQUO,5@]O#%lQSO'#I`OOQO-E<^-E<^O#%dQSO,5@[OOQ(CW1G0p1G0pOOQ(CY1G/r1G/rOOQ(CY1G0U1G0UO#&QQSO,5@XO:sQSO,5@XO#&YQSO,5@XO%QQUO,5@YO#&hQ(C[O,5@YO#&yQ(C[O,5@YO#'QQSO'#IbO#&QQSO,5@XOOQ(CW1G0o1G0oO!&kQWO,5:qO!&vQWO,5:qOOQO,5:s,5:sO#'oQSO,5:sO#'wQ,UO1G2pO9[QSO1G2pOOQ(CY1G0m1G0mO#(VQ(CjO1G0mO#)[Q(ChO,5:}OOQ(CY'#GO'#GOO#)xQ(CjO'#J]O! YQUO1G0mO#,QQ,UO'#JgO#,[QSO,5:[O#,aQbO'#JhO%QQUO'#JhO#,kQSO,5:aOOQ(CY'#DX'#DXOOQ(CY1G0v1G0vO%QQUO1G0vOOQ(CY1G1`1G1`O#,pQSO1G0vO#/XQ(CjO1G0wO#/`Q(CjO1G0wO#1yQ(CjO1G0wO#2QQ(CjO1G0wO#4[Q(CjO1G0wO#4rQ(CjO1G0wO#7lQ(CjO1G0wO#7sQ(CjO1G0wO#:^Q(CjO1G0wO#:eQ(CjO1G0wO#<]Q(CjO1G0wO#?]Q$IUO'#CfO#AZQ$IUO1G1YO#CXQ$IUO'#JcO!)XQSO1G1`O#ClQ(CjO,5?POOQ(CW-E<c-E<cO#D`Q(CjO1G0wOOQ(CY1G0w1G0wO#FkQ(CjO1G1]O#G_Q#tO,5<QO#GgQ#tO,5<RO#GoQ#tO'#FiO#HWQSO'#FhOOQO'#Jv'#JvOOQO'#Ic'#IcO#H]Q#tO1G1hOOQ(CY1G1h1G1hOOOO1G1s1G1sO#HnQ$IUO'#JbO#HxQSO,5<[O!'RQUO,5<[OOOO-E<b-E<bOOQ(CY1G1e1G1eO#H}QWO'#JuOOQ(CY,5<^,5<^O#IVQWO,5<^OOQ(CY,59b,59bO!#]Q,UO'#C|OOOO'#IW'#IWO#I[O07`O,59fOOQ(CY,59f,59fO%QQUO1G1yO!2qQSO'#IgO#IgQSO,5<rOOQ(CY,5<o,5<oOOQO'#Ge'#GeO!$uQ,UO,5=OOOQO'#Gg'#GgO!$uQ,UO,5=QO!#]Q,UO,5=SOOQO1G1{1G1{O#IuQ`O'#CoO#JYQ`O,5<kO#JaQSO'#JyO9[QSO'#JyO#JoQSO,5<mO!$uQ,UO,5<lO#JtQSO'#GRO#KPQSO,5<lO#KUQ`O'#GOO#KcQ`O'#JzO#KmQSO'#JzO!#]Q,UO'#JzO#KrQSO,5<pO#KwQWO'#GZO!0zQWO'#GZO#LYQSO'#G]O#L_QSO'#G_O!/{QSO'#GbO#LdQ(C[O'#IiO#LoQWO,5<tOOQ(CY,5<t,5<tO#LvQWO'#GZO#MUQWO'#G[O#M^QWO'#G[OOQ(CY,5=T,5=TO!$uQ,UO,5?vO!$uQ,UO,5?vO#McQSO'#IjO#MnQSO,5?uO#MvQSO,59]O#NgQ,UO,59nOOQ(CY,59n,59nO$ YQ,UO,5<cO$ {Q,UO,5<eO?oQSO,5<gOOQ(CY,5<h,5<hO$!VQSO,5<nO$![Q,UO,5<sO! YQUO1G1zO$!lQSO1G1zOOQQ1G4U1G4UOOQ(CY1G/t1G/tO!)UQSO1G/tO$$kQ(CjO1G0QOOQQ1G2p1G2pO!#]Q,UO1G2pO%QQUO1G2pO$%[QSO1G2pO$%gQ,UO'#EcOOQ(CW,5?s,5?sO$%qQ(C[O,5?sOOQQ1G.r1G.rO=}QSO1G.rO!;xQWO1G.rO!<QQ,UO1G.rO$&SQSO1G0mO$&XQSO'#CfO$&dQSO'#KRO$&lQSO,5=rO$&qQSO'#KRO$&vQSO'#KRO$'RQSO'#IrO$'aQSO,5@lO$'iQbO1G1bOOQ(CY1G1d1G1dO9[QSO1G3]O?oQSO1G3]O$'pQSO1G3]O$'uQSO1G3]OOQQ1G3]1G3]O:sQSO'#JpO:sQSO'#ElO%QQUO'#ElO:sQSO'#IlO$'zQ(C[O,5@iOOQQ1G2t1G2tO!?^QSO1G2zO!#]Q,UO1G2wO$(VQSO1G2wOOQQ1G2x1G2xO!#]Q,UO1G2xO$([QSO1G2xO$(dQWO'#GvOOQQ1G2z1G2zO!0zQWO'#InO!?cQ`O1G2}OOQQ1G2}1G2}OOQQ,5=h,5=hO$(lQ,UO,5=jO9[QSO,5=jO#L_QSO,5=mO8qQSO,5=mO!;xQWO,5=mO!<QQ,UO,5=mO9aQ,UO,5=mO$(zQSO'#KPO$)VQSO,5=nOOQQ1G.h1G.hO$)[Q(C[O1G.hO?oQSO1G.hO$)gQSO1G.hO8{Q(C[O1G.hO$)rQbO,5@nO$*VQSO,5@nO$*bQUO,5=uO$*iQSO,5=uO:sQSO,5@nOOQQ1G3_1G3_O`QUO1G3_OOQQ1G3e1G3eOOQQ1G3g1G3gO=xQSO1G3iO$*nQUO1G3kO$.oQUO'#HjOOQQ1G3n1G3nO$.|QSO'#HpO=}QSO'#HrOOQQ1G3t1G3tO$/UQUO1G3tO8{Q(C[O1G3zOOQQ1G3|1G3|OOQ(CW'#GV'#GVO8{Q(C[O1G4OO8{Q(C[O1G4QO$3YQSO,5@QO!'RQUO,5;WO:sQSO,5;WO=}QSO,5:RO!'RQUO,5:RO!;xQWO,5:RO$3_Q$IUO,5:ROOQO,5;W,5;WO$3iQWO'#IZO$4PQSO,5@POOQ(CY1G/l1G/lO$4XQWO'#IaO$4cQSO,5@^OOQ(CW1G0q1G0qO!IjQWO,5:ROOQO'#I^'#I^O$4kQWO,5:mOOQ(CY,5:m,5:mO!MeQSO1G0VOOQ(CY1G0V1G0VO%QQUO1G0VOOQ(CY1G0l1G0lO=}QSO1G0lO!;xQWO1G0lO!<QQ,UO1G0lOOQ(CW1G5l1G5lO=}QSO1G0YOOQO1G0e1G0eO%QQUO1G0eO$4rQ(C[O1G0eO$4}Q(C[O1G0eO!;xQWO1G0YOBtQWO1G0YO$5]Q(C`O1G0eO$5wQWO1G0YOBtQWO1G0eO$6UQWO1G0eO$6lQWO1G0eO$7VQ(C[O1G0eOOQO1G0Y1G0YO$7kQ(CjO1G0ePOOO-E<Q-E<QPOOO1G.f1G.fOOOO1G/c1G/cO$7uQ`O,5<bO$7}QbO1G4`OOQO1G4f1G4fO%QQUO,5>tO$8XQSO1G5jO$8aQSO1G5vO$8iQbO1G5wO:sQSO,5>zO$8sQSO1G5sO$8sQSO1G5sO:sQSO1G5sO$8{Q(CjO1G5tO%QQUO1G5tO$9]Q(C[O1G5tO$9nQSO,5>|O:sQSO,5>|OOQO,5>|,5>|O$:SQSO,5>|OOQO-E<`-E<`OOQO1G0]1G0]OOQO1G0_1G0_O!)XQSO1G0_OOQQ7+([7+([O!#]Q,UO7+([O%QQUO7+([O$:bQSO7+([O$:mQ,UO7+([O$:{Q(CjO,59nO$=TQ(CjO,5<cO$?`Q(CjO,5<eO$AkQ(CjO,5<sOOQ(CY7+&X7+&XO$C|Q(CjO7+&XO$DpQ,UO'#I[O$DzQSO,5@ROOQ(CY1G/v1G/vO$ESQUO'#I]O$EaQSO,5@SO$EiQbO,5@SOOQ(CY1G/{1G/{O$EsQSO7+&bOOQ(CY7+&b7+&bO$ExQ$IUO,5:bO%QQUO7+&tO$FSQ$IUO,5:YO$FaQ$IUO,5:fO$FkQ$IUO,5:hOOQ(CY7+&z7+&zOOQO1G1l1G1lOOQO1G1m1G1mO$FuQ#tO,5<TO!'RQUO,5<SOOQO-E<a-E<aOOQ(CY7+'S7+'SOOOO7+'_7+'_OOOO1G1v1G1vO$GQQSO1G1vOOQ(CY1G1x1G1xO$GVQ`O,59hOOOO-E<U-E<UOOQ(CY1G/Q1G/QO$G^Q(CjO7+'eOOQ(CY,5?R,5?RO$HQQSO,5?ROOQ(CY1G2^1G2^P$HVQSO'#IgPOQ(CY-E<e-E<eO$HyQ,UO1G2jO$IlQ,UO1G2lO$IvQ`O1G2nOOQ(CY1G2V1G2VO$I}QSO'#IfO$J]QSO,5@eO$J]QSO,5@eO$JeQSO,5@eO$JpQSO,5@eOOQO1G2X1G2XO$KOQ,UO1G2WO!$uQ,UO1G2WO$K`QMhO'#IhO$KpQSO,5@fO!#]Q,UO,5@fO$KxQ`O,5@fOOQ(CY1G2[1G2[OOQ(CW,5<u,5<uOOQ(CW,5<v,5<vO$LSQSO,5<vOBoQSO,5<vO!;xQWO,5<uOOQO'#G^'#G^O$LXQSO,5<wOOQ(CW,5<y,5<yO$LSQSO,5<|OOQO,5?T,5?TOOQO-E<g-E<gOOQ(CY1G2`1G2`O!0zQWO,5<uO$LaQSO,5<vO#LYQSO,5<wO!0zQWO,5<vO$LlQ,UO1G5bO$LvQ,UO1G5bOOQO,5?U,5?UOOQO-E<h-E<hOOQO1G.w1G.wO!=OQWO,59pO%QQUO,59pO$MTQSO1G2RO!$uQ,UO1G2YO$MYQ(CjO7+'fOOQ(CY7+'f7+'fO! YQUO7+'fOOQ(CY7+%`7+%`O$M|Q`O'#J{O!MeQSO7+([O$NWQbO7+([O$:eQSO7+([O$N_Q(ChO'#CfO$NrQ(ChO,5<zO% dQSO,5<zOOQ(CW1G5_1G5_OOQQ7+$^7+$^O=}QSO7+$^O!;xQWO7+$^O! YQUO7+&XO% iQSO'#IqO% }QSO,5@mOOQO1G3^1G3^O9[QSO,5@mO% }QSO,5@mO%!VQSO,5@mOOQO,5?^,5?^OOQO-E<p-E<pOOQ(CY7+&|7+&|O%![QSO7+(wO8{Q(C[O7+(wO9[QSO7+(wO?oQSO7+(wO%!aQSO,5;WOOQ(CW,5?W,5?WOOQ(CW-E<j-E<jOOQQ7+(f7+(fO%!fQ(ChO7+(cO!#]Q,UO7+(cO%!pQ`O7+(dOOQQ7+(d7+(dO!#]Q,UO7+(dO%!wQSO'#KOO%#SQSO,5=bOOQO,5?Y,5?YOOQO-E<l-E<lOOQQ7+(i7+(iO%$`QWO'#HPOOQQ1G3U1G3UO!#]Q,UO1G3UO%QQUO1G3UO%$gQSO1G3UO%$rQ,UO1G3UO8{Q(C[O1G3XO#L_QSO1G3XO8qQSO1G3XO!;xQWO1G3XO!<QQ,UO1G3XO%%QQSO'#IpO%%]QSO,5@kO%%eQWO,5@kOOQ(CW1G3Y1G3YOOQQ7+$S7+$SO?oQSO7+$SO8{Q(C[O7+$SO%%pQSO7+$SO%QQUO1G6YO%QQUO1G6ZO%%uQUO1G3aO%%|QSO1G3aO%&RQUO1G3aO%&YQ(C[O1G6YOOQQ7+(y7+(yO8{Q(C[O7+)TO`QUO7+)VOOQQ'#KU'#KUOOQQ'#Is'#IsO%&dQUO,5>UOOQQ,5>U,5>UO%QQUO'#HkO%&qQSO'#HmOOQQ,5>[,5>[O:sQSO,5>[OOQQ,5>^,5>^OOQQ7+)`7+)`OOQQ7+)f7+)fOOQQ7+)j7+)jOOQQ7+)l7+)lO%&vQWO1G5lO%'[Q$IUO1G0rO%'fQSO1G0rOOQO1G/m1G/mO%'qQ$IUO1G/mO=}QSO1G/mO!'RQUO'#DgOOQO,5>u,5>uOOQO-E<X-E<XOOQO,5>{,5>{OOQO-E<_-E<_O!;xQWO1G/mOOQO-E<[-E<[OOQ(CY1G0X1G0XOOQ(CY7+%q7+%qO!MeQSO7+%qOOQ(CY7+&W7+&WO=}QSO7+&WO!;xQWO7+&WOOQO7+%t7+%tO$7kQ(CjO7+&POOQO7+&P7+&PO%QQUO7+&PO%'{Q(C[O7+&PO=}QSO7+%tO!;xQWO7+%tO%(WQ(C[O7+&POBtQWO7+%tO%(fQ(C[O7+&PO%(zQ(C`O7+&PO%)UQWO7+%tOBtQWO7+&PO%)cQWO7+&PO%)yQSO7++_O%)yQSO7++_O%*RQ(CjO7++`O%QQUO7++`OOQO1G4h1G4hO:sQSO1G4hO%*cQSO1G4hOOQO7+%y7+%yO!MeQSO<<KvO$NWQbO<<KvO%*qQSO<<KvOOQQ<<Kv<<KvO!#]Q,UO<<KvO%QQUO<<KvO%*yQSO<<KvO%+UQ(CjO1G2jO%-aQ(CjO1G2lO%/lQ(CjO1G2WO%1}Q,UO,5>vOOQO-E<Y-E<YO%2XQbO,5>wO%QQUO,5>wOOQO-E<Z-E<ZO%2cQSO1G5nOOQ(CY<<I|<<I|O%2kQ$IUO1G0mO%4uQ$IUO1G0wO%4|Q$IUO1G0wO%7QQ$IUO1G0wO%7XQ$IUO1G0wO%8|Q$IUO1G0wO%9dQ$IUO1G0wO%;wQ$IUO1G0wO%<OQ$IUO1G0wO%>SQ$IUO1G0wO%>ZQ$IUO1G0wO%@RQ$IUO1G0wO%@fQ(CjO<<J`O%AkQ$IUO1G0wO%CaQ$IUO'#J]O%EdQ$IUO1G1]O%EqQ$IUO1G0QO!'RQUO'#FkOOQO'#Jw'#JwOOQO1G1o1G1oO%E{QSO1G1nO%FQQ$IUO,5?POOOO7+'b7+'bOOOO1G/S1G/SOOQ(CY1G4m1G4mO!$uQ,UO7+(YO%F[QSO,5?QO9[QSO,5?QOOQO-E<d-E<dO%FjQSO1G6PO%FjQSO1G6PO%FrQSO1G6PO%F}Q,UO7+'rO%G_Q`O,5?SO%GiQSO,5?SO!#]Q,UO,5?SOOQO-E<f-E<fO%GnQ`O1G6QO%GxQSO1G6QOOQ(CW1G2b1G2bO$LSQSO1G2bOOQ(CW1G2a1G2aO%HQQSO1G2cO!#]Q,UO1G2cOOQ(CW1G2h1G2hO!;xQWO1G2aOBoQSO1G2bO%HVQSO1G2cO%H_QSO1G2bO!$uQ,UO7+*|OOQ(CY1G/[1G/[O%HjQSO1G/[OOQ(CY7+'m7+'mO%HoQ,UO7+'tO%IPQ(CjO<<KQOOQ(CY<<KQ<<KQO!#]Q,UO'#IkO%IsQSO,5@gO!#]Q,UO1G2fOOQQ<<Gx<<GxO=}QSO<<GxO%I{Q(CjO<<IsOOQ(CY<<Is<<IsOOQO,5?],5?]O%JoQSO,5?]O$&vQSO,5?]OOQO-E<o-E<oO%JtQSO1G6XO%JtQSO1G6XO9[QSO1G6XO?oQSO<<LcOOQQ<<Lc<<LcO%J|QSO<<LcO8{Q(C[O<<LcO%KRQSO1G0rOOQQ<<K}<<K}O%!fQ(ChO<<K}OOQQ<<LO<<LOO%!pQ`O<<LOO%KWQWO'#ImO%KcQSO,5@jO!'RQUO,5@jOOQQ1G2|1G2|O%KkQ(C`O'#JfO%LVQUO'#JfO%L^QWO'#E_O%LwQ(C[O'#E_OBYQ(C`O'#E_O(VQWO'#HQOOQO'#Io'#IoO8{Q(C[O'#IoO%M]QWO,5=kOOQQ,5=k,5=kO%MuQWO'#E_O%LmQWO'#E_O%M|QWO'#E_O%NgQWO'#E_O& WQWO'#HQO& iQSO7+(pO& nQSO7+(pOOQQ7+(p7+(pO!#]Q,UO7+(pO%QQUO7+(pO& vQSO7+(pOOQQ7+(s7+(sO8{Q(C[O7+(sO#L_QSO7+(sO8qQSO7+(sO!;xQWO7+(sO&!RQSO,5?[OOQO-E<n-E<nOOQO'#HT'#HTO&!^QSO1G6VO8{Q(C[O<<GnOOQQ<<Gn<<GnO?oQSO<<GnO&!fQSO7++tO&!kQSO7++uOOQQ7+({7+({O&!pQSO7+({O&!uQUO7+({O&!|QSO7+({O%QQUO7++tO%QQUO7++uOOQQ<<Lo<<LoOOQQ<<Lq<<LqOOQQ-E<q-E<qOOQQ1G3p1G3pO&#RQSO,5>VOOQQ,5>X,5>XO&#WQSO1G3vO:sQSO7+&^O!'RQUO7+&^OOQO7+%X7+%XO&#]Q$IUO1G5wO=}QSO7+%XOOQ(CY<<I]<<I]OOQ(CY<<Ir<<IrO=}QSO<<IrOOQO<<Ik<<IkO$7kQ(CjO<<IkO%QQUO<<IkOOQO<<I`<<I`O=}QSO<<I`O&#gQ(C[O<<IkO!;xQWO<<I`O&#rQ(C[O<<IkOBtQWO<<I`O&$QQ(C[O<<IkO&$fQ(C`O<<IkO&$pQWO<<I`OBtQWO<<IkO&$}QSO<<NyO&%VQ(CjO<<NzOOQO7+*S7+*SO:sQSO7+*SOOQQANAbANAbO&%gQSOANAbO!#]Q,UOANAbO!MeQSOANAbO$NWQbOANAbO%QQUOANAbO&%oQ(CjO7+'rO&(QQ(CjO7+'tO&*cQbO1G4cO&*mQ$IUO7+&XO&*zQ$IUO,59nO&,}Q$IUO,5<cO&/QQ$IUO,5<eO&1TQ$IUO,5<sO&2yQ$IUO7+'eO&3WQ$IUO7+'fO&3eQSO,5<VOOQO7+'Y7+'YO&3jQ,UO<<KtOOQO1G4l1G4lO&3qQSO1G4lO&3|QSO1G4lO&4[QSO7++kO&4[QSO7++kO!#]Q,UO1G4nO&4dQ`O1G4nO&4nQSO7++lOOQ(CW7+'|7+'|O$LSQSO7+'}O&4vQ`O7+'}OOQ(CW7+'{7+'{O$LSQSO7+'|O&4}QSO7+'}O!#]Q,UO7+'}OBoQSO7+'|O&5SQ,UO<<NhOOQ(CY7+$v7+$vO&5^Q`O,5?VOOQO-E<i-E<iO&5hQ(ChO7+(QOOQQAN=dAN=dO9[QSO1G4wOOQO1G4w1G4wO&5xQSO1G4wO&5}QSO7++sO&5}QSO7++sO8{Q(C[OANA}O?oQSOANA}OOQQANA}ANA}OOQQANAiANAiOOQQANAjANAjO&6VQSO,5?XOOQO-E<k-E<kO&6bQ$IUO1G6UO#L_QSO,5=lO8qQSO,5=lO&8rQbO'#CfO&8|QWO,5:yO&9WQWO,5:yO&9eQWO,5:yO!;xQWO,5=lOOQO,5?Z,5?ZOOQO-E<m-E<mOOQQ1G3V1G3VO%LVQUO,5<wO%KkQ(C`O,5=lO!NrQ(C`O,5:yO(VQWO,5=lO&9xQWO,5=lO&:ZQWO,5:yOOQQ<<L[<<L[O!#]Q,UO<<L[O& iQSO<<L[O&:tQSO<<L[O%QQUO<<L[OOQQ<<L_<<L_O8{Q(C[O<<L_O#L_QSO<<L_O8qQSO<<L_O&:|QWO1G4vO&;XQSO7++qOOQQAN=YAN=YO8{Q(C[OAN=YOOQQ<= `<= `OOQQ<= a<= aOOQQ<<Lg<<LgO&;aQSO<<LgO&;fQUO<<LgO&;mQSO<= `O&;rQSO<= aOOQQ1G3q1G3qO=}QSO7+)bO&;wQSO<<IxO&<SQ$IUO<<IxOOQO<<Hs<<HsOOQ(CYAN?^AN?^OOQOAN?VAN?VO$7kQ(CjOAN?VOOQOAN>zAN>zO%QQUOAN?VO=}QSOAN>zO&<^Q(C[OAN?VO!;xQWOAN>zO&<iQ(C[OAN?VOBtQWOAN>zO&<wQ(C[OAN?VOOQO<<Mn<<MnOOQQG26|G26|O!#]Q,UOG26|O!MeQSOG26|O&=]QSOG26|O$NWQbOG26|O&=eQ$IUO<<J`O&=rQ$IUO1G2WO&?hQ$IUO1G2jO&AkQ$IUO1G2lO&CnQ$IUO<<KQO&C{Q$IUO<<IsOOQO1G1q1G1qO!$uQ,UOANA`OOQO7+*W7+*WO&DYQSO7+*WO&DeQSO<= VO&DmQ`O7+*YOOQ(CW<<Ki<<KiO$LSQSO<<KiOOQ(CW<<Kh<<KhO&DwQ`O<<KiO$LSQSO<<KhOOQO7+*c7+*cO9[QSO7+*cO&EOQSO<= _OOQQG27iG27iO8{Q(C[OG27iO!'RQUO1G4sO&EWQSO7++pO8{Q(C[O1G3WO#L_QSO1G3WO&E`QWO1G0eO&EjQWO1G0eO8qQSO1G3WO!;xQWO1G3WO(VQWO1G3WO%KkQ(C`O1G3WO$5]Q(C`O1G0eO&EwQWO1G3WO& iQSOANAvOOQQANAvANAvO!#]Q,UOANAvO&FYQSOANAvOOQQANAyANAyO8{Q(C[OANAyO#L_QSOANAyOOQO'#HU'#HUOOQO7+*b7+*bOOQQG22tG22tOOQQANBRANBRO&FbQSOANBROOQQANDzANDzOOQQAND{AND{OOQQ<<L|<<L|O!'RQUOAN?dOOQOG24qG24qO$7kQ(CjOG24qOOQOG24fG24fO%QQUOG24qO=}QSOG24fO&FgQ(C[OG24qO!;xQWOG24fO&FrQ(C[OG24qO!MeQSOLD,hOOQQLD,hLD,hO!#]Q,UOLD,hO&GQQSOLD,hO&GYQ$IUO7+'rO&IOQ$IUO7+'tO&JtQ,UOG26zOOQO<<Mr<<MrOOQ(CWANATANATO$LSQSOANATOOQ(CWANASANASOOQO<<M}<<M}OOQQLD-TLD-TO&KUQ$IUO7+*_OOQO7+(r7+(rO8{Q(C[O7+(rO&K`QWO7+&PO#L_QSO7+(rO8qQSO7+(rO!;xQWO7+(rO(VQWO7+(rOOQQG27bG27bO& iQSOG27bO!#]Q,UOG27bOOQQG27eG27eO8{Q(C[OG27eOOQQG27mG27mO&KjQ$IUOG25OOOQOLD*]LD*]O$7kQ(CjOLD*]OOQOLD*QLD*QO%QQUOLD*]O=}QSOLD*QO&KtQ(C[OLD*]OOQQ!$(!S!$(!SO!MeQSO!$(!SO!#]Q,UO!$(!SO&LPQ(CjOG26zOOQ(CWG26oG26oOOQO<<L^<<L^O8{Q(C[O<<L^O#L_QSO<<L^O8qQSO<<L^O!;xQWO<<L^OOQQLD,|LD,|O& iQSOLD,|OOQQLD-PLD-POOQO!$'Mw!$'MwO$7kQ(CjO!$'MwOOQO!$'Ml!$'MlO%QQUO!$'MwOOQQ!)9En!)9EnO!MeQSO!)9EnOOQOANAxANAxO8{Q(C[OANAxO#L_QSOANAxO8qQSOANAxOOQQ!$(!h!$(!hOOQO!)9Cc!)9CcO$7kQ(CjO!)9CcOOQQ!.K;Y!.K;YO&NbQ$IUOG26zOOQOG27dG27dO8{Q(C[OG27dO#L_QSOG27dOOQO!.K8}!.K8}OOQOLD-OLD-OO8{Q(C[OLD-OOOQO!$(!j!$(!jO!'RQUO'#DvO0rQSO'#ETO'!WQbO'#JbO!'RQUO'#DnO'!_QUO'#DzO!'RQUO'#D|O'!fQbO'#CfO'$|QbO'#CfO'%^QUO,5;RO!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO,5;]O!'RQUO'#IeO''aQSO,5<bO''iQ,UO,5;]O'(|Q,UO,5;]O!'RQUO,5;qO0uQSO'#DSO0uQSO'#DSO!#]Q,UO'#FwO''iQ,UO'#FwO!#]Q,UO'#FyO''iQ,UO'#FyO!#]Q,UO'#GXO''iQ,UO'#GXO!'RQUO,5:fO!'RQUO,5@]O'%^QUO1G0mO')TQ$IUO'#CfO!'RQUO1G1yO!#]Q,UO,5=OO''iQ,UO,5=OO!#]Q,UO,5=QO''iQ,UO,5=QO!#]Q,UO,5<lO''iQ,UO,5<lO'%^QUO1G1zO!'RQUO7+&tO!#]Q,UO1G2WO''iQ,UO1G2WO!#]Q,UO1G2YO''iQ,UO1G2YO'%^QUO7+'fO'%^QUO7+&XO!#]Q,UOANA`O''iQ,UOANA`O')_QSO'#EgO')dQSO'#EgO')lQSO'#FVO')qQSO'#EqO')vQSO'#JqO'*RQSO'#JoO'*^QSO,5;RO'*cQ,UO,5<_O'*jQSO'#GQO'*oQSO'#GQO'*tQSO,5<`O'*|QSO,5;RO'+UQ$IUO1G1YO'+]QSO,5<lO'+bQSO,5<lO'+gQSO,5<nO'+lQSO,5<nO'+qQSO1G1zO'+vQSO1G0mO'+{Q,UO<<KtO',SQ,UO<<KtO7ZQ,UO'#FuO8qQSO'#FtO@jQSO'#EfO!'RQUO,5;nO!/{QSO'#GQO!/{QSO'#GQO!/{QSO'#GSO!/{QSO'#GSO!$uQ,UO7+(YO!$uQ,UO7+(YO$IvQ`O1G2nO$IvQ`O1G2nO!#]Q,UO,5=SO!#]Q,UO,5=S",stateData:"'-[~O'lOS'mOSROS'nRQ~OPYOQYOV!TO^pOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O#o}O$PzO$TfO%_{O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO%|!UO&S!VO&U!WO&W!XO&Y!YO&]!ZO&c![O&i!]O&k!^O&m!_O&o!`O&q!aO'sSO'uTO'xUO(QVO(_[O(liO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~O^!qOl!kO|!lO![!rO!]!pO!^!pO!x;oO!|!vO!}!tO#O!uO#P!sO#S!wO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O'n!xO~OPYXXYX^YXkYXyYXzYX|YX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX'jYX(QYX(`YX(gYX(hYX~O!a$yX~P(dO[!zO'u!|O'v!zO'w!|O~O[!}O'w!|O'x!|O'y!}O~Oq#PO!O#QO(R#QO(S#SO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's;tO'uTO'xUO(QVO(_[O(liO~O!U#WO!V#TO!S(WP!S(dP~P+pO!W#`O~P`OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!X!cO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(liO~O!U#fO!x]O#a#iO#b#fO's;uO!g(aP~P.[O!h#kO's#jO~O!t#oO!x]O%_#pO~O#c#qO~O!a#rO#c#qO~OP$YOX$aOk#}Oy#vOz#wO|#xO!V$^O!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^(UX'j(UX'h(UX!g(UX!S(UX!X(UX%`(UX!a(UX~P1dO#W$bO#z$bOP(VXX(VXk(VXy(VXz(VX|(VX!V(VX!e(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#n(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!X(VX%`(VX~O^(VX!f(VX'j(VX'h(VX!S(VX!g(VXo(VX!a(VX~P3zO#W$bO~O$V$dO$X$cO$`$iO~O!X$jO$TfO$c$kO$e$mO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's$oO'uTO'xUO'|%OO(Q$rOd'}P~O!h%ZO~O!a%]O~O^%^O'j%^O~O't!iO~P%QO's%eO~O!h%ZO's%eO't!iO'|%OO~Ob%lO!h%ZO's%eO~O#n$PO~Oy%qO!X%nO!h%pO%a%tO's%eO't!iO'uTO'xUO](tP~O!t#oO~O|%vO!X%wO's%eO~O|%vO!X%wO%i%{O's%eO~O's%|O~O#o}O%a!OO%c|O%d|O%g!PO%i!QO%l!RO%m!RO~Oa&VOb&UO!t&SO%_&TO%q&RO~P;cOa&YObwO!X&XO!tvO!x]O#o}O%_{O%c|O%d|O%g!PO%i!QO%l!RO%m!RO%o!SO~O_&]O#W&`O%a&ZO't!iO~P<bO!h&aO!q&eO~O!h#kO~O!XXO~O^%^O'i&mO'j%^O~O^%^O'i&pO'j%^O~O^%^O'i&rO'j%^O~O'hYX!SYXoYX!gYX&QYX!XYX%`YX!aYX~P(dO!['PO!]&xO!^&xO't!iO'uTO'xUO~Ol&vO|&uO!U&yO(T&tO!W(XP!W(fP~P?cOg'SO!X'QO's%eO~Ob'XO!h%ZO's%eO~Oy%qO!h%pO~Ol!kO|!lO!['^O!]']O!^']O!}'`O#O'`O#P'_O#S'bO#T'bO't!iO'uTO'xUO(T!jO(_!nO~O!x;oO!|'aO~P@}O^%^O!a#rO!h%ZO!l'hO#W'fO'j%^O'|%OO(`'dO~Ol!kO|!lO'uTO'xUO(T!jO(_!nO~O!]']O!^']O't!iO~PBtO!['^O!]']O!^']O#S'bO#T'bO't!iO~PBtO!XXO!['^O!]']O!^']O#P'_O#S'bO#T'bO't!iO~PBtO'o'lO'p'lO'q'nO~O[!zO'u'pO'v!zO'w'pO~O[!}O'w'pO'x'pO'y!}O~Oq#PO!O#QO(R#QO(S'tO~O!U'vO!S&|X!S'SX!V&|X!V'SX~P+pO!V'xO!S(WX~OP$YOX$aOk#}Oy#vOz#wO|#xO!V'xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O!S(WX~PF_O!S'}O~O!S(cX!V(cX!a(cX!g(cX(`(cX~O#W(cX#c#[X!W(cX~PHeO#W(OO!S(eX!V(eX~O!V(PO!S(dX~O!S(SO~O#W$bO~PHeO!W(TO~P`Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!jaX!jak!ja!V!ja!e!ja!l!ja#f!ja#g!ja#h!ja#i!ja#j!ja#k!ja#l!ja#m!ja#n!ja#p!ja#r!ja#t!ja#u!ja(`!ja(g!ja(h!ja~O^!ja'j!ja'h!ja!S!ja!g!jao!ja!X!ja%`!ja!a!ja~PI{O!g(UO~O|%vO!X%wO!x]O#a(XO#b(WO's%eO~O!a#rO#W(YO(`'dO!V(bX^(bX'j(bX~O!g(bX~PMPO!V(]O!g(aX~O!g(_O~O|%vO!X%wO#b(WO's%eO~Oy(`Oz(aO!f#tO!h#uO!x!wa|!wa~O!t!wa%_!wa!X!wa#a!wa#b!wa's!wa~PNXO!t(eO~OPYOQYOa!gOb!fOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!XXO!csO!hZO!kYO!lYO!mYO!otO!quO!t!eO$P!hO$TfO's!bO'uTO'xUO(QVO(_[O(liO~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#c(kO~Oi%POk$qOl$pOm$pOs%QOu%ROw%SO|$xO!X$yO!c%XO!h$uO#b%YO$P%VO$l%TO$n%UO$q%WO's(iO'uTO'xUO'|%OO(Q$rO~Od(ZP~P!$uO!U(oO!g([P~P%QO(T(qO(_[O~O|(sO!h#uO(T(qO(_[O~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~Oz)UO!h#uO~O!V$^O^$ja'j$ja'h$ja!g$ja!S$ja!X$ja%`$ja!a$ja~O#o)YO~P!#]Oy)]O!a)[O!X$WX$S$WX$V$WX$X$WX$`$WX~O!a)[O!X(iX$S(iX$V(iX$X(iX$`(iX~Oy)]O~P!*kOy)]O!X(iX$S(iX$V(iX$X(iX$`(iX~O!X)_O$S)cO$V)^O$X)^O$`)dO~O!U)gO~P!'RO$V$dO$X$cO$`)kO~Og$rXy$rX|$rX!f$rX(g$rX(h$rX~OdfXd$rXgfX!VfX#WfX~P!,aOl)mO~Oq)nO(R)oO(S)qO~Og)zOy)sO|)tO(g)vO(h)xO~Od)rO~P!-jOd){O~Oi%POk$qOl$pOm$pOs%QOu%ROw<XO|$xO!X$yO!c=cO!h$uO#b<_O$P%VO$l<ZO$n<]O$q%WO'uTO'xUO'|%OO(Q$rO~O!U*PO's)|O!g(mP~P!.XO#c*RO~O!h*SO~O!U*XO's*UO!S(nP~P!.XOk*eO|*]O![*cO!]*[O!^*[O!h*SO#S*dO%V*_O't!iO(T!jO~O!W*bO~P!0_O!f#tOg(PXy(PX|(PX(g(PX(h(PX!V(PX#W(PX~Od(PX#x(PX~P!1WOg*hO#W*gOd(OX!V(OX~O!V*iOd'}X~O's%|Od'}P~O!h*pO~O's(iO~O|%vO!U#fO!X%wO!x]O#a#iO#b#fO's%eO!g(aP~O!a#rO#c*tO~OP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO#u$VO(QVO(`$WO(g#yO(h#zO~O^!ba!V!ba'j!ba'h!ba!S!ba!g!bao!ba!X!ba%`!ba!a!ba~P!3jOy#vOz#wO|#xO!f#tO!h#uO(QVOP!naX!nak!na!V!na!e!na!l!na#f!na#g!na#h!na#i!na#j!na#k!na#l!na#m!na#n!na#p!na#r!na#t!na#u!na(`!na(g!na(h!na~O^!na'j!na'h!na!S!na!g!nao!na!X!na%`!na!a!na~P!6TOy#vOz#wO|#xO!f#tO!h#uO(QVOP!paX!pak!pa!V!pa!e!pa!l!pa#f!pa#g!pa#h!pa#i!pa#j!pa#k!pa#l!pa#m!pa#n!pa#p!pa#r!pa#t!pa#u!pa(`!pa(g!pa(h!pa~O^!pa'j!pa'h!pa!S!pa!g!pao!pa!X!pa%`!pa!a!pa~P!8nOg*|O!X'QO%`*{O'|%OO~O!a+OO!X'{X^'{X!V'{X'j'{X~O!h%ZO'|%OO~O!h%ZO's%eO'|%OO~O!a#rO#c(kO~O%a+[O's+WO'uTO'xUO!W(uP~O!V+]O](tX~O(T(qO~OX+aO~O]+bO~O!X%nO's%eO't!iO](tP~O|%vO!U+fO!V(PO!X%wO's%eO!S(dP~Ol&|O|+hO!U+gO'uTO'xUO(T(qO~O!W(fP~P!>RO!V+iO^(qX'j(qX~O#W+mO'|%OO~Og+pO!X$yO'|%OO~O!X+rO~Oy+tO!XXO~O!t+yO~Ob,OO~O's#jO!W(sP~Ob%lO~O%a!OO's%|O~P<bOX,UO],TO~OPYOQYOaxObwOikOkYOlkOmkOskOuYOwYO|WO!QkO!RkO!csO!hZO!kYO!lYO!mYO!otO!quO!tvO!x]O$TfO%_{O'uTO'xUO(QVO(_[O(liO~O!X!cO$P!hO's!bO~P!@fO],TO^%^O'j%^O~O^,YO#o,[O%c,[O%d,[O~P%QO!h&aO~O&S,aO~O!X,cO~O&e,eO&g,fOP&baQ&baV&ba^&baa&bab&bai&bak&bal&bam&bas&bau&baw&ba|&ba!Q&ba!R&ba!X&ba!c&ba!h&ba!k&ba!l&ba!m&ba!o&ba!q&ba!t&ba!x&ba#o&ba$P&ba$T&ba%_&ba%a&ba%c&ba%d&ba%g&ba%i&ba%l&ba%m&ba%o&ba%|&ba&S&ba&U&ba&W&ba&Y&ba&]&ba&c&ba&i&ba&k&ba&m&ba&o&ba&q&ba'h&ba's&ba'u&ba'x&ba(Q&ba(_&ba(l&ba!W&ba&Z&ba_&ba&`&ba~O's,kO~O!V{X!V!_X!W{X!W!_X!a{X!a!_X!h!_X#W{X'|!_X~O!a,pO#W,oO!V#`X!V(YX!W#`X!W(YX!a(YX!h(YX'|(YX~O!a,rO!h%ZO'|%OO!V!ZX!W!ZX~Ol!kO|!lO'uTO'xUO(T!jO~OP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!X!cO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO'uTO'xUO(QVO(_[O(l=]O~O's<dO~P!I{O!V,vO!W(XX~O!W,xO~O!a,pO#W,oO!V#`X!W#`X~O!V,yO!W(fX~O!W,{O~O!],|O!^,|O't!iO~P!IjO!W-PO~P'TOg-SO!X'QO~O!S-XO~Ol!wa![!wa!]!wa!^!wa!|!wa!}!wa#O!wa#P!wa#S!wa#T!wa't!wa'u!wa'x!wa(T!wa(_!wa~PNXO^%^O!a#rO!h%ZO!l-^O#W-[O'j%^O'|%OO(`'dO~O!]-`O!^-`O't!iO~PBtO![-bO!]-`O!^-`O#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O#P-dO#S-cO#T-cO't!iO~PBtO![-bO!]-`O!^-`O!}-eO#O-eO#P-dO#S-cO#T-cO't!iO~PBtO^%^O#W-[O'j%^O~O^%^O!a#rO#W-[O'j%^O~O^%^O!a#rO!l-^O#W-[O'j%^O(`'dO~O'o'lO'p'lO'q-jO~Oo-kO~O!S&|a!V&|a~P!3jO!U-oO!S&|X!V&|X~P%QO!V'xO!S(Wa~O!S(Wa~PF_O!V(PO!S(da~O|%vO!U-sO!X%wO's%eO!S'SX!V'SX~O!V(]O!g(aa~O|%vO!X%wO#b-vO's%eO~O#W-xO!V(ba!g(ba^(ba'j(ba~O!a#rO~P#&hO|%vO!U-{O!X%wO!x]O#a-}O#b-{O's%eO!V'UX!g'UX~Oz.RO!h#uO~Og.UO!X'QO%`.TO'|%OO~O^#Zi!V#Zi'j#Zi'h#Zi!S#Zi!g#Zio#Zi!X#Zi%`#Zi!a#Zi~P!3jOg=iOy)sO|)tO(g)vO(h)xO~O#c#Va^#Va#W#Va'j#Va!V#Va!g#Va!X#Va!S#Va~P#(yO#c(PXP(PXX(PX^(PXk(PXz(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX'j(PX(Q(PX(`(PX!g(PX!S(PX'h(PXo(PX!X(PX%`(PX!a(PX~P!1WO!V._Od(ZX~P!-jOd.aO~O!V.bO!g([X~P!3jO!g.eO~O!S.gO~OP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#ei^#eik#ei!V#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O#f#ei~P#,uO#f#{O~P#,uOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O(QVOX#ei^#ei!V#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~Ok#ei~P#/gOk#}O~P#/gOP$YOk#}Oy#vOz#wO|#xO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO(QVO^#ei!V#ei#p#ei#r#ei#t#ei#u#ei'j#ei(`#ei(g#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P#2XOX$aO!e$PO#k$PO#l$PO#m$`O#n$PO~P#2XOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO(QVO^#ei!V#ei#r#ei#t#ei#u#ei'j#ei(`#ei(h#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(g#ei~P#5YO(g#yO~P#5YOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO(QVO(g#yO^#ei!V#ei#t#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~O(h#ei~P#7zO(h#zO~P#7zOP$YOX$aOk#}Oy#vOz#wO|#xO!e$PO!f#tO!h#uO!l$YO#f#{O#g#|O#h#|O#i#|O#j$OO#k$PO#l$PO#m$`O#n$PO#p$QO#r$SO#t$UO(QVO(g#yO(h#zO~O^#ei!V#ei#u#ei'j#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#:lOPYXXYXkYXyYXzYX|YX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX!VYX!WYX~O#xYX~P#=VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO#u<RO(QVO(`$WO(g#yO(h#zO~O#x.iO~P#?dOP(VXX(VXk(VXy(VXz(VX|(VX!e(VX!f(VX!h(VX!l(VX#f(VX#g(VX#h(VX#i(VX#j(VX#k(VX#l(VX#m(VX#p(VX#r(VX#t(VX#u(VX(Q(VX(`(VX(g(VX(h(VX!V(VX~O#W<WO#z<WO#n(VX#x(VX!W(VX~P#AbO^'Xa!V'Xa'j'Xa'h'Xa!g'Xa!S'Xao'Xa!X'Xa%`'Xa!a'Xa~P!3jOP#eiX#ei^#eik#eiz#ei!V#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei'j#ei(Q#ei(`#ei'h#ei!S#ei!g#eio#ei!X#ei%`#ei!a#ei~P#(yO^#yi!V#yi'j#yi'h#yi!S#yi!g#yio#yi!X#yi%`#yi!a#yi~P!3jO$V.nO$X.nO~O$V.oO$X.oO~O!a)[O#W.pO!X$]X$S$]X$V$]X$X$]X$`$]X~O!U.qO~O!X)_O$S.sO$V)^O$X)^O$`.tO~O!V<SO!W(UX~P#?dO!W.uO~O!a)[O$`(iX~O$`.wO~Oq)nO(R)oO(S.zO~Ol.}O!S/OO'uTO'xUO~O!VcX!acX!gcX!g$rX(`cX~P!,aO!g/UO~P#(yO!V/VO!a#rO(`'dO!g(mX~O!g/[O~O!U*PO's%eO!g(mP~O#c/^O~O!S$rX!V$rX!a$yX~P!,aO!V/_O!S(nX~P#(yO!a/aO~O!S/cO~Ok/gO!a#rO!h%ZO'|%OO(`'dO~O's/iO~O!a+OO~O^%^O!V/mO'j%^O~O!W/oO~P!0_O!]/pO!^/pO't!iO(T!jO~O|/rO(T!jO~O#S/sO~O's%|Od'^X!V'^X~O!V*iOd'}a~Od/xO~Oy/yOz/yO|/zOgva(gva(hva!Vva#Wva~Odva#xva~P#M{Oy)sO|)tOg$ka(g$ka(h$ka!V$ka#W$ka~Od$ka#x$ka~P#NqOy)sO|)tOg$ma(g$ma(h$ma!V$ma#W$ma~Od$ma#x$ma~P$ dO#c/|O~Od${a!V${a#W${a#x${a~P!-jO#c0PO~Oy#vOz#wO|#xO!f#tO!h#uO(QVOP!niX!nik!ni!V!ni!e!ni!l!ni#f!ni#g!ni#h!ni#i!ni#j!ni#k!ni#l!ni#m!ni#n!ni#p!ni#r!ni#t!ni#u!ni(`!ni(g!ni(h!ni~O^!ni'j!ni'h!ni!S!ni!g!nio!ni!X!ni%`!ni!a!ni~P$!qOg.UO!X'QO%`.TO~Oi0WO's0VO~P!.[O!a+OO!X'{a^'{a!V'{a'j'{a~O#c0^O~OXYX!VcX!WcX~O!V0_O!W(uX~O!W0aO~OX0bO~O's+WO'uTO'xUO~O!X%nO's%eO]'fX!V'fX~O!V+]O](ta~O!g0gO~P!3jOX0jO~O]0kO~O!V+iO^(qa'j(qa~O#W0qO~Og0tO!X$yO~O(T(qO!W(rP~Og0}O!X0zO%`0|O'|%OO~OX1XO!V1VO!W(sX~O!W1YO~O]1[O^%^O'j%^O~O's#jO'uTO'xUO~O#W$bO#n1_O#z$bO&Q1`O^(VX~P#AbO#W$bO#n1_O&Q1`O~O^1aO~P%QO^1cO~O&Z1gOP&XiQ&XiV&Xi^&Xia&Xib&Xii&Xik&Xil&Xim&Xis&Xiu&Xiw&Xi|&Xi!Q&Xi!R&Xi!X&Xi!c&Xi!h&Xi!k&Xi!l&Xi!m&Xi!o&Xi!q&Xi!t&Xi!x&Xi#o&Xi$P&Xi$T&Xi%_&Xi%a&Xi%c&Xi%d&Xi%g&Xi%i&Xi%l&Xi%m&Xi%o&Xi%|&Xi&S&Xi&U&Xi&W&Xi&Y&Xi&]&Xi&c&Xi&i&Xi&k&Xi&m&Xi&o&Xi&q&Xi'h&Xi's&Xi'u&Xi'x&Xi(Q&Xi(_&Xi(l&Xi!W&Xi_&Xi&`&Xi~O_1mO!W1kO&`1lO~P`O!XXO!h1oO~O&g,fOP&biQ&biV&bi^&bia&bib&bii&bik&bil&bim&bis&biu&biw&bi|&bi!Q&bi!R&bi!X&bi!c&bi!h&bi!k&bi!l&bi!m&bi!o&bi!q&bi!t&bi!x&bi#o&bi$P&bi$T&bi%_&bi%a&bi%c&bi%d&bi%g&bi%i&bi%l&bi%m&bi%o&bi%|&bi&S&bi&U&bi&W&bi&Y&bi&]&bi&c&bi&i&bi&k&bi&m&bi&o&bi&q&bi'h&bi's&bi'u&bi'x&bi(Q&bi(_&bi(l&bi!W&bi&Z&bi_&bi&`&bi~O!S1uO~O!V!Za!W!Za~P#?dOl!kO|!lO!U1{O(T!jO!V&}X!W&}X~P?cO!V,vO!W(Xa~O!V'TX!W'TX~P!>RO!V,yO!W(fa~O!W2SO~P'TO^%^O#W2]O'j%^O~O^%^O!a#rO#W2]O'j%^O~O^%^O!a#rO!h%ZO!l2aO#W2]O'j%^O'|%OO(`'dO~O!]2bO!^2bO't!iO~PBtO![2eO!]2bO!^2bO#S2fO#T2fO't!iO~PBtO![2eO!]2bO!^2bO#P2gO#S2fO#T2fO't!iO~PBtO^%^O!a#rO!l2aO#W2]O'j%^O(`'dO~O^%^O'j%^O~P!3jO!V$^Oo$ja~O!S&|i!V&|i~P!3jO!V'xO!S(Wi~O!V(PO!S(di~O!S(ei!V(ei~P!3jO!V(]O!g(ai~O!V(bi!g(bi^(bi'j(bi~P!3jO#W2kO!V(bi!g(bi^(bi'j(bi~O|%vO!X%wO!x]O#a2nO#b2mO's%eO~O|%vO!X%wO#b2mO's%eO~Og2uO!X'QO%`2tO~Og2uO!X'QO%`2tO'|%OO~O#cvaPvaXva^vakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva'jva(Qva(`va!gva!Sva'hvaova!Xva%`va!ava~P#M{O#c$kaP$kaX$ka^$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka'j$ka(Q$ka(`$ka!g$ka!S$ka'h$kao$ka!X$ka%`$ka!a$ka~P#NqO#c$maP$maX$ma^$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma'j$ma(Q$ma(`$ma!g$ma!S$ma'h$mao$ma!X$ma%`$ma!a$ma~P$ dO#c${aP${aX${a^${ak${az${a!V${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a'j${a(Q${a(`${a!g${a!S${a'h${a#W${ao${a!X${a%`${a!a${a~P#(yO^#Zq!V#Zq'j#Zq'h#Zq!S#Zq!g#Zqo#Zq!X#Zq%`#Zq!a#Zq~P!3jOd'OX!V'OX~P!$uO!V._Od(Za~O!U2}O!V'PX!g'PX~P%QO!V.bO!g([a~O!V.bO!g([a~P!3jO!S3QO~O#x!ja!W!ja~PI{O#x!ba!V!ba!W!ba~P#?dO#x!na!W!na~P!6TO#x!pa!W!pa~P!8nO!X3dO$TfO$^3eO~O!W3iO~Oo3jO~P#(yO^$gq!V$gq'j$gq'h$gq!S$gq!g$gqo$gq!X$gq%`$gq!a$gq~P!3jO!S3kO~Ol.}O'uTO'xUO~Oy)sO|)tO(h)xOg%Wi(g%Wi!V%Wi#W%Wi~Od%Wi#x%Wi~P$HbOy)sO|)tOg%Yi(g%Yi(h%Yi!V%Yi#W%Yi~Od%Yi#x%Yi~P$ITO(`$WO~P#(yO!U3nO's%eO!V'YX!g'YX~O!V/VO!g(ma~O!V/VO!a#rO!g(ma~O!V/VO!a#rO(`'dO!g(ma~Od$ti!V$ti#W$ti#x$ti~P!-jO!U3vO's*UO!S'[X!V'[X~P!.XO!V/_O!S(na~O!V/_O!S(na~P#(yO!a#rO~O!a#rO#n4OO~Ok4RO!a#rO(`'dO~Od(Oi!V(Oi~P!-jO#W4UOd(Oi!V(Oi~P!-jO!g4XO~O^$hq!V$hq'j$hq'h$hq!S$hq!g$hqo$hq!X$hq%`$hq!a$hq~P!3jO!V4]O!X(oX~P#(yO!f#tO~P3zO!X$rX%TYX^$rX!V$rX'j$rX~P!,aO%T4_OghXyhX|hX!XhX(ghX(hhX^hX!VhX'jhX~O%T4_O~O%a4fO's+WO'uTO'xUO!V'eX!W'eX~O!V0_O!W(ua~OX4jO~O]4kO~O!S4oO~O^%^O'j%^O~P#(yO!X$yO~P#(yO!V4tO#W4vO!W(rX~O!W4wO~Ol!kO|4yO![5WO!]4}O!^4}O!x;oO!|5VO!}5UO#O5UO#P5TO#S5SO#T!wO't!iO'uTO'xUO(T!jO(_!nO~O!W5RO~P%#XOg5]O!X0zO%`5[O~Og5]O!X0zO%`5[O'|%OO~O's#jO!V'dX!W'dX~O!V1VO!W(sa~O'uTO'xUO(T5fO~O]5jO~O!g5mO~P%QO^5oO~O^5oO~P%QO#n5qO&Q5rO~PMPO_1mO!W5vO&`1lO~P`O!a5xO~O!a5zO!V(Yi!W(Yi!a(Yi!h(Yi'|(Yi~O!V#`i!W#`i~P#?dO#W5{O!V#`i!W#`i~O!V!Zi!W!Zi~P#?dO^%^O#W6UO'j%^O~O^%^O!a#rO#W6UO'j%^O~O^%^O!a#rO!l6ZO#W6UO'j%^O(`'dO~O!h%ZO'|%OO~P%(fO!]6[O!^6[O't!iO~PBtO![6_O!]6[O!^6[O#S6`O#T6`O't!iO~PBtO!V(]O!g(aq~O!V(bq!g(bq^(bq'j(bq~P!3jO|%vO!X%wO#b6dO's%eO~O!X'QO%`6gO~Og6jO!X'QO%`6gO~O#c%WiP%WiX%Wi^%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi'j%Wi(Q%Wi(`%Wi!g%Wi!S%Wi'h%Wio%Wi!X%Wi%`%Wi!a%Wi~P$HbO#c%YiP%YiX%Yi^%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi'j%Yi(Q%Yi(`%Yi!g%Yi!S%Yi'h%Yio%Yi!X%Yi%`%Yi!a%Yi~P$ITO#c$tiP$tiX$ti^$tik$tiz$ti!V$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti'j$ti(Q$ti(`$ti!g$ti!S$ti'h$ti#W$tio$ti!X$ti%`$ti!a$ti~P#(yOd'Oa!V'Oa~P!-jO!V'Pa!g'Pa~P!3jO!V.bO!g([i~O#x#Zi!V#Zi!W#Zi~P#?dOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO(QVOX#eik#ei!e#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~O#f#ei~P%2xO#f;wO~P%2xOP$YOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO(QVOX#ei!e#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~Ok#ei~P%5TOk;yO~P%5TOP$YOk;yOy#vOz#wO|#xO!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO(QVO#p#ei#r#ei#t#ei#u#ei#x#ei(`#ei(g#ei(h#ei!V#ei!W#ei~OX#ei!e#ei#k#ei#l#ei#m#ei#n#ei~P%7`OX<VO!e;{O#k;{O#l;{O#m<UO#n;{O~P%7`OP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O(QVO#r#ei#t#ei#u#ei#x#ei(`#ei(h#ei!V#ei!W#ei~O(g#ei~P%9zO(g#yO~P%9zOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO(QVO(g#yO#t#ei#u#ei#x#ei(`#ei!V#ei!W#ei~O(h#ei~P%<VO(h#zO~P%<VOP$YOX<VOk;yOy#vOz#wO|#xO!e;{O!f#tO!h#uO!l$YO#f;wO#g;xO#h;xO#i;xO#j;zO#k;{O#l;{O#m<UO#n;{O#p;|O#r<OO#t<QO(QVO(g#yO(h#zO~O#u#ei#x#ei(`#ei!V#ei!W#ei~P%>bO^#vy!V#vy'j#vy'h#vy!S#vy!g#vyo#vy!X#vy%`#vy!a#vy~P!3jOg=jOy)sO|)tO(g)vO(h)xO~OP#eiX#eik#eiz#ei!e#ei!f#ei!h#ei!l#ei#f#ei#g#ei#h#ei#i#ei#j#ei#k#ei#l#ei#m#ei#n#ei#p#ei#r#ei#t#ei#u#ei#x#ei(Q#ei(`#ei!V#ei!W#ei~P%AYO!f#tOP(PXX(PXg(PXk(PXy(PXz(PX|(PX!e(PX!h(PX!l(PX#f(PX#g(PX#h(PX#i(PX#j(PX#k(PX#l(PX#m(PX#n(PX#p(PX#r(PX#t(PX#u(PX#x(PX(Q(PX(`(PX(g(PX(h(PX!V(PX!W(PX~O#x#yi!V#yi!W#yi~P#?dO#x!ni!W!ni~P$!qO!W6vO~O!V'Xa!W'Xa~P#?dO!a#rO(`'dO!V'Ya!g'Ya~O!V/VO!g(mi~O!V/VO!a#rO!g(mi~Od$tq!V$tq#W$tq#x$tq~P!-jO!S'[a!V'[a~P#(yO!a6}O~O!V/_O!S(ni~P#(yO!V/_O!S(ni~O!S7RO~O!a#rO#n7WO~Ok7XO!a#rO(`'dO~O!S7ZO~Od$vq!V$vq#W$vq#x$vq~P!-jO^$hy!V$hy'j$hy'h$hy!S$hy!g$hyo$hy!X$hy%`$hy!a$hy~P!3jO!V4]O!X(oa~O^#Zy!V#Zy'j#Zy'h#Zy!S#Zy!g#Zyo#Zy!X#Zy%`#Zy!a#Zy~P!3jOX7`O~O!V0_O!W(ui~O]7fO~O!a5zO~O(T(qO!V'aX!W'aX~O!V4tO!W(ra~O!h%ZO'|%OO^(YX!a(YX!l(YX#W(YX'j(YX(`(YX~O's7oO~P.[O!x;oO!|7rO!}7qO#O7qO#P7pO#S'bO#T'bO~PBtO^%^O!a#rO!l'hO#W'fO'j%^O(`'dO~O!W7vO~P%#XOl!kO'uTO'xUO(T!jO(_!nO~O|7wO~P%MdO![7{O!]7zO!^7zO#P7pO#S'bO#T'bO't!iO~PBtO![7{O!]7zO!^7zO!}7|O#O7|O#P7pO#S'bO#T'bO't!iO~PBtO!]7zO!^7zO't!iO(T!jO(_!nO~O!X0zO~O!X0zO%`8OO~Og8RO!X0zO%`8OO~OX8WO!V'da!W'da~O!V1VO!W(si~O!g8[O~O!g8]O~O!g8^O~O!g8^O~P%QO^8`O~O!a8cO~O!g8dO~O!V(ei!W(ei~P#?dO^%^O#W8lO'j%^O~O^%^O!a#rO#W8lO'j%^O~O^%^O!a#rO!l8pO#W8lO'j%^O(`'dO~O!h%ZO'|%OO~P&$QO!]8qO!^8qO't!iO~PBtO!V(]O!g(ay~O!V(by!g(by^(by'j(by~P!3jO!X'QO%`8uO~O#c$tqP$tqX$tq^$tqk$tqz$tq!V$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq'j$tq(Q$tq(`$tq!g$tq!S$tq'h$tq#W$tqo$tq!X$tq%`$tq!a$tq~P#(yO#c$vqP$vqX$vq^$vqk$vqz$vq!V$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq'j$vq(Q$vq(`$vq!g$vq!S$vq'h$vq#W$vqo$vq!X$vq%`$vq!a$vq~P#(yO!V'Pi!g'Pi~P!3jO#x#Zq!V#Zq!W#Zq~P#?dOy/yOz/yO|/zOPvaXvagvakva!eva!fva!hva!lva#fva#gva#hva#iva#jva#kva#lva#mva#nva#pva#rva#tva#uva#xva(Qva(`va(gva(hva!Vva!Wva~Oy)sO|)tOP$kaX$kag$kak$kaz$ka!e$ka!f$ka!h$ka!l$ka#f$ka#g$ka#h$ka#i$ka#j$ka#k$ka#l$ka#m$ka#n$ka#p$ka#r$ka#t$ka#u$ka#x$ka(Q$ka(`$ka(g$ka(h$ka!V$ka!W$ka~Oy)sO|)tOP$maX$mag$mak$maz$ma!e$ma!f$ma!h$ma!l$ma#f$ma#g$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#p$ma#r$ma#t$ma#u$ma#x$ma(Q$ma(`$ma(g$ma(h$ma!V$ma!W$ma~OP${aX${ak${az${a!e${a!f${a!h${a!l${a#f${a#g${a#h${a#i${a#j${a#k${a#l${a#m${a#n${a#p${a#r${a#t${a#u${a#x${a(Q${a(`${a!V${a!W${a~P%AYO#x$gq!V$gq!W$gq~P#?dO#x$hq!V$hq!W$hq~P#?dO!W9PO~O#x9QO~P!-jO!a#rO!V'Yi!g'Yi~O!a#rO(`'dO!V'Yi!g'Yi~O!V/VO!g(mq~O!S'[i!V'[i~P#(yO!V/_O!S(nq~O!S9WO~P#(yO!S9WO~Od(Oy!V(Oy~P!-jO!V'_a!X'_a~P#(yO!X%Sq^%Sq!V%Sq'j%Sq~P#(yOX9]O~O!V0_O!W(uq~O#W9aO!V'aa!W'aa~O!V4tO!W(ri~P#?dOPYXXYXkYXyYXzYX|YX!SYX!VYX!eYX!fYX!hYX!lYX#WYX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!a%QX#n%QX~P&6lO#S-cO#T-cO~PBtO#P9eO#S-cO#T-cO~PBtO!}9fO#O9fO#P9eO#S-cO#T-cO~PBtO!]9iO!^9iO't!iO(T!jO(_!nO~O![9lO!]9iO!^9iO#P9eO#S-cO#T-cO't!iO~PBtO!X0zO%`9oO~O'uTO'xUO(T9tO~O!V1VO!W(sq~O!g9wO~O!g9wO~P%QO!g9yO~O!g9zO~O#W9|O!V#`y!W#`y~O!V#`y!W#`y~P#?dO^%^O#W:QO'j%^O~O^%^O!a#rO#W:QO'j%^O~O^%^O!a#rO!l:UO#W:QO'j%^O(`'dO~O!X'QO%`:XO~O#x#vy!V#vy!W#vy~P#?dOP$tiX$tik$tiz$ti!e$ti!f$ti!h$ti!l$ti#f$ti#g$ti#h$ti#i$ti#j$ti#k$ti#l$ti#m$ti#n$ti#p$ti#r$ti#t$ti#u$ti#x$ti(Q$ti(`$ti!V$ti!W$ti~P%AYOy)sO|)tO(h)xOP%WiX%Wig%Wik%Wiz%Wi!e%Wi!f%Wi!h%Wi!l%Wi#f%Wi#g%Wi#h%Wi#i%Wi#j%Wi#k%Wi#l%Wi#m%Wi#n%Wi#p%Wi#r%Wi#t%Wi#u%Wi#x%Wi(Q%Wi(`%Wi(g%Wi!V%Wi!W%Wi~Oy)sO|)tOP%YiX%Yig%Yik%Yiz%Yi!e%Yi!f%Yi!h%Yi!l%Yi#f%Yi#g%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#p%Yi#r%Yi#t%Yi#u%Yi#x%Yi(Q%Yi(`%Yi(g%Yi(h%Yi!V%Yi!W%Yi~O#x$hy!V$hy!W$hy~P#?dO#x#Zy!V#Zy!W#Zy~P#?dO!a#rO!V'Yq!g'Yq~O!V/VO!g(my~O!S'[q!V'[q~P#(yO!S:`O~P#(yO!V0_O!W(uy~O!V4tO!W(rq~O#S2fO#T2fO~PBtO#P:gO#S2fO#T2fO~PBtO!]:kO!^:kO't!iO(T!jO(_!nO~O!X0zO%`:nO~O!g:qO~O^%^O#W:vO'j%^O~O^%^O!a#rO#W:vO'j%^O~O!X'QO%`:{O~OP$tqX$tqk$tqz$tq!e$tq!f$tq!h$tq!l$tq#f$tq#g$tq#h$tq#i$tq#j$tq#k$tq#l$tq#m$tq#n$tq#p$tq#r$tq#t$tq#u$tq#x$tq(Q$tq(`$tq!V$tq!W$tq~P%AYOP$vqX$vqk$vqz$vq!e$vq!f$vq!h$vq!l$vq#f$vq#g$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#p$vq#r$vq#t$vq#u$vq#x$vq(Q$vq(`$vq!V$vq!W$vq~P%AYOd%[!Z!V%[!Z#W%[!Z#x%[!Z~P!-jO!V'aq!W'aq~P#?dO#S6`O#T6`O~PBtO!V#`!Z!W#`!Z~P#?dO^%^O#W;ZO'j%^O~O#c%[!ZP%[!ZX%[!Z^%[!Zk%[!Zz%[!Z!V%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z'j%[!Z(Q%[!Z(`%[!Z!g%[!Z!S%[!Z'h%[!Z#W%[!Zo%[!Z!X%[!Z%`%[!Z!a%[!Z~P#(yOP%[!ZX%[!Zk%[!Zz%[!Z!e%[!Z!f%[!Z!h%[!Z!l%[!Z#f%[!Z#g%[!Z#h%[!Z#i%[!Z#j%[!Z#k%[!Z#l%[!Z#m%[!Z#n%[!Z#p%[!Z#r%[!Z#t%[!Z#u%[!Z#x%[!Z(Q%[!Z(`%[!Z!V%[!Z!W%[!Z~P%AYOo(UX~P1dO't!iO~P!'RO!ScX!VcX#WcX~P&6lOPYXXYXkYXyYXzYX|YX!VYX!VcX!eYX!fYX!hYX!lYX#WYX#WcX#ccX#fYX#gYX#hYX#iYX#jYX#kYX#lYX#mYX#nYX#pYX#rYX#tYX#uYX#zYX(QYX(`YX(gYX(hYX~O!acX!gYX!gcX(`cX~P'!sOP;nOQ;nOa=_Ob!fOikOk;nOlkOmkOskOu;nOw;nO|WO!QkO!RkO!XXO!c;qO!hZO!k;nO!l;nO!m;nO!o;rO!q;sO!t!eO$P!hO$TfO's)RO'uTO'xUO(QVO(_[O(l=]O~O!V<SO!W$ja~Oi%POk$qOl$pOm$pOs%QOu%ROw<YO|$xO!X$yO!c=dO!h$uO#b<`O$P%VO$l<[O$n<^O$q%WO's(iO'uTO'xUO'|%OO(Q$rO~O#o)YO~P''iO!WYX!WcX~P'!sO#c;vO~O!a#rO#c;vO~O#W<WO~O#n;{O~O#W<bO!V(eX!W(eX~O#W<WO!V(cX!W(cX~O#c<cO~Od<eO~P!-jO#c<jO~O#c<kO~O!a#rO#c<lO~O!a#rO#c<cO~O#x<mO~P#?dO#c<nO~O#c<oO~O#c<pO~O#c<qO~O#c<rO~O#c<sO~O#x<tO~P!-jO#x<uO~P!-jO$T~!f!|#O#P#S#a#b#m(l$l$n$q%T%_%`%a%g%i%l%m%o%q~'nR$T(l#g!R'l't#hl#f#iky'm(T'm's$V$X$V~",goto:"$/X(yPPPP(zP(}P)_P+a/fPPPP6iPP7OP<|@mPAQPAQPPPAQPBpPAQPAQPAQPBtPPByPCdPH`PPPHdPPPPHdKfPPPKlMlPHdP!!SPPPP!$eHdPPPHdPHdP!&vHdP!*]!+_!+dP!,U!,Y!,UPPPP!/f!1kPP!1t!3OP!+_HdHd!6b!9m!>v!>v!BnPPP!BuHdPPPPPPPPPPP!FTP!GiPPHd!HyPHdPHdHdHdHdPHd!J`PP!MiP#!nP#!r#!|##Q##QP!MfP##U##UP#&ZP#&_HdHd#&e#)iAQPAQPAQAQP#*sAQAQ#,mAQ#.zAQ#0nAQAQ#1[#3W#3W#3[#3d#3W#3lP#3WPAQ#4hAQ#5pAQAQ6iPPP#6{PP#7e#7eP#7eP#7z#7ePP#8QP#7wP#7w#8d!1p#7w#9O#9U6f(}#9X(}P#9`#9`#9`P(}P(}P(}P(}PP(}P#9f#9iP#9i(}P#9mP#9pP(}P(}P(}P(}P(}P(}(}PP#9v#9|#:W#:^#:d#:j#:p#;O#;U#;[#;f#;l#<h#<w#<}#=a#=g#=m#={#>b#?r#@Q#@W#@^#@d#@j#@t#@z#AQ#A[#An#AtPPPPPPPPPP#AzPPPPPPP#Bn#FYP#Gu#G|#HUPPPP#L`$ U$'t$'w$'z$)w$)z$)}$*UPP$*[$*`$+X$,X$,]$,qPP$,u$,{$-PP$-S$-W$-Z$.P$.g$.l$.o$.r$.x$.{$/P$/TR!yRmpOXr!X#a%]&d&f&g&i,^,c1g1jU!pQ'Q-OQ%ctQ%kwQ%rzQ&[!TS&x!c,vQ'W!f[']!m!r!s!t!u!vS*[$y*aQ+U%lQ+c%tQ+}&UQ,|'PQ-W'XW-`'^'_'`'aQ/p*cQ1U,OU2b-b-d-eS4}0z5QS6[2e2gU7z5U5V5WQ8q6_S9i7{7|Q:k9lR<a;r%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;ZS#m];o!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q*l%SQ+Z%nQ,P&XQ,W&aQ.X<XQ0T*|Q0X+OQ0d+[Q1^,UQ2q.UQ4e0_Q5d1VQ6i2uQ6o<YQ7b4fR8x6j'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#S!kQ!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e0z2b2e2f2g4z5Q5S5T5U5V6[6_6`7p7q7r7|8q9e9f:g$Y$pi#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ%uzQ&v!cS&|%w,yQ+Z%nS.})t/PQ/{*pQ0d+[Q0i+bQ1],TQ1^,UQ4e0_Q4n0kQ5g1XQ5h1[Q7b4fQ7e4kQ8Z5jQ9`7fR9u8WpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR,R&]&x`OPXYrstux!X!^!g!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=_=`[#YWZ#T#W&y'vQ%fvQ%jwS%oz%t!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ&Q!RQ'T!eQ'V!fQ(d#oS*O$u*SS+T%k%lQ+X%nQ+x&SQ+|&US-V'W'XQ.W(eQ/Z*PQ0]+UQ0c+[Q0e+]Q0h+aQ1P+yS1T+},OQ2X-WQ3m/VQ4d0_Q4h0bQ4m0jQ5c1UQ6z3nQ7a4fQ7d4jQ9[7`R:b9]v$wi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!`%hw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TQ*}%fQ+n%}Q+q&OQ+{&UQ.V(dQ1O+xU1S+|+},OQ2v.WQ5^1PS5b1T1US7n4x4|Q8V5cU9g7s7x7yU:i9h9j9kQ;R:jQ;a;S!z=a#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg=b<U<V<[<^<`<g<i<k<o<q<uW$|i%O*i=]S%}!O&ZQ&O!PQ&P!QR+l%{$Z${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jT)o$r)pV*m%S<X<YU&|!c%w,yS(r#v#wQ+`%qS.P(`(aQ0u+rQ4V/yR7j4t'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`$o$]c#V#b%a%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.j.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=ST#QV#R'PkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q&z!cR1|,v!z!kQ!c!m!p!r!s!t!u!v!w&x'P'Q']'^'_'`'a'b,v,|-O-`-b-c-d-e2b2e2f2g4z5S5T6[6_6`7p7q7r8q9e9f:gS*Z$y*aS/h*[*cQ/q*dQ0w+tQ4Q/pQ4T/sS4x0z5QS7s4}5WS7x5U5VS9h7z7{Q9j7|S:j9i9lR;S:klpOXr!X#a%]&d&f&g&i,^,c1g1jQ&k![Q'j!tS(f#q;vQ+R%iQ+v&QQ+w&RQ-T'UQ-g'cS.](k<cS0O*t<lQ0Z+SQ0y+uQ1n,eQ1p,fQ1x,qQ2V-UQ2Y-YS4[0P<rQ4`0[S4c0^<sQ5|1zQ6Q2WQ6V2_Q7_4aQ8g6OQ8h6RQ8k6WQ9{8dQ:P8mQ:u:RR;Y:w$j$[c#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(c#l'ZU*f$z(j3aS*x%a.jQ2r0TQ6f2qQ8w6iR:Y8x$j$Zc#V#b%b%d'u'{(g(n(v(w(x(y(z({(|(})O)P)Q)S)V)Z)e*y+_,t-h-m-r-w.^.d.h.k.l.{/}1v1y2Z2j2|3R3S3T3U3V3W3X3Y3Z3[3]3^3_3b3c3h4Z4b5}6T6b6m6n6s6t7l8f8j8y8}9O:O:d:r:t;X;d;p=SS(b#l'ZS(t#w$[S*w%a.jS.Q(a(cQ.m)UQ0Q*xR2o.R'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S#m];oQ&f!VQ&g!WQ&i!YQ&j!ZR1f,aQ'R!eQ*z%fQ-R'TS.S(d*}Q2T-QW2s.V.W0S0UQ6P2UU6e2p2r2vS8t6f6hS:W8v8wS:y:V:YQ;[:zR;e;]V!qQ'Q-O!_^OQXZ_r!T!X!m#a#d%Z%]&Z&]&d&f&g&i'Q(],^,c-O-z0z1g1j4z5QT#m];o%[yOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS(r#v#wS.P(`(a!s<y$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`U!oQ'Q-OY'[!m!s!t!u!vS'i!p!rW'k!w4z5S5TS-_']'^U-a'_'`'aW-f'b7p7q7rS2`-`-bU2c-c9e9fS2d-d-eS4|0z5QS6Y2b2eS6]2f:gQ6^2gS7s4}5WS7y5U5VS8o6[6_Q8r6`S9h7z7{Q9k7|Q:T8qS:j9i9lR;S:kU!qQ'Q-OT5O0z5QU'h!o4{4|S([#e1dU-^'['k7yQ/Y*OQ/f*ZU2a-a-f9kQ3r/ZS3{/g/qS6Z2c2dQ6y3mS7U4R4TS8p6]6^Q9S6zQ9Z7XR:U8rQ#sbU'g!o4{4|S(Z#e1dQ*u%[Q+P%gQ+V%mW-]'['h'k7yQ-y([Q/X*OQ/e*ZQ/k*^Q0Y+QQ1Q+zW2^-^-a-f9kS3q/Y/ZS3z/f/qQ3}/jQ4P/lQ5`1RU6X2a2c2dQ6x3mQ6|3rS7Q3{4TQ7V4SQ8T5aU8n6Z6]6^S9R6y6zQ9V7RQ9X7UQ9c7mQ9r8US:S8p8rQ:^9SQ:_9WQ:a9ZQ:f9dQ:p9sQ:x:UQ:}:`Q;P:hQ;_;QQ;h;`Q;l;iQ<|<wQ=X=QR=Y=R%[aOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZS#sx!g!r<v$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<|=_%[bOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZQ%[j!`%gw!f!o%j%k%l&w'V'W'X'['i*Z+T+U,s-V-W-_-a/h0]2Q2X2`2d4Q6Y6^8o:TS%mx!gQ+Q%hQ+z&UW1R+{+|+},OU5a1S1T1US7m4x4|S8U5b5cW9d7n7s7x7yQ9s8VW:h9g9h9j9kS;Q:i:jS;`;R;SQ;i;a!r<w$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q=Q=^R=R=_%OeOPXYrstu!X!^!l#P#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;ZY#_WZ#T#W'v!U%x|}#d#f#i%Z%v(P(W(X(]+f+g+i,[,p-s-v-z-{-}1o2m2n5z6dQ,X&a!p<x$X$j)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`R<{&yS&}!c%wR2O,y%QdOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t+h,Y,^,c-S-[-o-x.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2}4y5]5o5q5r6U7w8R8`8l:Q:v;Z!r)T$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`Q,W&aQ0T*|Q2q.UQ6i2uR8x6j!l$Rc#V%a'u'{(g(n(})O)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!T;})S)e,t.j1v1y3R3Z3[3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!h$Tc#V%a'u'{(g(n)P)Q)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;p!P<P)S)e,t.j1v1y3R3]3^3b3h5}6n6s6t7l8f8y8}9O:d:r=S!d$Xc#V%a'u'{(g(n)V)Z+_-h-m-r-w.^.d.{/}2Z2j2|3_4Z4b6T6b6m8j:O:t;X;d;pQ3l/Tz=`)S)e,t.j1v1y3R3b3h5}6n6s6t7l8f8y8}9O:d:r=SQ=e=gR=f=h'OkOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`S$kh$lR3e.p'VgOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$gf$mQ$efS)^$h)bR)j$mT$ff$mT)`$h)b'VhOPWXYZhrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$X$^$b$j$l%]%c%p&]&`&a&d&f&g&i&m&u&y'S'f'v'x(O(Y(k(o(s)g)r*t*|+h,Y,^,c,o,r-S-[-o-x.U.b.i.p.q/z0P0^0}1_1`1a1c1g1j1l1{2]2k2u2}3d4v4y5]5o5q5r5{6U6j7w8R8`8l9a9|:Q:v;Z;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`T$kh$lQ$nhR)i$l%[jOPWXYZrstu!X!^!l#P#T#W#a#k#q#u#x#{#|#}$O$P$Q$R$S$T$U$V$^$b%]%c%p&]&`&a&d&f&g&i&m&u'S'f'v'x(O(Y(k(o(s)r*t*|+h,Y,^,c-S-[-o-x.U.b.i/z0P0^0}1_1`1a1c1g1j1l2]2k2u2}4y5]5o5q5r6U6j7w8R8`8l:Q:v;Z!s=^$X$j&y)g,o,r.q1{3d4v5{9a9|;n;q;r;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<W<a<b<c<e<l<m<r<s=`#alOPXZr!X!^!l#P#a#k#x$j%]&]&`&a&d&f&g&i&m&u'S(s)g*|+h,Y,^,c-S.U.q/z0}1_1`1a1c1g1j1l2u3d4y5]5o5q5r6j7w8R8`v$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jQ*q%WQ.|)sg3a<U<V<[<^<`<g<i<k<o<q<uv$vi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=fQ*T$wS*^$y*aQ*r%XQ/l*_!z=O#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jf=P<U<V<[<^<`<g<i<k<o<q<uQ=T=aQ=U=bQ=V=cR=W=dv$zi#t%T%U%Y)w)y*R*g*h._/^/|3l4U9Q=]=e=f!z(j#r$`$a$u$x)n)z*X*{+O+m+p.T/_/a0q0t0|2t3v4O4]4_5[6g6}7W8O8u9o:X:n:{<Z<]<_<f<h<j<n<p<t=i=jg3a<U<V<[<^<`<g<i<k<o<q<ulnOXr!X#a%]&d&f&g&i,^,c1g1jQ*W$xQ,l&pQ,m&rR3u/_$Y${i#r#t$`$a$u$x%T%U%Y)n)w)y)z*R*X*g*h*{+O+m+p.T._/^/_/a/|0q0t0|2t3l3v4O4U4]4_5[6g6}7W8O8u9Q9o:X:n:{<U<V<Z<[<]<^<_<`<f<g<h<i<j<k<n<o<p<q<t<u=]=e=f=i=jQ+o&OQ0s+qQ4r0rR7i4sT*`$y*aS*`$y*aT5P0z5QS/j*]4yT4S/r7wQ+P%gQ/k*^Q0Y+QQ1Q+zQ5`1RQ8T5aQ9c7mQ9r8UQ:f9dQ:p9sQ;P:hQ;_;QQ;h;`R;l;in)w$s(l*s/]/t/u2z3s4Y6w7Y:]<}=Z=[!W<f(h)X)}*V.[.x/T/b0R0p0r2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h]<g3`6r8z:Z:[;fp)y$s(l*s/R/]/t/u2z3s4Y6w7Y:]<}=Z=[!Y<h(h)X)}*V.[.x/T/b0R0p0r2w2y3t3x4q4s6k6l7O7S7[7^9U9Y:|=g=h_<i3`6r8z8{:Z:[;fpmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ&W!SR,Y&apmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jR&W!SQ+s&PR0o+lqmOXr!T!X#a%]&Z&d&f&g&i,^,c1g1jQ0{+xS5Z1O1PU7}5X5Y5^S9n8P8QS:l9m9pQ;T:mR;b;UQ&_!TR,S&ZR5g1XS%oz%tR0e+]Q&d!UR,^&eR,d&jT1h,c1jR,h&kQ,g&kR1q,hQ'm!xR-i'mQrOQ#aXT%`r#aQ!{TR'o!{Q#OUR'q#OQ)p$rR.y)pQ#RVR's#RQ#UWU'y#U'z-pQ'z#VR-p'{Q,w&zR1},wQ.`(lR2{.`Q.c(nS3O.c3PR3P.dQ-O'QR2R-Or_OXr!T!X#a%]&Z&]&d&f&g&i,^,c1g1jU!mQ'Q-OS#dZ%ZY#n_!m#d-z4zQ-z(]T4z0z5QS#[W%vU(Q#[(R-qQ(R#]R-q'|Q,z&}R2P,zQ(^#gQ-t(VW.O(^-t2h6aQ2h-uR6a2iQ)b$hR.r)bQ$lhR)h$lQ$_cU)W$_-l<TQ-l;pR<T)eQ/W*OW3o/W3p6{9TU3p/X/Y/ZS6{3q3rR9T6|#m)u$s(h(l)X)}*V*n*o*s.Y.Z.[.x/R/S/T/]/b/t/u0R0p0r2w2x2y2z3`3s3t3x4Y4q4s6k6l6p6q6r6w7O7S7Y7[7^8z8{8|9U9Y:Z:[:]:|;f<}=Z=[=g=hQ/`*VU3w/`3y7PQ3y/bR7P3xQ*a$yR/n*aQ*j$}R/w*jQ4^0RR7]4^Q+j%yR0n+jQ4u0uS7k4u9bR9b7lQ+u&QR0x+uQ5Q0zR7u5QQ1W,PS5e1W8XR8X5gQ0`+XW4g0`4i7c9^Q4i0cQ7c4hR9^7dQ+^%oR0f+^Q1j,cR5u1jWqOXr#aQ&h!XQ*v%]Q,]&dQ,_&fQ,`&gQ,b&iQ1e,^S1h,c1jR5t1gQ%_oQ&l!]Q&o!_Q&q!`Q&s!aU'e!o4{4|Q+e%uQ+k%zQ,R&_Q,j&nY-Z'['g'h'k7yQ/m*`S1Z,S,VQ1r,iQ1s,lQ1t,m[2[-]-^-a-f-h9kQ4l0iQ4p0pQ5_1QQ5i1]Q5s1fY6S2Z2^2a2c2dQ7g4nQ7h4qQ7t5PQ8S5`Q8Y5hY8i6T6X6Z6]6^Q9_7eQ9q8TQ9v8ZW9}8j8n8p8rQ:c9`Q:e9cQ:o9rU:s:O:S:UQ;O:fQ;V:pS;W:t:xQ;^;PQ;c;XQ;g;_Q;j;dQ;k;hR;m;lQ%iwQ'U!fQ'c!oU+S%j%k%lQ,q&wU-U'V'W'XS-Y'['iQ/d*ZS0[+T+UQ1z,sS2W-V-WS2_-_-aQ3|/hQ4a0]Q6O2QQ6R2XS6W2`2dQ7T4QS8m6Y6^Q:R8oR:w:TS$ti=]R*k%OU$}i%O=]R/v*iQ$siS(h#r+OQ(l#tS)X$`$aQ)}$uQ*V$xQ*n%TQ*o%UQ*s%YQ.Y<ZQ.Z<]Q.[<_Q.x)nQ/R)wQ/S)yQ/T)zQ/]*RQ/b*XQ/t*gQ/u*hh0R*{.T0|2t5[6g8O8u9o:X:n:{Q0p+mQ0r+pQ2w<fQ2x<hQ2y<jQ2z._S3`<U<VQ3s/^Q3t/_Q3x/aQ4Y/|Q4q0qQ4s0tQ6k<nQ6l<pQ6p<[Q6q<^Q6r<`Q6w3lQ7O3vQ7S4OQ7Y4UQ7[4]Q7^4_Q8z<kQ8{<gQ8|<iQ9U6}Q9Y7WQ:Z<oQ:[<qQ:]9QQ:|<tQ;f<uQ<}=]Q=Z=eQ=[=fQ=g=iR=h=jloOXr!X#a%]&d&f&g&i,^,c1g1jQ!dPS#cZ#kQ&n!^U'Y!l4y7wQ'r#PQ(u#xQ)f$jS,V&]&`Q,Z&aQ,i&mQ,n&uQ-Q'SQ.f(sQ.v)gQ0U*|Q0l+hQ1b,YQ2U-SQ2r.UQ3g.qQ4W/zQ5Y0}Q5k1_Q5l1`Q5n1aQ5p1cQ5w1lQ6f2uQ6u3dQ8Q5]Q8_5oQ8a5qQ8b5rQ8w6jQ9p8RR9x8`#UcOPXZr!X!^!l#a#k#x%]&]&`&a&d&f&g&i&m&u'S(s*|+h,Y,^,c-S.U/z0}1_1`1a1c1g1j1l2u4y5]5o5q5r6j7w8R8`Q#VWQ#bYQ%asQ%btQ%duS'u#T'xQ'{#WQ(g#qQ(n#uQ(v#{Q(w#|Q(x#}Q(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)S$XQ)V$^Q)Z$bW)e$j)g.q3dQ*y%cQ+_%pS,t&y1{Q-h'fS-m'v-oQ-r(OQ-w(YQ.^(kQ.d(oQ.h;nQ.j;qQ.k;rQ.l;sQ.{)rQ/}*tQ1v,oQ1y,rQ2Z-[Q2j-xQ2|.bQ3R;vQ3S;wQ3T;xQ3U;yQ3V;zQ3W;{Q3X;|Q3Y;}Q3Z<OQ3[<PQ3]<QQ3^<RQ3_.iQ3b<WQ3c<aQ3h<SQ4Z0PQ4b0^Q5}<bQ6T2]Q6b2kQ6m2}Q6n<cQ6s<eQ6t<lQ7l4vQ8f5{Q8j6UQ8y<mQ8}<rQ9O<sQ:O8lQ:d9aQ:r9|Q:t:QQ;X:vQ;d;ZQ;p#PR=S=`R#XWR&{!cU!oQ'Q-OS&w!c,vY'[!m!s!t!u!vS'i!p!r['k!w4z5S5T5U5VS,s&x'PS-_']'^U-a'_'`'aY-f'b7p7q7r7|Q2Q,|S2`-`-bU2c-c9e9fS2d-d-eS4{0z5QS6Y2b2eS6]2f:gQ6^2gS8o6[6_Q8r6`R:T8qR(m#tR(p#uQ!dQT,}'Q-OQ#l]R'Z;oT#hZ%ZS#gZ%ZU%y|},[U(V#d#f#iS-u(W(XQ-|(]Q0m+iQ2i-vU2l-z-{-}S6c2m2nR8s6d`#ZW#T#W%v'v(P+f-st#eZ|}#d#f#i%Z(W(X(]+i-v-z-{-}2m2n6dQ1d,[Q1w,pQ5y1oQ8e5zT<z&y+gT#^W%vS#]W%vS'w#T(PS'|#W+fS,u&y+gT-n'v-sT'O!c%wQ$hfR)l$mT)a$h)bR3f.pT*Q$u*SR*Y$xQ0S*{Q2p.TQ5X0|Q6h2tQ8P5[Q8v6gQ9m8OQ:V8uQ:m9oQ:z:XQ;U:nR;]:{lpOXr!X#a%]&d&f&g&i,^,c1g1jQ&^!TR,R&ZV%z|},[R0v+rR,Q&XQ%szR+d%tR+Y%nT&b!U&eT&c!U&eT1i,c1j",nodeNames:"\u26A0 ArithOp ArithOp LineComment BlockComment Script ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:362,context:lQ,nodeProps:[["group",-26,6,14,16,62,198,202,205,206,208,211,214,225,227,233,235,237,239,242,248,254,256,258,260,262,264,265,"Statement",-32,10,11,25,28,29,35,45,48,49,51,56,64,72,76,78,80,81,102,103,112,113,130,133,135,136,137,138,140,141,161,162,164,"Expression",-23,24,26,30,34,36,38,165,167,169,170,172,173,174,176,177,178,180,181,182,192,194,196,197,"Type",-3,84,95,101,"ClassItem"],["openedBy",31,"InterpolationStart",50,"[",54,"{",69,"(",142,"JSXStartTag",154,"JSXStartTag JSXStartCloseTag"],["closedBy",33,"InterpolationEnd",44,"]",55,"}",70,")",143,"JSXSelfCloseEndTag JSXEndTag",159,"JSXEndTag"]],propSources:[hQ],skippedNodes:[0,3,4,268],repeatNodeCount:32,tokenData:"$>y(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tu>PuvBavwDxwxGgxyMvyz! Qz{!![{|!%O|}!&]}!O!%O!O!P!'g!P!Q!1w!Q!R#0t!R![#3T![!]#@T!]!^#Aa!^!_#Bk!_!`#GS!`!a#In!a!b#N{!b!c$$z!c!}>P!}#O$&U#O#P$'`#P#Q$,w#Q#R$.R#R#S>P#S#T$/`#T#o$0j#o#p$4z#p#q$5p#q#r$7Q#r#s$8^#s$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$I|>P$I|$I}$<s$I}$JO$<s$JO$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(n%d_$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$c&j'vp'y!b'l(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'w#S$c&j'm(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$c&j'vp'y!b'm(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$c&j!l$Ip'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#p$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'u$(n$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$c&j'y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$c&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$^#t$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$^#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$^#t$c&j'y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$^#t'y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|<[i$c&j(_!L^'vp'y!bOY%ZYZ&cZr%Zrs&}st%Ztu<Puw%Zwx(rx!Q%Z!Q![<P![!^%Z!^!_*g!_!c%Z!c!}<P!}#O%Z#O#P&c#P#R%Z#R#S<P#S#T%Z#T#o<P#o#p*g#p$g%Z$g;'S<P;'S;=`=y<%lO<P#%|=|P;=`<%l<P(CS>`k$c&j'vp'y!b(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P+d@`k$c&j'vp'y!b$V#tOY%ZYZ&cZr%Zrs&}st%Ztu@Tuw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![@T![!^%Z!^!_*g!_!c%Z!c!}@T!}#O%Z#O#P&c#P#R%Z#R#S@T#S#T%Z#T#o@T#o#p*g#p$g%Z$g;'S@T;'S;=`BT<%lO@T+dBWP;=`<%l@T(CSB^P;=`<%l>P%#SBl`$c&j'vp'y!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SCy_$c&j#z$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfETa(h%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sv%ZvwFYwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SFe`$c&j#t$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2bGp_'x$)`$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo*QHv_$c&j'vpOYHoYZIuZrHorsIuswHowxKVx!^Ho!^!_LX!_#OHo#O#PIu#P#oHo#o#pLX#p;'SHo;'S;=`Mp<%lOHo)`IzX$c&jOwIuwx6cx!^Iu!^!_Jg!_#oIu#o#pJg#p;'SIu;'S;=`KP<%lOIu#tJjTOwJgwx7]x;'SJg;'S;=`Jy<%lOJg#tJ|P;=`<%lJg)`KSP;=`<%lIu*QK`]$^#t$c&j'vpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$fL^Z'vpOYLXYZJgZrLXrsJgswLXwxMPx#OLX#O#PJg#P;'SLX;'S;=`Mj<%lOLX$fMWU$^#t'vpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$fMmP;=`<%lLX*QMsP;=`<%lHo(*QNR_!h(!b$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l! ]_!gM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!!ib$c&j'vp'y!b't#)d#i$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!#q{!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!#|`$c&j'vp'y!b#f$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!%Z`$c&j'vp'y!bk&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!&h_!V&;l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!'rc$c&j'vp'y!by'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!(}!P!Q%Z!Q![!+g![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!)Wa$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!*]!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!*h_!UMt$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!+rg$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!+g![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S!+g#S#X%Z#X#Y!-Z#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!-dg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!.{|}%Z}!O!.{!O!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!/Uc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!0lc$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!0a![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!0a#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!2Sf$c&j'vp'y!b#g$IdOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}xz!3hz{#$s{!P!3h!P!Q#&Y!Q!^!3h!^!_!Mh!_!`#-x!`!a#/_!a!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(r!3sb$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(Q!5U`$c&j'y!b!RSOY!4{YZ&cZw!4{wx!6Wx!P!4{!P!Q!=o!Q!^!4{!^!_!?g!_!}!4{!}#O!Bn#O#P!<w#P#o!4{#o#p!?g#p;'S!4{;'S;=`!Cw<%lO!4{&n!6_^$c&j!RSOY!6WYZ&cZ!P!6W!P!Q!7Z!Q!^!6W!^!_!8g!_!}!6W!}#O!;U#O#P!<w#P#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!7ba$c&j!RSO!^&c!_#Z&c#Z#[!7Z#[#]&c#]#^!7Z#^#a&c#a#b!7Z#b#g&c#g#h!7Z#h#i&c#i#j!7Z#j#m&c#m#n!7Z#n#o&c#p;'S&c;'S;=`&w<%lO&cS!8lX!RSOY!8gZ!P!8g!P!Q!9X!Q!}!8g!}#O!9p#O#P!:o#P;'S!8g;'S;=`!;O<%lO!8gS!9^U!RS#Z#[!9X#]#^!9X#a#b!9X#g#h!9X#i#j!9X#m#n!9XS!9sVOY!9pZ#O!9p#O#P!:Y#P#Q!8g#Q;'S!9p;'S;=`!:i<%lO!9pS!:]SOY!9pZ;'S!9p;'S;=`!:i<%lO!9pS!:lP;=`<%l!9pS!:rSOY!8gZ;'S!8g;'S;=`!;O<%lO!8gS!;RP;=`<%l!8g&n!;Z[$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#O!;U#O#P!<P#P#Q!6W#Q#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<UX$c&jOY!;UYZ&cZ!^!;U!^!_!9p!_#o!;U#o#p!9p#p;'S!;U;'S;=`!<q<%lO!;U&n!<tP;=`<%l!;U&n!<|X$c&jOY!6WYZ&cZ!^!6W!^!_!8g!_#o!6W#o#p!8g#p;'S!6W;'S;=`!=i<%lO!6W&n!=lP;=`<%l!6W(Q!=xi$c&j'y!b!RSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!=o#[#]&}#]#^!=o#^#a&}#a#b!=o#b#g&}#g#h!=o#h#i&}#i#j!=o#j#m&}#m#n!=o#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!?nZ'y!b!RSOY!?gZw!?gwx!8gx!P!?g!P!Q!@a!Q!}!?g!}#O!Ap#O#P!:o#P;'S!?g;'S;=`!Bh<%lO!?g!f!@hb'y!b!RSOY'}Zw'}x#O'}#P#Z'}#Z#[!@a#[#]'}#]#^!@a#^#a'}#a#b!@a#b#g'}#g#h!@a#h#i'}#i#j!@a#j#m'}#m#n!@a#n;'S'};'S;=`(f<%lO'}!f!AuX'y!bOY!ApZw!Apwx!9px#O!Ap#O#P!:Y#P#Q!?g#Q;'S!Ap;'S;=`!Bb<%lO!Ap!f!BeP;=`<%l!Ap!f!BkP;=`<%l!?g(Q!Bu^$c&j'y!bOY!BnYZ&cZw!Bnwx!;Ux!^!Bn!^!_!Ap!_#O!Bn#O#P!<P#P#Q!4{#Q#o!Bn#o#p!Ap#p;'S!Bn;'S;=`!Cq<%lO!Bn(Q!CtP;=`<%l!Bn(Q!CzP;=`<%l!4{'`!DW`$c&j'vp!RSOY!C}YZ&cZr!C}rs!6Ws!P!C}!P!Q!EY!Q!^!C}!^!_!GQ!_!}!C}!}#O!JX#O#P!<w#P#o!C}#o#p!GQ#p;'S!C};'S;=`!Kb<%lO!C}'`!Eci$c&j'vp!RSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!EY#[#](r#]#^!EY#^#a(r#a#b!EY#b#g(r#g#h!EY#h#i(r#i#j!EY#j#m(r#m#n!EY#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!GXZ'vp!RSOY!GQZr!GQrs!8gs!P!GQ!P!Q!Gz!Q!}!GQ!}#O!IZ#O#P!:o#P;'S!GQ;'S;=`!JR<%lO!GQt!HRb'vp!RSOY)rZr)rs#O)r#P#Z)r#Z#[!Gz#[#])r#]#^!Gz#^#a)r#a#b!Gz#b#g)r#g#h!Gz#h#i)r#i#j!Gz#j#m)r#m#n!Gz#n;'S)r;'S;=`*Z<%lO)rt!I`X'vpOY!IZZr!IZrs!9ps#O!IZ#O#P!:Y#P#Q!GQ#Q;'S!IZ;'S;=`!I{<%lO!IZt!JOP;=`<%l!IZt!JUP;=`<%l!GQ'`!J`^$c&j'vpOY!JXYZ&cZr!JXrs!;Us!^!JX!^!_!IZ!_#O!JX#O#P!<P#P#Q!C}#Q#o!JX#o#p!IZ#p;'S!JX;'S;=`!K[<%lO!JX'`!K_P;=`<%l!JX'`!KeP;=`<%l!C}(r!Ksk$c&j'vp'y!b!RSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[!Kh#[#]%Z#]#^!Kh#^#a%Z#a#b!Kh#b#g%Z#g#h!Kh#h#i%Z#i#j!Kh#j#m%Z#m#n!Kh#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W!Mq]'vp'y!b!RSOY!MhZr!Mhrs!?gsw!Mhwx!GQx!P!Mh!P!Q!Nj!Q!}!Mh!}#O#!U#O#P!:o#P;'S!Mh;'S;=`##U<%lO!Mh#W!Nse'vp'y!b!RSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[!Nj#[#]*g#]#^!Nj#^#a*g#a#b!Nj#b#g*g#g#h!Nj#h#i*g#i#j!Nj#j#m*g#m#n!Nj#n;'S*g;'S;=`+Z<%lO*g#W#!]Z'vp'y!bOY#!UZr#!Urs!Apsw#!Uwx!IZx#O#!U#O#P!:Y#P#Q!Mh#Q;'S#!U;'S;=`##O<%lO#!U#W##RP;=`<%l#!U#W##XP;=`<%l!Mh(r##e`$c&j'vp'y!bOY##[YZ&cZr##[rs!Bnsw##[wx!JXx!^##[!^!_#!U!_#O##[#O#P!<P#P#Q!3h#Q#o##[#o#p#!U#p;'S##[;'S;=`#$g<%lO##[(r#$jP;=`<%l##[(r#$pP;=`<%l!3h(CS#%Qb$c&j'vp'y!b'n(;d!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h(CS#&e_$c&j'vp'y!bR(;dOY#&YYZ&cZr#&Yrs#'dsw#&Ywx#*tx!^#&Y!^!_#,s!_#O#&Y#O#P#(f#P#o#&Y#o#p#,s#p;'S#&Y;'S;=`#-r<%lO#&Y(Bb#'m]$c&j'y!bR(;dOY#'dYZ&cZw#'dwx#(fx!^#'d!^!_#)w!_#O#'d#O#P#(f#P#o#'d#o#p#)w#p;'S#'d;'S;=`#*n<%lO#'d(AO#(mX$c&jR(;dOY#(fYZ&cZ!^#(f!^!_#)Y!_#o#(f#o#p#)Y#p;'S#(f;'S;=`#)q<%lO#(f(;d#)_SR(;dOY#)YZ;'S#)Y;'S;=`#)k<%lO#)Y(;d#)nP;=`<%l#)Y(AO#)tP;=`<%l#(f(<v#*OW'y!bR(;dOY#)wZw#)wwx#)Yx#O#)w#O#P#)Y#P;'S#)w;'S;=`#*h<%lO#)w(<v#*kP;=`<%l#)w(Bb#*qP;=`<%l#'d(Ap#*}]$c&j'vpR(;dOY#*tYZ&cZr#*trs#(fs!^#*t!^!_#+v!_#O#*t#O#P#(f#P#o#*t#o#p#+v#p;'S#*t;'S;=`#,m<%lO#*t(<U#+}W'vpR(;dOY#+vZr#+vrs#)Ys#O#+v#O#P#)Y#P;'S#+v;'S;=`#,g<%lO#+v(<U#,jP;=`<%l#+v(Ap#,pP;=`<%l#*t(=h#,|Y'vp'y!bR(;dOY#,sZr#,srs#)wsw#,swx#+vx#O#,s#O#P#)Y#P;'S#,s;'S;=`#-l<%lO#,s(=h#-oP;=`<%l#,s(CS#-uP;=`<%l#&Y%#W#.Vb$c&j#z$Id'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h+h#/lb$S#t$c&j'vp'y!b!RSOY!3hYZ&cZr!3hrs!4{sw!3hwx!C}x!P!3h!P!Q!Kh!Q!^!3h!^!_!Mh!_!}!3h!}#O##[#O#P!<w#P#o!3h#o#p!Mh#p;'S!3h;'S;=`#$m<%lO!3h$/l#1Pp$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#U%Z#U#V#6_#V#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#d#9g#d#l%Z#l#m#<i#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#3`k$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!+g!P!Q%Z!Q![#3T![!^%Z!^!_*g!_!g%Z!g!h!-Z!h#O%Z#O#P&c#P#R%Z#R#S#3T#S#X%Z#X#Y!-Z#Y#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#5`_$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#6hd$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#8Rf$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#7v!R!S#7v!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#7v#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#9pc$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;We$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#:{!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#:{#S#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#<rg$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>fi$c&j'vp'y!bl$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#>Z![!^%Z!^!_*g!_!c%Z!c!i#>Z!i#O%Z#O#P&c#P#R%Z#R#S#>Z#S#T%Z#T#Z#>Z#Z#b%Z#b#c#5T#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#@b_!a$b$c&j#x%<f'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Al_^l$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Bz^'|!*v!e'.r'vp'y!b$T)d(lSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Cv!Q!^*g!^!_#Dl!_!`#F^!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#DPX$e&j'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#DuZ#j$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Eh!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#EqX#z$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#FgX#k$Id'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh#G_a#W%?x$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a#Hd!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W#Ho_#c$Ih$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#I}adBf#k$Id$`#|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`#KS!`!a#L^!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#K__#k$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#Lia#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`!a#Mn!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S#My`#j$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$ Wc(`$Ip$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$!c!P!^%Z!^!_*g!_!a%Z!a!b$#m!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$!n_z'#p$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$#x`$c&j#u$Id'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$%V_!x!Ln$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$&a_|(8n$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$'eZ$c&jO!^$(W!^!_$(n!_#i$(W#i#j$(s#j#l$(W#l#m$*f#m#o$(W#o#p$(n#p;'S$(W;'S;=`$,q<%lO$(W(n$(_T[#S$c&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$(sO[#S(n$(x[$c&jO!Q&c!Q![$)n![!^&c!_!c&c!c!i$)n!i#T&c#T#Z$)n#Z#o&c#o#p$,U#p;'S&c;'S;=`&w<%lO&c(n$)sZ$c&jO!Q&c!Q![$*f![!^&c!_!c&c!c!i$*f!i#T&c#T#Z$*f#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$*kZ$c&jO!Q&c!Q![$+^![!^&c!_!c&c!c!i$+^!i#T&c#T#Z$+^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$+cZ$c&jO!Q&c!Q![$(W![!^&c!_!c&c!c!i$(W!i#T&c#T#Z$(W#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$,XR!Q![$,b!c!i$,b#T#Z$,b#S$,eS!Q![$,b!c!i$,b#T#Z$,b#q#r$(n(n$,tP;=`<%l$(W!'l$-S_!SM|$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$.^`#r$Id$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$/k_$c&j'vp'y!b(Q&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$0yk$c&j'vp'y!b(T!LY's&;d$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$0juw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$0j![!^%Z!^!_*g!_!c%Z!c!}$0j!}#O%Z#O#P&c#P#R%Z#R#S$0j#S#T%Z#T#o$0j#o#p*g#p$g%Z$g;'S$0j;'S;=`$4t<%lO$0j+d$2yk$c&j'vp'y!b$X#tOY%ZYZ&cZr%Zrs&}st%Ztu$2nuw%Zwx(rx}%Z}!O$2n!O!Q%Z!Q![$2n![!^%Z!^!_*g!_!c%Z!c!}$2n!}#O%Z#O#P&c#P#R%Z#R#S$2n#S#T%Z#T#o$2n#o#p*g#p$g%Z$g;'S$2n;'S;=`$4n<%lO$2n+d$4qP;=`<%l$2n(CS$4wP;=`<%l$0j!5p$5TX!X!3l'vp'y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$5{a(g%<v$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Cn!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$#m#q;'S%Z;'S;=`+a<%lO%Z%#`$7__!W$I`o`$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$8i_!mS$c&j'vp'y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$9y|$c&j'vp'y!b'l(;d(T!LY's&;d$V#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$f%Z$f$g+g$g#BY>P#BY#BZ$9h#BZ$IS>P$IS$I_$9h$I_$JT>P$JT$JU$9h$JU$KV>P$KV$KW$9h$KW&FU>P&FU&FV$9h&FV;'S>P;'S;=`BZ<%l?HT>P?HT?HU$9h?HUO>P(CS$=Uk$c&j'vp'y!b'm(;d(T!LY's&;d$V#tOY%ZYZ&cZr%Zrs&}st%Ztu>Puw%Zwx(rx}%Z}!O@T!O!Q%Z!Q![>P![!^%Z!^!_*g!_!c%Z!c!}>P!}#O%Z#O#P&c#P#R%Z#R#S>P#S#T%Z#T#o>P#o#p*g#p$g%Z$g;'S>P;'S;=`BZ<%lO>P",tokenizers:[fQ,uQ,2,3,4,5,6,7,8,9,10,11,12,13,cQ,new Qd("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOq~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!O~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(S~~",141,325),new Qd("j~RQYZXz{^~^O'p~~aP!P!Qd~iO'q~~",25,307)],topRules:{Script:[0,5],SingleExpression:[1,266],SingleClassItem:[2,267]},dialects:{jsx:13213,ts:13215},dynamicPrecedences:{76:1,78:1,162:1,190:1},specialized:[{term:311,get:r=>dQ[r]||-1},{term:327,get:r=>pQ[r]||-1},{term:67,get:r=>mQ[r]||-1}],tokenPrec:13238}),OQ=[ts("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),ts("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),ts("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),ts("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),ts("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),ts(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),ts("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),ts(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),ts(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),ts('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),ts('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],qO=new J1,Iy=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Tl(r){return(e,n)=>{let i=e.node.getChild("VariableDefinition");return i&&n(i,r),!0}}const vQ=["FunctionDeclaration"],yQ={FunctionDeclaration:Tl("function"),ClassDeclaration:Tl("class"),ClassExpression:()=>!0,EnumDeclaration:Tl("constant"),TypeAliasDeclaration:Tl("type"),NamespaceDeclaration:Tl("namespace"),VariableDefinition(r,e){r.matchContext(vQ)||e(r,"variable")},TypeDefinition(r,e){e(r,"type")},__proto__:null};function Vy(r,e){let n=qO.get(e);if(n)return n;let i=[],o=!0;function a(c,f){let d=r.sliceString(c.from,c.to);i.push({label:d,type:f})}return e.cursor(Ci.IncludeAnonymous).iterate(c=>{if(o)o=!1;else if(c.name){let f=yQ[c.name];if(f&&f(c,a)||Iy.has(c.name))return!1}else if(c.to-c.from>8192){for(let f of Vy(r,c.node))i.push(f);return!1}}),qO.set(e,i),i}const zO=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Ly=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName"];function bQ(r){let e=ki(r.state).resolveInner(r.pos,-1);if(Ly.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&zO.test(r.state.sliceDoc(e.from,e.to));if(!n&&!r.explicit)return null;let i=[];for(let o=e;o;o=o.parent)Iy.has(o.name)&&(i=i.concat(Vy(r.state.doc,o)));return{options:i,from:n?e.from:r.pos,validFor:zO}}const Io=jf.define({name:"javascript",parser:gQ.configure({props:[S0.add({IfStatement:Qh({except:/^\s*({|else\b)/}),TryStatement:Qh({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:yx,SwitchBody:r=>{let e=r.textAfter,n=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return r.baseIndent+(n?0:i?1:2)*r.unit},Block:vx({closing:"}"}),ArrowFunction:r=>r.baseIndent+r.unit,"TemplateString BlockComment":()=>null,"Statement Property":Qh({except:/^{/}),JSXElement(r){let e=/^\s*<\//.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},JSXEscape(r){let e=/\s*\}/.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},"JSXOpenTag JSXSelfClosingTag"(r){return r.column(r.node.from)+r.unit}}),P0.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":_x,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),By={test:r=>/^JSX/.test(r.name),facet:_0({commentTokens:{block:{open:"{/*",close:"*/}"}}})},wQ=Io.configure({dialect:"ts"},"typescript"),xQ=Io.configure({dialect:"jsx",props:[zd.add(r=>r.isTop?[By]:void 0)]}),_Q=Io.configure({dialect:"jsx ts",props:[zd.add(r=>r.isTop?[By]:void 0)]},"typescript"),kQ="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(r=>({label:r,type:"keyword"}));function SQ(r={}){let e=r.jsx?r.typescript?_Q:xQ:r.typescript?wQ:Io;return new fx(e,[Io.data.of({autocomplete:Yk(Ly,Qy(OQ.concat(kQ)))}),Io.data.of({autocomplete:bQ}),r.jsx?PQ:[]])}function QQ(r){for(;;){if(r.name=="JSXOpenTag"||r.name=="JSXSelfClosingTag"||r.name=="JSXFragmentTag")return r;if(!r.parent)return null;r=r.parent}}function IO(r,e,n=r.length){for(let i=e==null?void 0:e.firstChild;i;i=i.nextSibling)if(i.name=="JSXIdentifier"||i.name=="JSXBuiltin"||i.name=="JSXNamespacedName"||i.name=="JSXMemberExpression")return r.sliceString(i.from,Math.min(i.to,n));return""}const $Q=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),PQ=Ot.inputHandler.of((r,e,n,i)=>{if(($Q?r.composing:r.compositionStarted)||r.state.readOnly||e!=n||i!=">"&&i!="/"||!Io.isActiveAt(r.state,e,-1))return!1;let{state:o}=r,a=o.changeByRange(c=>{var f,d;let{head:m}=c,O=ki(o).resolveInner(m,-1),y;if(O.name=="JSXStartTag"&&(O=O.parent),i==">"&&O.name=="JSXFragmentTag")return{range:$e.cursor(m+1),changes:{from:m,insert:"></>"}};if(i=="/"&&O.name=="JSXFragmentTag"){let P=O.parent,C=P==null?void 0:P.parent;if(P.from==m-1&&((f=C.lastChild)===null||f===void 0?void 0:f.name)!="JSXEndTag"&&(y=IO(o.doc,C==null?void 0:C.firstChild,m))){let W=`/${y}>`;return{range:$e.cursor(m+W.length),changes:{from:m,insert:W}}}}else if(i==">"){let P=QQ(O);if(P&&((d=P.lastChild)===null||d===void 0?void 0:d.name)!="JSXEndTag"&&o.sliceDoc(m,m+2)!="</"&&(y=IO(o.doc,P,m)))return{range:$e.cursor(m+1),changes:{from:m,insert:`></${y}>`}}}return{range:c}});return a.changes.empty?!1:(r.dispatch(a,{userEvent:"input.type",scrollIntoView:!0}),!0)});var CQ=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Fy={exports:{}};(function(r,e){(function(n,i){r.exports=i()})(CQ,function(){return function n(i,o,a){var c=window,f="application/octet-stream",d=a||f,m=i,O=!o&&!a&&m,y=document.createElement("a"),P=function(it){return String(it)},C=c.Blob||c.MozBlob||c.WebKitBlob||P,W=o||"download",ae,fe;if(C=C.call?C.bind(c):Blob,String(this)==="true"&&(m=[m,d],d=m[0],m=m[1]),O&&O.length<2048&&(W=O.split("/").pop().split("?")[0],y.href=O,y.href.indexOf(O)!==-1)){var xe=new XMLHttpRequest;return xe.open("GET",O,!0),xe.responseType="blob",xe.onload=function(it){n(it.target.response,W,f)},setTimeout(function(){xe.send()},0),xe}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(m))if(m.length>1024*1024*1.999&&C!==P)m=we(m),d=m.type||f;else return navigator.msSaveBlob?navigator.msSaveBlob(we(m),W):Ae(m);else if(/([\x80-\xff])/.test(m)){var je=0,Ee=new Uint8Array(m.length),le=Ee.length;for(je;je<le;++je)Ee[je]=m.charCodeAt(je);m=new C([Ee],{type:d})}ae=m instanceof C?m:new C([m],{type:d});function we(it){var Jt=it.split(/[:;,]/),re=Jt[1],Rt=Jt[2]=="base64"?atob:decodeURIComponent,V=Rt(Jt.pop()),Wn=V.length,Et=0,Dt=new Uint8Array(Wn);for(Et;Et<Wn;++Et)Dt[Et]=V.charCodeAt(Et);return new C([Dt],{type:re})}function Ae(it,Jt){if("download"in y)return y.href=it,y.setAttribute("download",W),y.className="download-js-link",y.innerHTML="downloading...",y.style.display="none",document.body.appendChild(y),setTimeout(function(){y.click(),document.body.removeChild(y),Jt===!0&&setTimeout(function(){c.URL.revokeObjectURL(y.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(it)&&(it="data:"+it.replace(/^data:([\w\/\-\+]+)/,f)),window.open(it)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=it),!0;var re=document.createElement("iframe");document.body.appendChild(re),!Jt&&/^data:/.test(it)&&(it="data:"+it.replace(/^data:([\w\/\-\+]+)/,f)),re.src=it,setTimeout(function(){document.body.removeChild(re)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(ae,W);if(c.URL)Ae(c.URL.createObjectURL(ae),!0);else{if(typeof ae=="string"||ae.constructor===P)try{return Ae("data:"+d+";base64,"+c.btoa(ae))}catch{return Ae("data:"+d+","+encodeURIComponent(ae))}fe=new FileReader,fe.onload=function(it){Ae(this.result)},fe.readAsDataURL(ae)}return!0}})})(Fy);var TQ=Fy.exports,VO=Ny;function Ny(){var r=[].slice.call(arguments),e=!1;typeof r[0]=="boolean"&&(e=r.shift());var n=r[0];if(LO(n))throw new Error("extendee must be an object");for(var i=r.slice(1),o=i.length,a=0;a<o;a++){var c=i[a];for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var d=c[f];if(e&&EQ(d)){var m=Array.isArray(d)?[]:{};n[f]=Ny(!0,Object.prototype.hasOwnProperty.call(n,f)&&!LO(n[f])?n[f]:m,d)}else n[f]=d}}return n}function EQ(r){return Array.isArray(r)||{}.toString.call(r)=="[object Object]"}function LO(r){return!r||typeof r!="object"&&typeof r!="function"}function AQ(r){return r&&r.__esModule?r.default:r}class BO{on(e,n){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(n),this}emit(e,...n){this._callbacks=this._callbacks||{};let i=this._callbacks[e];if(i)for(let o of i)o.apply(this,n);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+e,{args:n})),this}makeEvent(e,n){let i={bubbles:!0,cancelable:!0,detail:n};if(typeof window.CustomEvent=="function")return new CustomEvent(e,i);var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),o}off(e,n){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let i=this._callbacks[e];if(!i)return this;if(arguments.length===1)return delete this._callbacks[e],this;for(let o=0;o<i.length;o++)if(i[o]===n){i.splice(o,1);break}return this}}var Gy={};Gy=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let DQ={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(r,e,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept(r,e){return e()},chunksUploaded:function(r,e){e()},binaryBody:!1,fallback(){let r;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let n of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(n.className)){r=n,n.className="dz-message";break}r||(r=Ne.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(r));let e=r.getElementsByTagName("span")[0];return e&&(e.textContent!=null?e.textContent=this.options.dictFallbackMessage:e.innerText!=null&&(e.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(r,e,n,i){let o={srcX:0,srcY:0,srcWidth:r.width,srcHeight:r.height},a=r.width/r.height;e==null&&n==null?(e=o.srcWidth,n=o.srcHeight):e==null?e=n*a:n==null&&(n=e/a),e=Math.min(e,o.srcWidth),n=Math.min(n,o.srcHeight);let c=e/n;if(o.srcWidth>e||o.srcHeight>n)if(i==="crop")a>c?(o.srcHeight=r.height,o.srcWidth=o.srcHeight*c):(o.srcWidth=r.width,o.srcHeight=o.srcWidth/c);else if(i==="contain")a>c?n=e/a:e=n*a;else throw new Error(`Unknown resizeMethod '${i}'`);return o.srcX=(r.width-o.srcWidth)/2,o.srcY=(r.height-o.srcHeight)/2,o.trgWidth=e,o.trgHeight=n,o},transformFile(r,e){return(this.options.resizeWidth||this.options.resizeHeight)&&r.type.match(/image.*/)?this.resizeImage(r,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(r)},previewTemplate:AQ(Gy),drop(r){return this.element.classList.remove("dz-drag-hover")},dragstart(r){},dragend(r){return this.element.classList.remove("dz-drag-hover")},dragenter(r){return this.element.classList.add("dz-drag-hover")},dragover(r){return this.element.classList.add("dz-drag-hover")},dragleave(r){return this.element.classList.remove("dz-drag-hover")},paste(r){},reset(){return this.element.classList.remove("dz-started")},addedfile(r){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){r.previewElement=Ne.createElement(this.options.previewTemplate.trim()),r.previewTemplate=r.previewElement,this.previewsContainer.appendChild(r.previewElement);for(var e of r.previewElement.querySelectorAll("[data-dz-name]"))e.textContent=r.name;for(e of r.previewElement.querySelectorAll("[data-dz-size]"))e.innerHTML=this.filesize(r.size);this.options.addRemoveLinks&&(r._removeLink=Ne.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),r.previewElement.appendChild(r._removeLink));let n=i=>(i.preventDefault(),i.stopPropagation(),r.status===Ne.UPLOADING?Ne.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(r)):this.options.dictRemoveFileConfirmation?Ne.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(r)):this.removeFile(r));for(let i of r.previewElement.querySelectorAll("[data-dz-remove]"))i.addEventListener("click",n)}},removedfile(r){return r.previewElement!=null&&r.previewElement.parentNode!=null&&r.previewElement.parentNode.removeChild(r.previewElement),this._updateMaxFilesReachedClass()},thumbnail(r,e){if(r.previewElement){r.previewElement.classList.remove("dz-file-preview");for(let n of r.previewElement.querySelectorAll("[data-dz-thumbnail]"))n.alt=r.name,n.src=e;return setTimeout(()=>r.previewElement.classList.add("dz-image-preview"),1)}},error(r,e){if(r.previewElement){r.previewElement.classList.add("dz-error"),typeof e!="string"&&e.error&&(e=e.error);for(let n of r.previewElement.querySelectorAll("[data-dz-errormessage]"))n.textContent=e}},errormultiple(){},processing(r){if(r.previewElement&&(r.previewElement.classList.add("dz-processing"),r._removeLink))return r._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(r,e,n){if(r.previewElement)for(let i of r.previewElement.querySelectorAll("[data-dz-uploadprogress]"))i.nodeName==="PROGRESS"?i.value=e:i.style.width=`${e}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(r){if(r.previewElement)return r.previewElement.classList.add("dz-success")},successmultiple(){},canceled(r){return this.emit("error",r,this.options.dictUploadCanceled)},canceledmultiple(){},complete(r){if(r._removeLink&&(r._removeLink.innerHTML=this.options.dictRemoveFile),r.previewElement)return r.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var ZQ=DQ;class Ne extends BO{static initClass(){this.prototype.Emitter=BO,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(e=>e.accepted).map(e=>e)}getRejectedFiles(){return this.files.filter(e=>!e.accepted).map(e=>e)}getFilesWithStatus(e){return this.files.filter(n=>n.status===e).map(n=>n)}getQueuedFiles(){return this.getFilesWithStatus(Ne.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(Ne.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(Ne.ADDED)}getActiveFiles(){return this.files.filter(e=>e.status===Ne.UPLOADING||e.status===Ne.QUEUED).map(e=>e)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(Ne.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let i=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",Ne.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:o}=this.hiddenFileInput;if(o.length)for(let a of o)this.addFile(a);this.emit("addedfiles",o),i()})};i()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let i of this.events)this.on(i,this.options[i]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",i=>this.emit("complete",i)),this.on("complete",i=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const e=function(i){if(i.dataTransfer.types){for(var o=0;o<i.dataTransfer.types.length;o++)if(i.dataTransfer.types[o]==="Files")return!0}return!1};let n=function(i){if(!!e(i))return i.stopPropagation(),i.preventDefault?i.preventDefault():i.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:i=>this.emit("dragstart",i),dragenter:i=>(n(i),this.emit("dragenter",i)),dragover:i=>{let o;try{o=i.dataTransfer.effectAllowed}catch{}return i.dataTransfer.dropEffect=o==="move"||o==="linkMove"?"move":"copy",n(i),this.emit("dragover",i)},dragleave:i=>this.emit("dragleave",i),drop:i=>(n(i),this.drop(i)),dragend:i=>this.emit("dragend",i)}}],this.clickableElements.forEach(i=>this.listeners.push({element:i,events:{click:o=>((i!==this.element||o.target===this.element||Ne.elementInside(o.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,Ne.instances.splice(Ne.instances.indexOf(this),1)}updateTotalUploadProgress(){let e,n=0,i=0;if(this.getActiveFiles().length){for(let a of this.getActiveFiles())n+=a.upload.bytesSent,i+=a.upload.total;e=100*n/i}else e=100;return this.emit("totaluploadprogress",e,i,n)}_getParamName(e){return typeof this.options.paramName=="function"?this.options.paramName(e):`${this.options.paramName}${this.options.uploadMultiple?`[${e}]`:""}`}_renameFile(e){return typeof this.options.renameFile!="function"?e.name:this.options.renameFile(e)}getFallbackForm(){let e,n;if(e=this.getExistingFallback())return e;let i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+=`<p>${this.options.dictFallbackText}</p>`),i+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let o=Ne.createElement(i);return this.element.tagName!=="FORM"?(n=Ne.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),n.appendChild(o)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),n!=null?n:o}getExistingFallback(){let e=function(i){for(let o of i)if(/(^| )fallback($| )/.test(o.className))return o};for(let i of["div","form"]){var n;if(n=e(this.element.getElementsByTagName(i)))return n}}setupEventListeners(){return this.listeners.map(e=>(()=>{let n=[];for(let i in e.events){let o=e.events[i];n.push(e.element.addEventListener(i,o,!1))}return n})())}removeEventListeners(){return this.listeners.map(e=>(()=>{let n=[];for(let i in e.events){let o=e.events[i];n.push(e.element.removeEventListener(i,o,!1))}return n})())}disable(){return this.clickableElements.forEach(e=>e.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(e=>this.cancelUpload(e))}enable(){return delete this.disabled,this.clickableElements.forEach(e=>e.classList.add("dz-clickable")),this.setupEventListeners()}filesize(e){let n=0,i="b";if(e>0){let o=["tb","gb","mb","kb","b"];for(let a=0;a<o.length;a++){let c=o[a],f=Math.pow(this.options.filesizeBase,4-a)/10;if(e>=f){n=e/Math.pow(this.options.filesizeBase,4-a),i=c;break}}n=Math.round(10*n)/10}return`<strong>${n}</strong> ${this.options.dictFileSizeUnits[i]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(e){if(!e.dataTransfer)return;this.emit("drop",e);let n=[];for(let i=0;i<e.dataTransfer.files.length;i++)n[i]=e.dataTransfer.files[i];if(n.length){let{items:i}=e.dataTransfer;i&&i.length&&i[0].webkitGetAsEntry!=null?this._addFilesFromItems(i):this.handleFiles(n)}this.emit("addedfiles",n)}paste(e){if(WQ(e!=null?e.clipboardData:void 0,i=>i.items)==null)return;this.emit("paste",e);let{items:n}=e.clipboardData;if(n.length)return this._addFilesFromItems(n)}handleFiles(e){for(let n of e)this.addFile(n)}_addFilesFromItems(e){return(()=>{let n=[];for(let o of e){var i;o.webkitGetAsEntry!=null&&(i=o.webkitGetAsEntry())?i.isFile?n.push(this.addFile(o.getAsFile())):i.isDirectory?n.push(this._addFilesFromDirectory(i,i.name)):n.push(void 0):o.getAsFile!=null&&(o.kind==null||o.kind==="file")?n.push(this.addFile(o.getAsFile())):n.push(void 0)}return n})()}_addFilesFromDirectory(e,n){let i=e.createReader(),o=c=>jQ(console,"log",f=>f.log(c));var a=()=>i.readEntries(c=>{if(c.length>0){for(let f of c)f.isFile?f.file(d=>{if(!(this.options.ignoreHiddenFiles&&d.name.substring(0,1)==="."))return d.fullPath=`${n}/${d.name}`,this.addFile(d)}):f.isDirectory&&this._addFilesFromDirectory(f,`${n}/${f.name}`);a()}return null},o);return a()}accept(e,n){this.options.maxFilesize&&e.size>this.options.maxFilesize*1048576?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):Ne.isValidFile(e,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,n):n(this.options.dictInvalidFileType)}addFile(e){e.upload={uuid:Ne.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=Ne.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,n=>{n?(e.accepted=!1,this._errorProcessing([e],n)):(e.accepted=!0,this.options.autoQueue&&this.enqueueFile(e)),this._updateMaxFilesReachedClass()})}enqueueFiles(e){for(let n of e)this.enqueueFile(n);return null}enqueueFile(e){if(e.status===Ne.ADDED&&e.accepted===!0){if(e.status=Ne.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(e),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,n=>(this.emit("thumbnail",e,n),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(e){if(e.status===Ne.UPLOADING&&this.cancelUpload(e),this.files=MQ(this.files,e),this.emit("removedfile",e),this.files.length===0)return this.emit("reset")}removeAllFiles(e){e==null&&(e=!1);for(let n of this.files.slice())(n.status!==Ne.UPLOADING||e)&&this.removeFile(n);return null}resizeImage(e,n,i,o,a){return this.createThumbnail(e,n,i,o,!0,(c,f)=>{if(f==null)return a(e);{let{resizeMimeType:d}=this.options;d==null&&(d=e.type);let m=f.toDataURL(d,this.options.resizeQuality);return(d==="image/jpeg"||d==="image/jpg")&&(m=Hy.restore(e.dataURL,m)),a(Ne.dataURItoBlob(m))}})}createThumbnail(e,n,i,o,a,c){let f=new FileReader;f.onload=()=>{if(e.dataURL=f.result,e.type==="image/svg+xml"){c!=null&&c(f.result);return}this.createThumbnailFromUrl(e,n,i,o,a,c)},f.readAsDataURL(e)}displayExistingFile(e,n,i,o,a=!0){if(this.emit("addedfile",e),this.emit("complete",e),!a)this.emit("thumbnail",e,n),i&&i();else{let c=f=>{this.emit("thumbnail",e,f),i&&i()};e.dataURL=n,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,c,o)}}createThumbnailFromUrl(e,n,i,o,a,c,f){let d=document.createElement("img");return f&&(d.crossOrigin=f),a=getComputedStyle(document.body).imageOrientation=="from-image"?!1:a,d.onload=()=>{let m=O=>O(1);return typeof EXIF!="undefined"&&EXIF!==null&&a&&(m=O=>EXIF.getData(d,function(){return O(EXIF.getTag(this,"Orientation"))})),m(O=>{e.width=d.width,e.height=d.height;let y=this.options.resize.call(this,e,n,i,o),P=document.createElement("canvas"),C=P.getContext("2d");switch(P.width=y.trgWidth,P.height=y.trgHeight,O>4&&(P.width=y.trgHeight,P.height=y.trgWidth),O){case 2:C.translate(P.width,0),C.scale(-1,1);break;case 3:C.translate(P.width,P.height),C.rotate(Math.PI);break;case 4:C.translate(0,P.height),C.scale(1,-1);break;case 5:C.rotate(.5*Math.PI),C.scale(1,-1);break;case 6:C.rotate(.5*Math.PI),C.translate(0,-P.width);break;case 7:C.rotate(.5*Math.PI),C.translate(P.height,-P.width),C.scale(-1,1);break;case 8:C.rotate(-.5*Math.PI),C.translate(-P.height,0);break}YQ(C,d,y.srcX!=null?y.srcX:0,y.srcY!=null?y.srcY:0,y.srcWidth,y.srcHeight,y.trgX!=null?y.trgX:0,y.trgY!=null?y.trgY:0,y.trgWidth,y.trgHeight);let W=P.toDataURL("image/png");if(c!=null)return c(W,P)})},c!=null&&(d.onerror=c),d.src=e.dataURL}processQueue(){let{parallelUploads:e}=this.options,n=this.getUploadingFiles().length,i=n;if(n>=e)return;let o=this.getQueuedFiles();if(o.length>0){if(this.options.uploadMultiple)return this.processFiles(o.slice(0,e-n));for(;i<e;){if(!o.length)return;this.processFile(o.shift()),i++}}}processFile(e){return this.processFiles([e])}processFiles(e){for(let n of e)n.processing=!0,n.status=Ne.UPLOADING,this.emit("processing",n);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}_getFilesWithXhr(e){return this.files.filter(n=>n.xhr===e).map(n=>n)}cancelUpload(e){if(e.status===Ne.UPLOADING){let n=this._getFilesWithXhr(e.xhr);for(let i of n)i.status=Ne.CANCELED;typeof e.xhr!="undefined"&&e.xhr.abort();for(let i of n)this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(e.status===Ne.ADDED||e.status===Ne.QUEUED)&&(e.status=Ne.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(e,...n){return typeof e=="function"?e.apply(this,n):e}uploadFile(e){return this.uploadFiles([e])}uploadFiles(e){this._transformFiles(e,n=>{if(this.options.chunking){let i=n[0];e[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||i.size>this.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(i.size/this.options.chunkSize)}if(e[0].upload.chunked){let i=e[0],o=n[0];i.upload.chunks=[];let a=()=>{let c=0;for(;i.upload.chunks[c]!==void 0;)c++;if(c>=i.upload.totalChunkCount)return;let f=c*this.options.chunkSize,d=Math.min(f+this.options.chunkSize,o.size),m={name:this._getParamName(0),data:o.webkitSlice?o.webkitSlice(f,d):o.slice(f,d),filename:i.upload.filename,chunkIndex:c};i.upload.chunks[c]={file:i,index:c,dataBlock:m,status:Ne.UPLOADING,progress:0,retries:0},this._uploadData(e,[m])};if(i.upload.finishedChunkUpload=(c,f)=>{let d=!0;c.status=Ne.SUCCESS,c.dataBlock=null,c.response=c.xhr.responseText,c.responseHeaders=c.xhr.getAllResponseHeaders(),c.xhr=null;for(let m=0;m<i.upload.totalChunkCount;m++){if(i.upload.chunks[m]===void 0)return a();i.upload.chunks[m].status!==Ne.SUCCESS&&(d=!1)}d&&this.options.chunksUploaded(i,()=>{this._finished(e,f,null)})},this.options.parallelChunkUploads)for(let c=0;c<i.upload.totalChunkCount;c++)a();else a()}else{let i=[];for(let o=0;o<e.length;o++)i[o]={name:this._getParamName(o),data:n[o],filename:e[o].upload.filename};this._uploadData(e,i)}})}_getChunk(e,n){for(let i=0;i<e.upload.totalChunkCount;i++)if(e.upload.chunks[i]!==void 0&&e.upload.chunks[i].xhr===n)return e.upload.chunks[i]}_uploadData(e,n){let i=new XMLHttpRequest;for(let m of e)m.xhr=i;e[0].upload.chunked&&(e[0].upload.chunks[n[0].chunkIndex].xhr=i);let o=this.resolveOption(this.options.method,e,n),a=this.resolveOption(this.options.url,e,n);i.open(o,a,!0),this.resolveOption(this.options.timeout,e)&&(i.timeout=this.resolveOption(this.options.timeout,e)),i.withCredentials=!!this.options.withCredentials,i.onload=m=>{this._finishedUploading(e,i,m)},i.ontimeout=()=>{this._handleUploadError(e,i,`Request timedout after ${this.options.timeout/1e3} seconds`)},i.onerror=()=>{this._handleUploadError(e,i)};let f=i.upload!=null?i.upload:i;f.onprogress=m=>this._updateFilesUploadProgress(e,i,m);let d=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(d["Content-Type"]=e[0].type),this.options.headers&&VO(d,this.options.headers);for(let m in d){let O=d[m];O&&i.setRequestHeader(m,O)}if(this.options.binaryBody){for(let m of e)this.emit("sending",m,i);this.options.uploadMultiple&&this.emit("sendingmultiple",e,i),this.submitRequest(i,null,e)}else{let m=new FormData;if(this.options.params){let O=this.options.params;typeof O=="function"&&(O=O.call(this,e,i,e[0].upload.chunked?this._getChunk(e[0],i):null));for(let y in O){let P=O[y];if(Array.isArray(P))for(let C=0;C<P.length;C++)m.append(y,P[C]);else m.append(y,P)}}for(let O of e)this.emit("sending",O,i,m);this.options.uploadMultiple&&this.emit("sendingmultiple",e,i,m),this._addFormElementData(m);for(let O=0;O<n.length;O++){let y=n[O];m.append(y.name,y.data,y.filename)}this.submitRequest(i,m,e)}}_transformFiles(e,n){let i=[],o=0;for(let a=0;a<e.length;a++)this.options.transformFile.call(this,e[a],c=>{i[a]=c,++o===e.length&&n(i)})}_addFormElementData(e){if(this.element.tagName==="FORM")for(let n of this.element.querySelectorAll("input, textarea, select, button")){let i=n.getAttribute("name"),o=n.getAttribute("type");if(o&&(o=o.toLowerCase()),!(typeof i=="undefined"||i===null))if(n.tagName==="SELECT"&&n.hasAttribute("multiple"))for(let a of n.options)a.selected&&e.append(i,a.value);else(!o||o!=="checkbox"&&o!=="radio"||n.checked)&&e.append(i,n.value)}}_updateFilesUploadProgress(e,n,i){if(e[0].upload.chunked){let o=e[0],a=this._getChunk(o,n);i?(a.progress=100*i.loaded/i.total,a.total=i.total,a.bytesSent=i.loaded):(a.progress=100,a.bytesSent=a.total),o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(let c=0;c<o.upload.totalChunkCount;c++)o.upload.chunks[c]&&typeof o.upload.chunks[c].progress!="undefined"&&(o.upload.progress+=o.upload.chunks[c].progress,o.upload.total+=o.upload.chunks[c].total,o.upload.bytesSent+=o.upload.chunks[c].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount,this.emit("uploadprogress",o,o.upload.progress,o.upload.bytesSent)}else for(let o of e)o.upload.total&&o.upload.bytesSent&&o.upload.bytesSent==o.upload.total||(i?(o.upload.progress=100*i.loaded/i.total,o.upload.total=i.total,o.upload.bytesSent=i.loaded):(o.upload.progress=100,o.upload.bytesSent=o.upload.total),this.emit("uploadprogress",o,o.upload.progress,o.upload.bytesSent))}_finishedUploading(e,n,i){let o;if(e[0].status!==Ne.CANCELED&&n.readyState===4){if(n.responseType!=="arraybuffer"&&n.responseType!=="blob"&&(o=n.responseText,n.getResponseHeader("content-type")&&~n.getResponseHeader("content-type").indexOf("application/json")))try{o=JSON.parse(o)}catch(a){i=a,o="Invalid JSON response from server."}this._updateFilesUploadProgress(e,n),200<=n.status&&n.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],n),o):this._finished(e,o,i):this._handleUploadError(e,n,o)}}_handleUploadError(e,n,i){if(e[0].status!==Ne.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){let o=this._getChunk(e[0],n);if(o.retries++<this.options.retryChunksLimit){this._uploadData(e,[o.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",n.status),n)}}submitRequest(e,n,i){if(e.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(i[0].upload.chunked){const o=this._getChunk(i[0],e);e.send(o.dataBlock.data)}else e.send(i[0]);else e.send(n)}_finished(e,n,i){for(let o of e)o.status=Ne.SUCCESS,this.emit("success",o,n,i),this.emit("complete",o);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(e,n,i){for(let o of e)o.status=Ne.ERROR,this.emit("error",o,n,i),this.emit("complete",o);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}constructor(e,n){super();let i,o;if(this.element=e,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");Ne.instances.push(this),this.element.dropzone=this;let a=(o=Ne.optionsForElement(this.element))!=null?o:{};if(this.options=VO(!0,{},ZQ,a,n!=null?n:{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!Ne.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=c=>this.options.renameFilename.call(this,c.name,c)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=Ne.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=Ne.getElements(this.options.clickable,"clickable")),this.init()}}Ne.initClass();Ne.options={};Ne.optionsForElement=function(r){if(r.getAttribute("id"))return Ne.options[XQ(r.getAttribute("id"))]};Ne.instances=[];Ne.forElement=function(r){if(typeof r=="string"&&(r=document.querySelector(r)),(r!=null?r.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return r.dropzone};Ne.discover=function(){let r;if(document.querySelectorAll)r=document.querySelectorAll(".dropzone");else{r=[];let e=n=>(()=>{let i=[];for(let o of n)/(^| )dropzone($| )/.test(o.className)?i.push(r.push(o)):i.push(void 0);return i})();e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return(()=>{let e=[];for(let n of r)Ne.optionsForElement(n)!==!1?e.push(new Ne(n)):e.push(void 0);return e})()};Ne.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Ne.isBrowserSupported=function(){let r=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))r=!1;else{Ne.blacklistedBrowsers!==void 0&&(Ne.blockedBrowsers=Ne.blacklistedBrowsers);for(let e of Ne.blockedBrowsers)if(e.test(navigator.userAgent)){r=!1;continue}}else r=!1;return r};Ne.dataURItoBlob=function(r){let e=atob(r.split(",")[1]),n=r.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),o=new Uint8Array(i);for(let a=0,c=e.length,f=0<=c;f?a<=c:a>=c;f?a++:a--)o[a]=e.charCodeAt(a);return new Blob([i],{type:n})};const MQ=(r,e)=>r.filter(n=>n!==e).map(n=>n),XQ=r=>r.replace(/[\-_](\w)/g,e=>e.charAt(1).toUpperCase());Ne.createElement=function(r){let e=document.createElement("div");return e.innerHTML=r,e.childNodes[0]};Ne.elementInside=function(r,e){if(r===e)return!0;for(;r=r.parentNode;)if(r===e)return!0;return!1};Ne.getElement=function(r,e){let n;if(typeof r=="string"?n=document.querySelector(r):r.nodeType!=null&&(n=r),n==null)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector or a plain HTML element.`);return n};Ne.getElements=function(r,e){let n,i;if(r instanceof Array){i=[];try{for(n of r)i.push(this.getElement(n,e))}catch{i=null}}else if(typeof r=="string"){i=[];for(n of document.querySelectorAll(r))i.push(n)}else r.nodeType!=null&&(i=[r]);if(i==null||!i.length)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return i};Ne.confirm=function(r,e,n){if(window.confirm(r))return e();if(n!=null)return n()};Ne.isValidFile=function(r,e){if(!e)return!0;e=e.split(",");let n=r.type,i=n.replace(/\/.*$/,"");for(let o of e)if(o=o.trim(),o.charAt(0)==="."){if(r.name.toLowerCase().indexOf(o.toLowerCase(),r.name.length-o.length)!==-1)return!0}else if(/\/\*$/.test(o)){if(i===o.replace(/\/.*$/,""))return!0}else if(n===o)return!0;return!1};typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.dropzone=function(r){return this.each(function(){return new Ne(this,r)})});Ne.ADDED="added";Ne.QUEUED="queued";Ne.ACCEPTED=Ne.QUEUED;Ne.UPLOADING="uploading";Ne.PROCESSING=Ne.UPLOADING;Ne.CANCELED="canceled";Ne.ERROR="error";Ne.SUCCESS="success";let RQ=function(r){r.naturalWidth;let e=r.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=e;let i=n.getContext("2d");i.drawImage(r,0,0);let{data:o}=i.getImageData(1,0,1,e),a=0,c=e,f=e;for(;f>a;)o[(f-1)*4+3]===0?c=f:a=f,f=c+a>>1;let d=f/e;return d===0?1:d};var YQ=function(r,e,n,i,o,a,c,f,d,m){let O=RQ(e);return r.drawImage(e,n,i,o,a,c,f,d,m/O)};class Hy{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(e){let n="",i,o,a="",c,f,d,m="",O=0;for(;i=e[O++],o=e[O++],a=e[O++],c=i>>2,f=(i&3)<<4|o>>4,d=(o&15)<<2|a>>6,m=a&63,isNaN(o)?d=m=64:isNaN(a)&&(m=64),n=n+this.KEY_STR.charAt(c)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(d)+this.KEY_STR.charAt(m),i=o=a="",c=f=d=m="",O<e.length;);return n}static restore(e,n){if(!e.match("data:image/jpeg;base64,"))return n;let i=this.decode64(e.replace("data:image/jpeg;base64,","")),o=this.slice2Segments(i),a=this.exifManipulation(n,o);return`data:image/jpeg;base64,${this.encode64(a)}`}static exifManipulation(e,n){let i=this.getExifArray(n),o=this.insertExif(e,i);return new Uint8Array(o)}static getExifArray(e){let n,i=0;for(;i<e.length;){if(n=e[i],n[0]===255&n[1]===225)return n;i++}return[]}static insertExif(e,n){let i=e.replace("data:image/jpeg;base64,",""),o=this.decode64(i),a=o.indexOf(255,3),c=o.slice(0,a),f=o.slice(a),d=c;return d=d.concat(n),d=d.concat(f),d}static slice2Segments(e){let n=0,i=[];for(;;){var o;if(e[n]===255&e[n+1]===218)break;if(e[n]===255&e[n+1]===216)n+=2;else{o=e[n+2]*256+e[n+3];let a=n+o+2,c=e.slice(n,a);i.push(c),n=a}if(n>e.length)break}return i}static decode64(e){let n,i,o="",a,c,f,d="",m=0,O=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");a=this.KEY_STR.indexOf(e.charAt(m++)),c=this.KEY_STR.indexOf(e.charAt(m++)),f=this.KEY_STR.indexOf(e.charAt(m++)),d=this.KEY_STR.indexOf(e.charAt(m++)),n=a<<2|c>>4,i=(c&15)<<4|f>>2,o=(f&3)<<6|d,O.push(n),f!==64&&O.push(i),d!==64&&O.push(o),n=i=o="",a=c=f=d="",m<e.length;);return O}}Hy.initClass();function WQ(r,e){return typeof r!="undefined"&&r!==null?e(r):void 0}function jQ(r,e,n){if(typeof r!="undefined"&&r!==null&&typeof r[e]=="function")return n(r,e)}(function(r){function e(t){return t.split("")}function n(t,s){return 0<=s.indexOf(t)}function i(t,s){for(var l=s.length;0<=--l;)if(t(s[l]))return s[l]}function o(t){Object.defineProperty(t.prototype,"stack",{get:function(){var s=new Error(this.message);s.name=this.name;try{throw s}catch(l){return l.stack}}})}function a(t,s){this.message=t,this.defs=s}function c(t,s,l){if(l){for(var u in t)if(Ae(t,u)&&!Ae(s,u))throw new a("`"+u+"` is not a supported option",s)}for(var u in t)Ae(t,u)&&(s[u]=t[u]);return s}function f(){}function d(){return!1}function m(){return!0}function O(){return this}function y(){return null}((a.prototype=Object.create(Error.prototype)).constructor=a).prototype.name="DefaultsError",o(a),W.is_op=function(t){return t===P||t instanceof ae},W.splice=function(t){return new ae(t)},P=W.skip={};var P,C=W;function W(t,s){for(var l=[],u=0;u<t.length;u++){var h=s(t[u],u);h!==P&&(h instanceof ae?l.push.apply(l,h.v):l.push(h))}return l}function ae(t){this.v=t}function fe(t,s){if(t.indexOf(s)<0)return t.push(s)}function xe(t,s){return t.replace(/\{([^{}]+)\}/g,function(l,u){return u=u=="this"?s:s[u],u instanceof V?u.print_to_string():u instanceof Rt?u.file+":"+u.line+","+u.col:u})}function je(t,s){s=t.indexOf(s),0<=s&&t.splice(s,1)}function Ee(t){Array.isArray(t)||(t=t.split(" "));var s=Object.create(null);return t.forEach(function(l){s[l]=!0}),s}function le(t,s){for(var l=t.length;0<=--l;)if(!s(t[l],l))return!1;return!0}function we(){this.values=Object.create(null)}function Ae(t,s){return Object.prototype.hasOwnProperty.call(t,s)}function it(t,s,l){for(var u,h=t.parent(-1),p=0;u=t.parent(p++);h=u){if($n(u))return s&&u.value===h;if(u instanceof he){if(u.left===h)continue}else if(u.TYPE=="Call"){if(u.expression===h)continue}else if(u instanceof lt){if(u.condition===h)continue}else{if(u instanceof Ai)return l;if(u instanceof at){if(u.expression===h)continue}else if(u instanceof Ke){if(u.expressions[0]===h)continue}else{if(u instanceof Re)return!0;if(u instanceof Dn){if(u.tag===h)continue}else if(u instanceof Br&&u.expression===h)continue}}return!1}}function Jt(t,s){if(31<s.length)throw new Error("Too many properties: "+s.length+`
`+s.join(", "));s.forEach(function(l,u){var h=1<<u;Object.defineProperty(t.prototype,l,{get:function(){return!!(this._bits&h)},set:function(p){p?this._bits|=h:this._bits&=~h}})})}function re(t,s,l,u){u===void 0&&(u=V);var h,p=s=s?s.split(/\s+/):[],g=(u&&u.PROPS&&(s=s.concat(u.PROPS)),["return function AST_",t,"(props){","this._bits=0;","if(props){"]),v=(s.forEach(function(E){g.push("this.",E,"=props.",E,";")}),g.push("}"),Object.create(u&&u.prototype)),x=((l.initialize||v.initialize)&&g.push("this.initialize();"),g.push("};"),new Function(g.join(""))());for(h in x.prototype=v,(x.prototype.CTOR=x).prototype.TYPE=x.TYPE=t,u&&(x.BASE=u).SUBCLASSES.push(x),x.DEFMETHOD=function(E,w){this.prototype[E]=w},x.PROPS=s,x.SELF_PROPS=p,x.SUBCLASSES=[],l)Ae(l,h)&&(/^\$/.test(h)?x[h.substr(1)]=l[h]:x.DEFMETHOD(h,l[h]));return r!==void 0&&(r["AST_"+t]=x),x}we.prototype={set:function(t,s){return t=="__proto__"?this.proto_value=s:this.values[t]=s,this},add:function(t,s){var l=this.get(t);return l?l.push(s):this.set(t,[s]),this},get:function(t){return t=="__proto__"?this.proto_value:this.values[t]},del:function(t){return t=="__proto__"?delete this.proto_value:delete this.values[t],this},has:function(t){return t=="__proto__"?"proto_value"in this:t in this.values},all:function(t){for(var s in this.values)if(!t(this.values[s],s))return!1;return!("proto_value"in this&&!t(this.proto_value,"__proto__"))},each:function(t){for(var s in this.values)t(this.values[s],s);"proto_value"in this&&t(this.proto_value,"__proto__")},size:function(){return Object.keys(this.values).length+("proto_value"in this)},map:function(t){var s,l=[];for(s in this.values)l.push(t(this.values[s],s));return"proto_value"in this&&l.push(t(this.proto_value,"__proto__")),l},clone:function(){var t=new we;return this.each(function(s,l){t.set(l,s)}),t},toObject:function(){var t={};return this.each(function(s,l){t["$"+l]=s}),t}},we.fromObject=function(t){var s,l=new we;for(s in t)Ae(t,s)&&l.set(s.slice(1),t[s]);return l};var Rt=re("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),V=re("Node","start end",{_clone:function(t){var s;return t?(s=this.clone()).transform(new Gn(function(l){if(l!==s)return l.clone(!0)})):new this.CTOR(this)},clone:function(t){return this._clone(t)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},equals:function(t){return this.TYPE==t.TYPE&&this._equals(t)},walk:function(t){t.visit(this)},_validate:function(){if(this.TYPE=="Node")throw new Error("should not instantiate AST_Node")},validate:function(){for(var t=this.CTOR;t.prototype._validate.call(this),t=t.BASE;);},validate_ast:function(){var t={};this.walk(new rt(function(s){if(s.validate_visited===t)throw new Error(xe("cannot reuse AST_{TYPE} from [{start}]",s));s.validate_visited=t}))}},null),Wn=(Jt(V,["_optimized","_squeezed","call_only","collapse_scanning","defined","evaluating","falsy","in_arg","in_bool","is_undefined","inlined","length_read","nested","new","optional","private","pure","redundant","single_use","static","terminal","truthy","uses_eval","uses_with"]),(V.log_function=function(t,s){var l;function u(h){l[h]||(l[h]=!0,t(h))}typeof t!="function"?V.info=V.warn=f:(l=Object.create(null),V.info=s?function(h,p){u("INFO: "+xe(h,p))}:f,V.warn=function(h,p){u("WARN: "+xe(h,p))})})(),[]);function Et(t,s){return t.length==s.length&&le(t,function(l,u){return l.equals(s[u])})}function Dt(t,s){return t===s||(t==null?s==null:t instanceof V&&s instanceof V&&t.equals(s))}V.enable_validation=function(){V.disable_validation(),function t(s){var l;s.SUBCLASSES.forEach(t),Ae(s.prototype,"transform")&&(l=s.prototype.transform,s.prototype.transform=function(u,h){if(u=l.call(this,u,h),u instanceof V)u.validate();else if(!(u===null||h&&C.is_op(u)))throw new Error("invalid transformed value: "+u);return u},Wn.push(function(){s.prototype.transform=l}))}(this)},V.disable_validation=function(){for(var t;t=Wn.pop();)t()};var cn=re("Statement",null,{$documentation:"Base class of all statements",_validate:function(){if(this.TYPE=="Statement")throw new Error("should not instantiate AST_Statement")}}),In=re("Debugger",null,{$documentation:"Represents a debugger statement",_equals:m},cn),vn=re("Directive","quote value",{$documentation:'Represents a directive, like "use strict";',$propdoc:{quote:"[string?] the original quote character",value:"[string] The value of this directive as a plain string (it's not an AST_String!)"},_equals:function(t){return this.value==t.value},_validate:function(){if(this.quote!=null){if(typeof this.quote!="string")throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if(typeof this.value!="string")throw new Error("value must be string")}},cn),_t=re("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_equals:m},cn);function on(t){return t instanceof cn&&!(t instanceof Zr)&&!(t instanceof bn)}function Ar(t,s,l,u,h){if(l=l?"contain":"be",!(t instanceof V))throw new Error(s+" must "+l+" AST_Node");if(t instanceof Ct)throw new Error(s+" cannot "+l+" AST_DefaultValue");if(t instanceof Tt)throw new Error(s+" cannot "+l+" AST_Destructured");if(t instanceof Bn&&!h)throw new Error(s+" cannot "+l+" AST_Hole");if(t instanceof Qt&&!u)throw new Error(s+" cannot "+l+" AST_Spread");if(on(t))throw new Error(s+" cannot "+l+" AST_Statement");if(t instanceof hn)throw new Error(s+" cannot "+l+" AST_SymbolDeclaration")}function Yt(t,s){Ar(t[s],s)}var Re=re("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_equals:function(t){return this.body.equals(t.body)},walk:function(t){var s=this;t.visit(s,function(){s.body.walk(t)})},_validate:function(){Yt(this,"body")}},cn),Mn=re("BlockScope","_var_names enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any inner scopes",functions:"[Dictionary/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Dictionary/S] a map of name ---> SymbolDef for all variables/functions defined in this scope"},clone:function(t){return t=this._clone(t),this.enclosed&&(t.enclosed=this.enclosed.slice()),this.functions&&(t.functions=this.functions.clone()),this.variables&&(t.variables=this.variables.clone()),t},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if(this.TYPE=="BlockScope")throw new Error("should not instantiate AST_BlockScope");if(this.parent_scope!=null){if(!(this.parent_scope instanceof Mn))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof nt))throw new Error("must be contained within AST_Scope")}}},cn);function Nn(t,s){t.body.forEach(function(l){l.walk(s)})}var ei=re("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},_equals:function(t){return Et(this.body,t.body)},walk:function(t){var s=this;t.visit(s,function(){Nn(s,t)})},_validate:function(){if(this.TYPE=="Block")throw new Error("should not instantiate AST_Block");this.body.forEach(function(t){if(!on(t))throw new Error("body must contain AST_Statement")})}},Mn),Be=re("BlockStatement",null,{$documentation:"A block statement"},ei),Go=re("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if(this.TYPE=="StatementWithBody")throw new Error("should not instantiate AST_StatementWithBody");if(!on(this.body))throw new Error("body must be AST_Statement")}},Mn),ti=re("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_equals:function(t){return this.label.equals(t.label)&&this.body.equals(t.body)},walk:function(t){var s=this;t.visit(s,function(){s.label.walk(t),s.body.walk(t)})},clone:function(t){var s,l,u=this._clone(t);return t&&(s=u.label,l=this.label,u.walk(new rt(function(h){return h instanceof Vr?h.label&&h.label.thedef===l?((h.label.thedef=s).references.push(h),!0):void 0:h instanceof nt||void 0}))),u},_validate:function(){if(!(this.label instanceof na))throw new Error("label must be AST_Label")}},Go),Ei=re("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it.",_validate:function(){if(this.TYPE=="IterationStatement")throw new Error("should not instantiate AST_IterationStatement")}},Go),bo=re("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_equals:function(t){return this.body.equals(t.body)&&this.condition.equals(t.condition)},_validate:function(){if(this.TYPE=="DWLoop")throw new Error("should not instantiate AST_DWLoop");Yt(this,"condition")}},Ei),os=re("Do",null,{$documentation:"A `do` statement",walk:function(t){var s=this;t.visit(s,function(){s.body.walk(t),s.condition.walk(t)})}},bo),Ns=re("While",null,{$documentation:"A `while` statement",walk:function(t){var s=this;t.visit(s,function(){s.condition.walk(t),s.body.walk(t)})}},bo),Tn=re("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_equals:function(t){return Dt(this.init,t.init)&&Dt(this.condition,t.condition)&&Dt(this.step,t.step)&&this.body.equals(t.body)},walk:function(t){var s=this;t.visit(s,function(){s.init&&s.init.walk(t),s.condition&&s.condition.walk(t),s.step&&s.step.walk(t),s.body.walk(t)})},_validate:function(){if(this.init!=null){if(!(this.init instanceof V))throw new Error("init must be AST_Node");if(on(this.init)&&!(this.init instanceof fn))throw new Error("init cannot be AST_Statement")}this.condition!=null&&Yt(this,"condition"),this.step!=null&&Yt(this,"step")}},Ei),Vn=re("ForEnumeration","init object",{$documentation:"Base class for enumeration loops, i.e. `for ... in`, `for ... of` & `for await ... of`",$propdoc:{init:"[AST_Node] the assignment target during iteration",object:"[AST_Node] the object to iterate over"},_equals:function(t){return this.init.equals(t.init)&&this.object.equals(t.object)&&this.body.equals(t.body)},walk:function(t){var s=this;t.visit(s,function(){s.init.walk(t),s.object.walk(t),s.body.walk(t)})},_validate:function(){if(this.TYPE=="ForEnumeration")throw new Error("should not instantiate AST_ForEnumeration");if(this.init instanceof fn){if(this.init.definitions.length!=1)throw new Error("init must have single declaration")}else Mr(this.init,function(t){if(!(t instanceof at||t instanceof K))throw new Error("init must be assignable: "+t.TYPE)});Yt(this,"object")}},Ei),wo=re("ForIn",null,{$documentation:"A `for ... in` statement"},Vn),Ho=re("ForOf",null,{$documentation:"A `for ... of` statement"},Vn),Jo=re("ForAwaitOf",null,{$documentation:"A `for await ... of` statement"},Ho),Dr=re("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_equals:function(t){return this.expression.equals(t.expression)&&this.body.equals(t.body)},walk:function(t){var s=this;t.visit(s,function(){s.expression.walk(t),s.body.walk(t)})},_validate:function(){Yt(this,"expression")}},Go),nt=re("Scope","fn_defs may_call_this uses_eval uses_with",{$documentation:"Base class for all statements introducing a lambda scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:O,_validate:function(){if(this.TYPE=="Scope")throw new Error("should not instantiate AST_Scope")}},ei),yn=re("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Dictionary/S] a map of name ---> SymbolDef for all undeclared names"},wrap:function(t){var s=this.body;return la(["(function(exports){'$ORIG';})(typeof ",t,"=='undefined'?(",t,"={}):",t,");"].join(""),{filename:"wrap="+JSON.stringify(t)}).transform(new Gn(function(l){if(l instanceof vn&&l.value=="$ORIG")return C.splice(s)}))},enclose:function(t){var s=(t=typeof t!="string"?"":t).indexOf(":"),l=(s<0&&(s=t.length),this.body);return la(["(function(",t.slice(0,s),'){"$ORIG"})(',t.slice(s+1),")"].join(""),{filename:"enclose="+JSON.stringify(t)}).transform(new Gn(function(u){if(u instanceof vn&&u.value=="$ORIG")return C.splice(l)}))}},nt),oc=re("ClassInitBlock",null,{$documentation:"Value for `class` static initialization blocks"},nt),ht=re("Lambda","argnames length_read rest safe_ids uses_arguments",{$documentation:"Base class for functions",$propdoc:{argnames:"[(AST_DefaultValue|AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",length_read:"[boolean/S] whether length property of this function is accessed",rest:"[(AST_Destructured|AST_SymbolFunarg)?] rest parameter, or null if absent",uses_arguments:"[boolean|number/S] whether this function accesses the arguments array"},each_argname:function(t){var s=new rt(function(l){return l instanceof Ct?(l.name.walk(s),!0):l instanceof An?(l.value.walk(s),!0):void(l instanceof $t&&t(l))});this.argnames.forEach(function(l){l.walk(s)}),this.rest&&this.rest.walk(s)},_equals:function(t){return Dt(this.rest,t.rest)&&Dt(this.name,t.name)&&Dt(this.value,t.value)&&Et(this.argnames,t.argnames)&&Et(this.body,t.body)},walk:function(t){var s=this;t.visit(s,function(){s.name&&s.name.walk(t),s.argnames.forEach(function(l){l.walk(t)}),s.rest&&s.rest.walk(t),Nn(s,t)})},_validate:function(){if(this.TYPE=="Lambda")throw new Error("should not instantiate AST_Lambda");this.argnames.forEach(function(t){Mr(t,function(s){if(!(s instanceof $t))throw new Error("argnames must be AST_SymbolFunarg[]")},!0)}),this.rest!=null&&Mr(this.rest,function(t){if(!(t instanceof $t))throw new Error("rest must be AST_SymbolFunarg")})}},nt),Vi=re("Accessor",null,{$documentation:"A getter/setter function",_validate:function(){if(this.name!=null)throw new Error("name must be null")}},ht),bn=re("LambdaExpression","inlined",{$documentation:"Base class for function expressions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined"},_validate:function(){if(this.TYPE=="LambdaExpression")throw new Error("should not instantiate AST_LambdaExpression")}},ht);function $n(t){return t instanceof Bi||t instanceof mr}function mi(t){return t instanceof mr||t instanceof as||t instanceof gr||t instanceof Ir||t instanceof Fi}function Li(t){return t instanceof Ir||t instanceof Fi||t instanceof Es||t instanceof Or}function vu(t,s){$n(t)&&t.value?t.value.walk(s):Nn(t,s)}var Bi=re("Arrow","value",{$documentation:"An arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(t){var s=this;t.visit(s,function(){s.argnames.forEach(function(l){l.walk(t)}),s.rest&&s.rest.walk(t),s.value?s.value.walk(t):Nn(s,t)})},_validate:function(){if(this.name!=null)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(this.value!=null&&(Yt(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},bn),mr=re("AsyncArrow","value",{$documentation:"An asynchronous arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(t){var s=this;t.visit(s,function(){s.argnames.forEach(function(l){l.walk(t)}),s.rest&&s.rest.walk(t),s.value?s.value.walk(t):Nn(s,t)})},_validate:function(){if(this.name!=null)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(this.value!=null&&(Yt(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},bn),gr=re("AsyncFunction","name",{$documentation:"An asynchronous function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(this.name!=null&&!(this.name instanceof fi))throw new Error("name must be AST_SymbolLambda")}},bn),Fi=re("AsyncGeneratorFunction","name",{$documentation:"An asynchronous generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(this.name!=null&&!(this.name instanceof fi))throw new Error("name must be AST_SymbolLambda")}},bn),Pn=re("Function","name",{$documentation:"A function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(this.name!=null&&!(this.name instanceof fi))throw new Error("name must be AST_SymbolLambda")}},bn),Or=re("GeneratorFunction","name",{$documentation:"A generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(this.name!=null&&!(this.name instanceof fi))throw new Error("name must be AST_SymbolLambda")}},bn),dn=re("LambdaDefinition","inlined name",{$documentation:"Base class for function definitions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined",name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if(this.TYPE=="LambdaDefinition")throw new Error("should not instantiate AST_LambdaDefinition");if(!(this.name instanceof br))throw new Error("name must be AST_SymbolDefun")}},ht),as=re("AsyncDefun",null,{$documentation:"An asynchronous function definition"},dn),Ir=re("AsyncGeneratorDefun",null,{$documentation:"An asynchronous generator function definition"},dn),Yi=re("Defun",null,{$documentation:"A function definition"},dn),Es=re("GeneratorDefun",null,{$documentation:"A generator function definition"},dn),En=re("Class","extends name properties",{$documentation:"Base class for class literals",$propdoc:{extends:"[AST_Node?] the super class, or null if not specified",properties:"[AST_ClassProperty*] array of class properties"},_equals:function(t){return Dt(this.name,t.name)&&Dt(this.extends,t.extends)&&Et(this.properties,t.properties)},resolve:function(t){return t?this:this.parent_scope.resolve()},walk:function(t){var s=this;t.visit(s,function(){s.name&&s.name.walk(t),s.extends&&s.extends.walk(t),s.properties.forEach(function(l){l.walk(t)})})},_validate:function(){if(this.TYPE=="Class")throw new Error("should not instantiate AST_Class");this.extends!=null&&Yt(this,"extends"),this.properties.forEach(function(t){if(!(t instanceof ir))throw new Error("properties must contain AST_ClassProperty")})}},Mn),gi=re("DefClass",null,{$documentation:"A class definition",$propdoc:{name:"[AST_SymbolDefClass] the name of this class"},_validate:function(){if(!(this.name instanceof Ja))throw new Error("name must be AST_SymbolDefClass")}},En),Zr=re("ClassExpression",null,{$documentation:"A class expression",$propdoc:{name:"[AST_SymbolClass?] the name of this class, or null if not specified"},_validate:function(){if(this.name!=null&&!(this.name instanceof ta))throw new Error("name must be AST_SymbolClass")}},En),ir=re("ClassProperty","key private static value",{$documentation:"Base class for `class` properties",$propdoc:{key:"[string|AST_Node?] property name (AST_Node for computed property, null for initialization block)",private:"[boolean] whether this is a private property",static:"[boolean] whether this is a static property",value:"[AST_Node?] property value (AST_Accessor for getters/setters, AST_LambdaExpression for methods, null if not specified for fields)"},_equals:function(t){return!this.private==!t.private&&!this.static==!t.static&&Dt(this.key,t.key)&&Dt(this.value,t.value)},walk:function(t){var s=this;t.visit(s,function(){s.key instanceof V&&s.key.walk(t),s.value&&s.value.walk(t)})},_validate:function(){if(this.TYPE=="ClassProperty")throw new Error("should not instantiate AST_ClassProperty");if(this instanceof As){if(this.key!=null)throw new Error("key must be null")}else if(typeof this.key!="string"){if(!(this.key instanceof V))throw new Error("key must be string or AST_Node");Yt(this,"key")}if(this.value!=null&&!(this.value instanceof V))throw new Error("value must be AST_Node")}}),ls=re("ClassField",null,{$documentation:"A `class` field",_validate:function(){this.value!=null&&Yt(this,"value")}},ir),Fa=re("ClassGetter",null,{$documentation:"A `class` getter",_validate:function(){if(!(this.value instanceof Vi))throw new Error("value must be AST_Accessor")}},ir),Na=re("ClassSetter",null,{$documentation:"A `class` setter",_validate:function(){if(!(this.value instanceof Vi))throw new Error("value must be AST_Accessor")}},ir),xo=re("ClassMethod",null,{$documentation:"A `class` method",_validate:function(){if(!(this.value instanceof bn))throw new Error("value must be AST_LambdaExpression");if($n(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(this.value.name!=null)throw new Error("name of class method's lambda must be null")}},ir),As=re("ClassInit",null,{$documentation:"A `class` static initialization block",_validate:function(){if(!this.static)throw new Error("static must be true");if(!(this.value instanceof oc))throw new Error("value must be AST_ClassInitBlock")},initialize:function(){this.static=!0}},ir),Ga=re("Jump",null,{$documentation:"Base class for \u201Cjumps\u201D (for now that's `return`, `throw`, `break` and `continue`)",_validate:function(){if(this.TYPE=="Jump")throw new Error("should not instantiate AST_Jump")}},cn),Ln=re("Exit","value",{$documentation:"Base class for \u201Cexits\u201D (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_equals:function(t){return Dt(this.value,t.value)},walk:function(t){var s=this;t.visit(s,function(){s.value&&s.value.walk(t)})},_validate:function(){if(this.TYPE=="Exit")throw new Error("should not instantiate AST_Exit")}},Ga),Nt=re("Return",null,{$documentation:"A `return` statement",_validate:function(){this.value!=null&&Yt(this,"value")}},Ln),Ha=re("Throw",null,{$documentation:"A `throw` statement",_validate:function(){Yt(this,"value")}},Ln),Vr=re("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_equals:function(t){return Dt(this.label,t.label)},walk:function(t){var s=this;t.visit(s,function(){s.label&&s.label.walk(t)})},_validate:function(){if(this.TYPE=="LoopControl")throw new Error("should not instantiate AST_LoopControl");if(this.label!=null&&!(this.label instanceof cc))throw new Error("label must be AST_LabelRef")}},Ga),rr=re("Break",null,{$documentation:"A `break` statement"},Vr),Ds=re("Continue",null,{$documentation:"A `continue` statement"},Vr),Zt=re("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_equals:function(t){return this.body.equals(t.body)&&this.condition.equals(t.condition)&&Dt(this.alternative,t.alternative)},walk:function(t){var s=this;t.visit(s,function(){s.condition.walk(t),s.body.walk(t),s.alternative&&s.alternative.walk(t)})},_validate:function(){if(Yt(this,"condition"),this.alternative!=null&&!on(this.alternative))throw new Error("alternative must be AST_Statement")}},Go),Oi=re("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` \u201Cdiscriminant\u201D"},_equals:function(t){return this.expression.equals(t.expression)&&Et(this.body,t.body)},walk:function(t){var s=this;t.visit(s,function(){s.expression.walk(t),Nn(s,t)})},_validate:function(){Yt(this,"expression"),this.body.forEach(function(t){if(!(t instanceof vr))throw new Error("body must be AST_SwitchBranch[]")})}},ei),vr=re("SwitchBranch",null,{$documentation:"Base class for `switch` branches",_validate:function(){if(this.TYPE=="SwitchBranch")throw new Error("should not instantiate AST_SwitchBranch")}},ei),cs=re("Default",null,{$documentation:"A `default` switch branch"},vr),sr=re("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_equals:function(t){return this.expression.equals(t.expression)&&Et(this.body,t.body)},walk:function(t){var s=this;t.visit(s,function(){s.expression.walk(t),Nn(s,t)})},_validate:function(){Yt(this,"expression")}},vr),ni=re("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_equals:function(t){return Et(this.body,t.body)&&Dt(this.bcatch,t.bcatch)&&Dt(this.bfinally,t.bfinally)},walk:function(t){var s=this;t.visit(s,function(){Nn(s,t),s.bcatch&&s.bcatch.walk(t),s.bfinally&&s.bfinally.walk(t)})},_validate:function(){if(this.bcatch!=null&&!(this.bcatch instanceof Ni))throw new Error("bcatch must be AST_Catch");if(this.bfinally!=null&&!(this.bfinally instanceof Gs))throw new Error("bfinally must be AST_Finally")}},ei),Ni=re("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[(AST_Destructured|AST_SymbolCatch)?] symbol for the exception, or null if not present"},_equals:function(t){return Dt(this.argname,t.argname)&&Et(this.body,t.body)},walk:function(t){var s=this;t.visit(s,function(){s.argname&&s.argname.walk(t),Nn(s,t)})},_validate:function(){this.argname!=null&&Mr(this.argname,function(t){if(!(t instanceof Gi))throw new Error("argname must be AST_SymbolCatch")})}},ei),Gs=re("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},ei),fn=re("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_equals:function(t){return Et(this.definitions,t.definitions)},walk:function(t){var s=this;t.visit(s,function(){s.definitions.forEach(function(l){l.walk(t)})})},_validate:function(){if(this.TYPE=="Definitions")throw new Error("should not instantiate AST_Definitions");if(this.definitions.length<1)throw new Error("must have at least one definition")}},cn),Lr=re("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach(function(t){if(!(t instanceof Wt))throw new Error("definitions must be AST_VarDef[]");Mr(t.name,function(s){if(!(s instanceof ci))throw new Error("name must be AST_SymbolConst")})})}},fn),yr=re("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach(function(t){if(!(t instanceof Wt))throw new Error("definitions must be AST_VarDef[]");Mr(t.name,function(s){if(!(s instanceof Fr))throw new Error("name must be AST_SymbolLet")})})}},fn),un=re("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach(function(t){if(!(t instanceof Wt))throw new Error("definitions must be AST_VarDef[]");Mr(t.name,function(s){if(!(s instanceof oi))throw new Error("name must be AST_SymbolVar")})})}},fn),Wt=re("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructured|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_equals:function(t){return this.name.equals(t.name)&&Dt(this.value,t.value)},walk:function(t){var s=this;t.visit(s,function(){s.name.walk(t),s.value&&s.value.walk(t)})},_validate:function(){this.value!=null&&Yt(this,"value")}}),vi=re("ExportDeclaration","body",{$documentation:"An `export` statement",$propdoc:{body:"[AST_DefClass|AST_Definitions|AST_LambdaDefinition] the statement to export"},_equals:function(t){return this.body.equals(t.body)},walk:function(t){var s=this;t.visit(s,function(){s.body.walk(t)})},_validate:function(){if(!(this.body instanceof gi||this.body instanceof fn||this.body instanceof dn))throw new Error("body must be AST_DefClass, AST_Definitions or AST_LambdaDefinition")}},cn),Ai=re("ExportDefault","body",{$documentation:"An `export default` statement",$propdoc:{body:"[AST_Node] the default export"},_equals:function(t){return this.body.equals(t.body)},walk:function(t){var s=this;t.visit(s,function(){s.body.walk(t)})},_validate:function(){this.body instanceof gi||this.body instanceof dn||Yt(this,"body")}},cn),Ko=re("ExportForeign","aliases keys path",{$documentation:"An `export ... from '...'` statement",$propdoc:{aliases:"[AST_String*] array of aliases to export",keys:"[AST_String*] array of keys to import",path:"[AST_String] the path to import module"},_equals:function(t){return this.path.equals(t.path)&&Et(this.aliases,t.aliases)&&Et(this.keys,t.keys)},_validate:function(){if(this.aliases.length!=this.keys.length)throw new Error("aliases:key length mismatch: "+this.aliases.length+" != "+this.keys.length);if(this.aliases.forEach(function(t){if(!(t instanceof wt))throw new Error("aliases must contain AST_String")}),this.keys.forEach(function(t){if(!(t instanceof wt))throw new Error("keys must contain AST_String")}),!(this.path instanceof wt))throw new Error("path must be AST_String")}},cn),_o=re("ExportReferences","properties",{$documentation:"An `export { ... }` statement",$propdoc:{properties:"[AST_SymbolExport*] array of aliases to export"},_equals:function(t){return Et(this.properties,t.properties)},walk:function(t){var s=this;t.visit(s,function(){s.properties.forEach(function(l){l.walk(t)})})},_validate:function(){this.properties.forEach(function(t){if(!(t instanceof ia))throw new Error("properties must contain AST_SymbolExport")})}},cn),ea=re("Import","all default path properties",{$documentation:"An `import` statement",$propdoc:{all:"[AST_SymbolImport?] the imported namespace, or null if not specified",default:"[AST_SymbolImport?] the alias for default `export`, or null if not specified",path:"[AST_String] the path to import module",properties:"[(AST_SymbolImport*)?] array of aliases, or null if not specified"},_equals:function(t){return this.path.equals(t.path)&&Dt(this.all,t.all)&&Dt(this.default,t.default)&&!this.properties==!t.properties&&(!this.properties||Et(this.properties,t.properties))},walk:function(t){var s=this;t.visit(s,function(){s.all&&s.all.walk(t),s.default&&s.default.walk(t),s.properties&&s.properties.forEach(function(l){l.walk(t)})})},_validate:function(){if(this.all!=null){if(!(this.all instanceof or))throw new Error("all must be AST_SymbolImport");if(this.properties!=null)throw new Error("cannot import both * and {} in the same statement")}if(this.default!=null){if(!(this.default instanceof or))throw new Error("default must be AST_SymbolImport");if(this.default.key.value!=="")throw new Error("invalid default key: "+this.default.key.value)}if(!(this.path instanceof wt))throw new Error("path must be AST_String");this.properties!=null&&this.properties.forEach(function(t){if(!(t instanceof or))throw new Error("properties must contain AST_SymbolImport")})}},cn),Ct=re("DefaultValue","name value",{$documentation:"A default value declaration",$propdoc:{name:"[AST_Destructured|AST_SymbolDeclaration] name of the variable",value:"[AST_Node] value to assign if variable is `undefined`"},_equals:function(t){return this.name.equals(t.name)&&this.value.equals(t.value)},walk:function(t){var s=this;t.visit(s,function(){s.name.walk(t),s.value.walk(t)})},_validate:function(){Yt(this,"value")}});function ac(t,s,l,u){t[s].forEach(function(h){Ar(h,s,!0,l,u)})}var ot=re("Call","args expression optional pure terminal",{$documentation:"A function call expression",$propdoc:{args:"[AST_Node*] array of arguments",expression:"[AST_Node] expression to invoke as function",optional:"[boolean] whether the expression is optional chaining",pure:"[boolean/S] marker for side-effect-free call expression",terminal:"[boolean] whether the chain has ended"},_equals:function(t){return!this.optional==!t.optional&&this.expression.equals(t.expression)&&Et(this.args,t.args)},walk:function(t){var s=this;t.visit(s,function(){s.expression.walk(t),s.args.forEach(function(l){l.walk(t)})})},_validate:function(){Yt(this,"expression"),ac(this,"args",!0)}}),Si=re("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties",_validate:function(){if(this.optional)throw new Error("optional must be false");if(this.terminal)throw new Error("terminal must be false")}},ot),Ke=re("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},_equals:function(t){return Et(this.expressions,t.expressions)},walk:function(t){var s=this;t.visit(s,function(){s.expressions.forEach(function(l){l.walk(t)})})},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");ac(this,"expressions")}});function lc(t){for(;t instanceof at;)t=t.expression;return t}var at=re("PropAccess","expression optional property terminal",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the \u201Ccontainer\u201D expression",optional:"[boolean] whether the expression is optional chaining",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node",terminal:"[boolean] whether the chain has ended"},_equals:function(t){return!this.optional==!t.optional&&Dt(this.property,t.property)&&this.expression.equals(t.expression)},get_property:function(){var t=this.property;return t instanceof nn?t.value:t instanceof Ve&&t.operator=="void"&&t.expression instanceof nn?void 0:t},_validate:function(){if(this.TYPE=="PropAccess")throw new Error("should not instantiate AST_PropAccess");Yt(this,"expression")}}),Lt=re("Dot","quoted",{$documentation:"A dotted property access expression",$propdoc:{quoted:"[boolean] whether property is transformed from a quoted string"},walk:function(t){var s=this;t.visit(s,function(){s.expression.walk(t)})},_validate:function(){if(typeof this.property!="string")throw new Error("property must be string")}},at),Kt=re("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(t){var s=this;t.visit(s,function(){s.expression.walk(t),s.property.walk(t)})},_validate:function(){Yt(this,"property")}},at),Qt=re("Spread","expression",{$documentation:"Spread expression in array/object literals or function calls",$propdoc:{expression:"[AST_Node] expression to be expanded"},_equals:function(t){return this.expression.equals(t.expression)},walk:function(t){var s=this;t.visit(s,function(){s.expression.walk(t)})},_validate:function(){Yt(this,"expression")}}),en=re("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_equals:function(t){return this.operator==t.operator&&this.expression.equals(t.expression)},walk:function(t){var s=this;t.visit(s,function(){s.expression.walk(t)})},_validate:function(){if(this.TYPE=="Unary")throw new Error("should not instantiate AST_Unary");if(typeof this.operator!="string")throw new Error("operator must be string");Yt(this,"expression")}}),Ve=re("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},en),Br=re("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},en),he=re("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_equals:function(t){return this.operator==t.operator&&this.left.equals(t.left)&&this.right.equals(t.right)},walk:function(t){var s=this;t.visit(s,function(){s.left.walk(t),s.right.walk(t)})},_validate:function(){if(this instanceof Ye||Yt(this,"left"),typeof this.operator!="string")throw new Error("operator must be string");Yt(this,"right")}}),lt=re("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_equals:function(t){return this.condition.equals(t.condition)&&this.consequent.equals(t.consequent)&&this.alternative.equals(t.alternative)},walk:function(t){var s=this;t.visit(s,function(){s.condition.walk(t),s.consequent.walk(t),s.alternative.walk(t)})},_validate:function(){Yt(this,"condition"),Yt(this,"consequent"),Yt(this,"alternative")}}),Ye=re("Assign",null,{$documentation:"An assignment expression \u2014 `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof Tt){if(this.operator!="=")throw new Error("invalid destructuring operator: "+this.operator);Mr(this.left,function(t){if(!(t instanceof at||t instanceof K))throw new Error("left must be assignable: "+t.TYPE)})}else if(!(this.left instanceof fs||this.left instanceof sa||this.left instanceof at&&!this.left.optional||this.left instanceof K||this.left instanceof an))throw new Error("left must be assignable")}},he),pn=re("Await","expression",{$documentation:"An await expression",$propdoc:{expression:"[AST_Node] expression with Promise to resolve on"},_equals:function(t){return this.expression.equals(t.expression)},walk:function(t){var s=this;t.visit(s,function(){s.expression.walk(t)})},_validate:function(){Yt(this,"expression")}}),yi=re("Yield","expression nested",{$documentation:"A yield expression",$propdoc:{expression:"[AST_Node?] return value for iterator, or null if undefined",nested:"[boolean] whether to iterate over expression as generator"},_equals:function(t){return!this.nested==!t.nested&&Dt(this.expression,t.expression)},walk:function(t){var s=this;t.visit(s,function(){s.expression&&s.expression.walk(t)})},_validate:function(){if(this.expression!=null)Yt(this,"expression");else if(this.nested)throw new Error("yield* must contain expression")}}),yt=re("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_equals:function(t){return Et(this.elements,t.elements)},walk:function(t){var s=this;t.visit(s,function(){s.elements.forEach(function(l){l.walk(t)})})},_validate:function(){ac(this,"elements",!0,!0)}}),Tt=re("Destructured","rest",{$documentation:"Base class for destructured literal",$propdoc:{rest:"[(AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)?] rest parameter, or null if absent"},_validate:function(){if(this.TYPE=="Destructured")throw new Error("should not instantiate AST_Destructured")}});function Mr(t,s,l){if(t instanceof Ct&&l)return Mr(t.name,s);if(t instanceof Tt){if(t.rest!=null&&Mr(t.rest,s),t instanceof wn)return t.elements.forEach(function(u){u instanceof Bn||Mr(u,s,!0)});if(t instanceof si)return t.properties.forEach(function(u){Mr(u.value,s,!0)})}s(t)}var wn=re("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[(AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)*] array of elements"},_equals:function(t){return Dt(this.rest,t.rest)&&Et(this.elements,t.elements)},walk:function(t){var s=this;t.visit(s,function(){s.elements.forEach(function(l){l.walk(t)}),s.rest&&s.rest.walk(t)})}},Tt),An=re("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef] property value"},_equals:function(t){return Dt(this.key,t.key)&&this.value.equals(t.value)},walk:function(t){var s=this;t.visit(s,function(){s.key instanceof V&&s.key.walk(t),s.value.walk(t)})},_validate:function(){if(typeof this.key!="string"){if(!(this.key instanceof V))throw new Error("key must be string or AST_Node");Yt(this,"key")}if(!(this.value instanceof V))throw new Error("value must be AST_Node")}}),si=re("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},_equals:function(t){return Dt(this.rest,t.rest)&&Et(this.properties,t.properties)},walk:function(t){var s=this;t.visit(s,function(){s.properties.forEach(function(l){l.walk(t)}),s.rest&&s.rest.walk(t)})},_validate:function(){this.properties.forEach(function(t){if(!(t instanceof An))throw new Error("properties must be AST_DestructuredKeyVal[]")})}},Tt),tn=re("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[(AST_ObjectProperty|AST_Spread)*] array of properties"},_equals:function(t){return Et(this.properties,t.properties)},walk:function(t){var s=this;t.visit(s,function(){s.properties.forEach(function(l){l.walk(t)})})},_validate:function(){this.properties.forEach(function(t){if(!(t instanceof Qi||t instanceof Qt))throw new Error("properties must contain AST_ObjectProperty and/or AST_Spread only")})}}),Qi=re("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},_equals:function(t){return Dt(this.key,t.key)&&this.value.equals(t.value)},walk:function(t){var s=this;t.visit(s,function(){s.key instanceof V&&s.key.walk(t),s.value.walk(t)})},_validate:function(){if(this.TYPE=="ObjectProperty")throw new Error("should not instantiate AST_ObjectProperty");if(typeof this.key!="string"){if(!(this.key instanceof V))throw new Error("key must be string or AST_Node");Yt(this,"key")}if(!(this.value instanceof V))throw new Error("value must be AST_Node")}}),ii=re("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){Yt(this,"value")}},Qi),Zs=re("ObjectMethod",null,{$documentation:"A key(){} object property",_validate:function(){if(!(this.value instanceof bn))throw new Error("value must be AST_LambdaExpression");if($n(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(this.value.name!=null)throw new Error("name of object method's lambda must be null")}},ii),Ms=re("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof Vi))throw new Error("value must be AST_Accessor")}},Qi),Hs=re("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof Vi))throw new Error("value must be AST_Accessor")}},Qi),Xn=re("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_equals:function(t){return this.thedef?this.thedef===t.thedef:this.name==t.name},_validate:function(){if(this.TYPE=="Symbol")throw new Error("should not instantiate AST_Symbol");if(typeof this.name!="string")throw new Error("name must be string")}}),hn=re("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},Xn),ci=re("SymbolConst",null,{$documentation:"Symbol defining a constant"},hn),or=re("SymbolImport","key",{$documentation:"Symbol defined by an `import` statement",$propdoc:{key:"[AST_String] the original `export` name"},_equals:function(t){return this.name==t.name&&this.key.equals(t.key)},_validate:function(){if(!(this.key instanceof wt))throw new Error("key must be AST_String")}},ci),Fr=re("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},hn),oi=re("SymbolVar",null,{$documentation:"Symbol defining a variable"},hn),$t=re("SymbolFunarg","unused",{$documentation:"Symbol naming a function argument"},oi),br=re("SymbolDefun",null,{$documentation:"Symbol defining a function"},hn),fi=re("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},hn),Ja=re("SymbolDefClass",null,{$documentation:"Symbol defining a class"},ci),ta=re("SymbolClass",null,{$documentation:"Symbol naming a class expression"},ci),Gi=re("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},hn),na=re("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},Xn),K=re("SymbolRef","fixed in_arg redef",{$documentation:"Reference to some symbol (not definition/declaration)"},Xn),ia=re("SymbolExport","alias",{$documentation:"Reference in an `export` statement",$propdoc:{alias:"[AST_String] the `export` alias"},_equals:function(t){return this.name==t.name&&this.alias.equals(t.alias)},_validate:function(){if(!(this.alias instanceof wt))throw new Error("alias must be AST_String")}},K),cc=re("LabelRef",null,{$documentation:"Reference to a label symbol"},Xn),Hi=re("ObjectIdentity",null,{$documentation:"Base class for `super` & `this`",_equals:m,_validate:function(){if(this.TYPE=="ObjectIdentity")throw new Error("should not instantiate AST_ObjectIdentity")}},Xn),ko=re("Super",null,{$documentation:"The `super` symbol",_validate:function(){if(this.name!=="super")throw new Error('name must be "super"')}},Hi),ra=re("This",null,{$documentation:"The `this` symbol",_validate:function(){if(this.TYPE=="This"&&this.name!=="this")throw new Error('name must be "this"')}},Hi),Ka=re("NewTarget",null,{$documentation:"The `new.target` symbol",initialize:function(){this.name="new.target"},_validate:function(){if(this.name!=="new.target")throw new Error('name must be "new.target": '+this.name)}},ra),Dn=re("Template","expressions strings tag",{$documentation:"A template literal, i.e. tag`str1${expr1}...strN${exprN}strN+1`",$propdoc:{expressions:"[AST_Node*] the placeholder expressions",strings:"[string*] the raw text segments",tag:"[AST_Node?] tag function, or null if absent"},_equals:function(t){return Dt(this.tag,t.tag)&&(s=this.strings,l=t.strings,s.length==l.length)&&le(s,function(u,h){return u==l[h]})&&Et(this.expressions,t.expressions);var s,l},walk:function(t){var s=this;t.visit(s,function(){s.tag&&s.tag.walk(t),s.expressions.forEach(function(l){l.walk(t)})})},_validate:function(){if(this.expressions.length+1!=this.strings.length)throw new Error("malformed template with "+this.expressions.length+" placeholder(s) but "+this.strings.length+" text segment(s)");ac(this,"expressions"),this.strings.forEach(function(t){if(typeof t!="string")throw new Error("strings must contain string")}),this.tag!=null&&Yt(this,"tag")}}),nn=re("Constant",null,{$documentation:"Base class for all constants",_equals:function(t){return this.value===t.value},_validate:function(){if(this.TYPE=="Constant")throw new Error("should not instantiate AST_Constant")}}),wt=re("String","quote value",{$documentation:"A string literal",$propdoc:{quote:"[string?] the original quote character",value:"[string] the contents of this string"},_validate:function(){if(this.quote!=null){if(typeof this.quote!="string")throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if(typeof this.value!="string")throw new Error("value must be string")}},nn),dt=re("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if(typeof this.value!="number")throw new Error("value must be number");if(!isFinite(this.value))throw new Error("value must be finite");if(this.value<0)throw new Error("value cannot be negative")}},nn),fc=re("BigInt","value",{$documentation:"A BigInt literal",$propdoc:{value:"[string] the numeric representation"},_validate:function(){if(typeof this.value!="string")throw new Error("value must be string");if(this.value[0]=="-")throw new Error("value cannot be negative")}},nn),Ji=re("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_equals:function(t){return""+this.value==""+t.value},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},nn),Js=re("Atom",null,{$documentation:"Base class for atoms",_equals:m,_validate:function(){if(this.TYPE=="Atom")throw new Error("should not instantiate AST_Atom")}},nn),Nr=re("Null",null,{$documentation:"The `null` atom",value:null},Js),sa=re("NaN",null,{$documentation:"The impossible value",value:NaN},Js),an=re("Undefined",null,{$documentation:"The `undefined` value",value:void 0},Js),Bn=re("Hole",null,{$documentation:"A hole in an array",value:void 0},Js),fs=re("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},Js),oa=re("Boolean",null,{$documentation:"Base class for booleans",_validate:function(){if(this.TYPE=="Boolean")throw new Error("should not instantiate AST_Boolean")}},Js),Gr=re("False",null,{$documentation:"The `false` atom",value:!1},oa),us=re("True",null,{$documentation:"The `true` atom",value:!0},oa);function rt(t){this.callback=t,this.directives=Object.create(null),this.stack=[]}function Gn(t,s){rt.call(this),this.before=t,this.after=s}function ui(t,s){return C(t,function(l){return l.transform(s,!0)})}function cp(t,s){t.argnames=ui(t.argnames,s),t.rest&&(t.rest=t.rest.transform(s)),t.value?t.value=t.value.transform(s):t.body=ui(t.body,s)}rt.prototype={visit:function(t,s){this.push(t),!this.callback(t,s||f)&&s&&s(),this.pop()},parent:function(t){return this.stack[this.stack.length-2-(t||0)]},push:function(t){var s;t instanceof En?(this.directives=Object.create(this.directives),s="use strict"):t instanceof vn?s=t.value:t instanceof ht&&(this.directives=Object.create(this.directives)),s&&!this.directives[s]&&(this.directives[s]=t),this.stack.push(t)},pop:function(){var t=this.stack.pop();(t instanceof En||t instanceof ht)&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(t){for(var s=this.stack,l=s.length-1;0<=--l;){var u=s[l];if(u instanceof t)return u}},has_directive:function(t){var s=this.directives[t];if(s)return s;var l=this.stack[this.stack.length-1];if(l instanceof nt)for(var u=0;u<l.body.length;++u){var h=l.body[u];if(!(h instanceof vn))break;if(h.value==t)return h}},loopcontrol_target:function(t){var s,l=this.stack;if(t.label){for(var u=l.length;0<=--u;)if((s=l[u])instanceof ti&&s.label.name==t.label.name)return s.body}else for(u=l.length;0<=--u;)if((s=l[u])instanceof Ei||t instanceof rr&&s instanceof Oi)return s},in_boolean_context:function(){for(var t,s=!0,l=0,u=this.self();t=this.parent(l++);u=t){if(t instanceof he)switch(t.operator){case"&&":case"||":t.left===u&&(s=!1);continue;default:return!1}if(!(t instanceof lt)){if(t instanceof bo||t instanceof Tn||t instanceof Zt)return t.condition===u;if(t instanceof Nt){if(t.in_bool)return!0;for(;t=this.parent(l++);)if(t instanceof ht){if(t.name||(t=this.parent(l++)).TYPE!="Call")return!1;break}}if(t instanceof Ke){if(t.tail_node()===u)continue;return!s||"d"}return t instanceof Re?!s||"d":t instanceof Ve&&t.operator=="!"}if(t.condition===u)return!0}}},Gn.prototype=new rt,(Ie=function(t,s){t.DEFMETHOD("transform",function(l,u){var h;return l.push(this),(h=l.before?l.before(this,s,u):h)===void 0&&(s(h=this,l),l.after)&&(u=l.after(h,u))!==void 0&&(h=u),l.pop(),h})})(V,f),Ie(ti,function(t,s){t.label=t.label.transform(s),t.body=t.body.transform(s)}),Ie(Re,function(t,s){t.body=t.body.transform(s)}),Ie(ei,function(t,s){t.body=ui(t.body,s)}),Ie(os,function(t,s){t.body=t.body.transform(s),t.condition=t.condition.transform(s)}),Ie(Ns,function(t,s){t.condition=t.condition.transform(s),t.body=t.body.transform(s)}),Ie(Tn,function(t,s){t.init&&(t.init=t.init.transform(s)),t.condition&&(t.condition=t.condition.transform(s)),t.step&&(t.step=t.step.transform(s)),t.body=t.body.transform(s)}),Ie(Vn,function(t,s){t.init=t.init.transform(s),t.object=t.object.transform(s),t.body=t.body.transform(s)}),Ie(Dr,function(t,s){t.expression=t.expression.transform(s),t.body=t.body.transform(s)}),Ie(Ln,function(t,s){t.value&&(t.value=t.value.transform(s))}),Ie(Vr,function(t,s){t.label&&(t.label=t.label.transform(s))}),Ie(Zt,function(t,s){t.condition=t.condition.transform(s),t.body=t.body.transform(s),t.alternative&&(t.alternative=t.alternative.transform(s))}),Ie(Oi,function(t,s){t.expression=t.expression.transform(s),t.body=ui(t.body,s)}),Ie(sr,function(t,s){t.expression=t.expression.transform(s),t.body=ui(t.body,s)}),Ie(ni,function(t,s){t.body=ui(t.body,s),t.bcatch&&(t.bcatch=t.bcatch.transform(s)),t.bfinally&&(t.bfinally=t.bfinally.transform(s))}),Ie(Ni,function(t,s){t.argname&&(t.argname=t.argname.transform(s)),t.body=ui(t.body,s)}),Ie(fn,function(t,s){t.definitions=ui(t.definitions,s)}),Ie(Wt,function(t,s){t.name=t.name.transform(s),t.value&&(t.value=t.value.transform(s))}),Ie(Ct,function(t,s){t.name=t.name.transform(s),t.value=t.value.transform(s)}),Ie(ht,function(t,s){t.name&&(t.name=t.name.transform(s)),t.argnames=ui(t.argnames,s),t.rest&&(t.rest=t.rest.transform(s)),t.body=ui(t.body,s)}),Ie(Bi,cp),Ie(mr,cp),Ie(En,function(t,s){t.name&&(t.name=t.name.transform(s)),t.extends&&(t.extends=t.extends.transform(s)),t.properties=ui(t.properties,s)}),Ie(ir,function(t,s){t.key instanceof V&&(t.key=t.key.transform(s)),t.value&&(t.value=t.value.transform(s))}),Ie(ot,function(t,s){t.expression=t.expression.transform(s),t.args=ui(t.args,s)}),Ie(Ke,function(t,s){t.expressions=ui(t.expressions,s)}),Ie(pn,function(t,s){t.expression=t.expression.transform(s)}),Ie(yi,function(t,s){t.expression&&(t.expression=t.expression.transform(s))}),Ie(Lt,function(t,s){t.expression=t.expression.transform(s)}),Ie(Kt,function(t,s){t.expression=t.expression.transform(s),t.property=t.property.transform(s)}),Ie(Qt,function(t,s){t.expression=t.expression.transform(s)}),Ie(en,function(t,s){t.expression=t.expression.transform(s)}),Ie(he,function(t,s){t.left=t.left.transform(s),t.right=t.right.transform(s)}),Ie(lt,function(t,s){t.condition=t.condition.transform(s),t.consequent=t.consequent.transform(s),t.alternative=t.alternative.transform(s)}),Ie(yt,function(t,s){t.elements=ui(t.elements,s)}),Ie(wn,function(t,s){t.elements=ui(t.elements,s),t.rest&&(t.rest=t.rest.transform(s))}),Ie(An,function(t,s){t.key instanceof V&&(t.key=t.key.transform(s)),t.value=t.value.transform(s)}),Ie(si,function(t,s){t.properties=ui(t.properties,s),t.rest&&(t.rest=t.rest.transform(s))}),Ie(tn,function(t,s){t.properties=ui(t.properties,s)}),Ie(Qi,function(t,s){t.key instanceof V&&(t.key=t.key.transform(s)),t.value=t.value.transform(s)}),Ie(vi,function(t,s){t.body=t.body.transform(s)}),Ie(Ai,function(t,s){t.body=t.body.transform(s)}),Ie(_o,function(t,s){t.properties=ui(t.properties,s)}),Ie(ea,function(t,s){t.all&&(t.all=t.all.transform(s)),t.default&&(t.default=t.default.transform(s)),t.properties&&(t.properties=ui(t.properties,s))}),Ie(Dn,function(t,s){t.tag&&(t.tag=t.tag.transform(s)),t.expressions=ui(t.expressions,s)});var So=["abstract async await boolean byte char double enum export final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield",bu="false null true",el="break case catch class const continue debugger default delete do else extends finally for function if in instanceof new return switch throw try typeof var void while with"].join(" "),yu="return new delete throw else case",el=Ee(el),So=Ee(So),yu=Ee(yu),bu=Ee(bu),Jy=/^0b([01]+)$/i,Ky=/^0x([0-9a-f]+)$/i,eb=/^0o?([0-7]+)$/i,fp=Ee(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%","**",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=","**=",">>=","<<=",">>>=","&=","|=","^=","&&","||","??","&&=","||=","??="]),Qo=`
\r\u2028\u2029`,uc="+-*&%=<>!?|~^",wu=",;:)}]",hc="[{(,;:",dc=hc+"`)}]",pc=Qo+" \xA0	\f\v\u200B\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\uFEFF",up=Ee(e(`./'"#`+uc+dc+pc));function hp(t){return 56320<=t&&t<=57343}function dp(t){return 48<=t&&t<=57}function mc(t){return!up[t]}function aa(t){return/^[a-z_$][a-z0-9_$]*$/i.test(t)}function pp(t){switch(t[0]){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"u":if(t[1]=="{"&&t.slice(-1)=="}")s=t.slice(2,-1);else{if(t.length!=5)return;s=t.slice(1)}return(s=parseInt(s,16))<0||isNaN(s)?void 0:s<65536?String.fromCharCode(s):1114111<s?void 0:String.fromCharCode(55232+(s>>10))+String.fromCharCode(56320+(1023&s));case"v":return"\v";case"x":var s;return t.length!=3||(s=parseInt(t.slice(1),16))<0||isNaN(s)?void 0:String.fromCharCode(s);case"\r":case`
`:return"";default:return t=="0"?"\0":"0"<=t[0]&&t[0]<="9"?void 0:t}}function tl(t,s,l,u,h){this.message=t,this.filename=s,this.line=l,this.col=u,this.pos=h}function xu(t,s,l,u,h){throw new tl(t,s,l,u,h)}function $i(t,s,l){return t.type==s&&(l==null||t.value==l)}Qo=Ee(e(Qo)),uc=Ee(e(uc)),wu=Ee(e(wu)),hc=Ee(e(hc)),dc=Ee(e(dc)),pc=Ee(e(pc)),((tl.prototype=Object.create(Error.prototype)).constructor=tl).prototype.name="SyntaxError",o(tl);var _u={};function tb(t,s,l,u){var h={text:t,filename:s,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:Object.create(null),read_template:q("Unterminated template literal",function(j){for(var Y="";;){var U=de();switch(U){case"\\":U+=de();break;case"`":return void j.push(Y);case"$":if(g()=="{")return v(),j.push(Y),h.regex_allowed=!0}Y+=U}function de(){var I=v(!0,!0);return I=="\r"?`
`:I}})},p=!1;function g(){return h.text.charAt(h.pos)}function v(j,Y){var U=h.text.charAt(h.pos++);if(j&&!U)throw _u;return Qo[U]?(h.col=0,h.line++,Y||(h.newline_before=!0),U=="\r"&&g()==`
`&&(h.pos++,U=`
`)):h.col++,U}function x(j){for(;0<j--;)v()}function E(j){return h.text.substr(h.pos,j.length)==j}function w(){h.tokline=h.line,h.tokcol=h.col,h.tokpos=h.pos}function T(j,Y,U){return h.regex_allowed=j=="operator"&&!$o[Y]||j=="keyword"&&yu[Y]||j=="punc"&&hc[Y],j=="punc"&&Y=="."?p=!0:U||(p=!1),Y={type:j,value:Y,line:h.tokline,col:h.tokcol,pos:h.tokpos,endline:h.line,endcol:h.col,endpos:h.pos,nlb:h.newline_before,file:s},/^(?:num|string|regexp)$/i.test(j)&&(Y.raw=t.substring(Y.pos,Y.endpos)),U||(Y.comments_before=h.comments_before,Y.comments_after=h.comments_before=[]),h.newline_before=!1,new Rt(Y)}function k(j){xu(j,s,h.tokline,h.tokcol,h.tokpos)}function S(j){return/^0[0-7_]+$/.test(j)}function D(ke){var Y,U=!1,de=!1,I=!1,A=ke==".",ce=function(Qe){for(var Se,oe="";(Se=g())&&Qe(Se,oe);)oe+=v();return oe}(function(Qe,Se){switch(Qe){case"x":case"X":return!I&&(I=!0);case"e":case"E":return I||!U&&(U=de=!0);case"+":case"-":return de;case(de=!1,"."):return!(A||U||I||S(Se))&&(A=!0)}return/[_0-9a-dfo]/i.test(Qe)}),ke=(S(ce=ke?ke+ce:ce)?se.has_directive("use strict")&&k("Legacy octal literals are not allowed in strict mode"):ce=ce.replace(I?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1"),ke=ce,(Y=Jy.exec(ke))?parseInt(Y[1],2):(Y=Ky.exec(ke))?parseInt(Y[1],16):(Y=eb.exec(ke))?parseInt(Y[1],8):(Y=parseFloat(ke))==ke?Y:void 0);return isNaN(ke)&&k("Invalid syntax: "+ce),A||U||g()!="n"?T("num",ke):T("bigint",ce.toLowerCase()+v())}function Z(j){var Y,U=v(!0,j);if("0"<=U&&U<="7")return Y=U,"0"<=(I=g())&&I<="7"&&(Y+=v(!0))[0]<="3"&&"0"<=(I=g())&&I<="7"&&(Y+=v(!0)),Y==="0"?"\0":(0<Y.length&&se.has_directive("use strict")&&k("Legacy octal escape sequences are not allowed in strict mode"),String.fromCharCode(parseInt(Y,8)));if(U=="u"){var de=v(!0,j);if(U+=de,de!="{")U+=v(!0,j)+v(!0,j)+v(!0,j);else for(;U+=de=v(!0,j),de!="}";);}else U=="x"&&(U+=v(!0,j)+v(!0,j));var I=pp(U);return typeof I!="string"&&k("Invalid escape sequence: \\"+U),I}var G=q("Unterminated string constant",function(j){for(var Y=v(),U="";;){var de=v(!0,!0);if(de=="\\")de=Z(!0);else if(Qo[de])k("Unterminated string constant");else if(de==Y)break;U+=de}var I=T("string",U);return I.quote=j,I});function pe(j){var Y,U=h.regex_allowed,de=function(){for(var I=h.text,A=h.pos;A<h.text.length;++A)if(Qo[I[A]])return A;return-1}();return de==-1?(Y=h.text.substr(h.pos),h.pos=h.text.length):(Y=h.text.substring(h.pos,de),h.pos=de),h.col=h.tokcol+(h.pos-h.tokpos),h.comments_before.push(T(j,Y,!0)),h.regex_allowed=U,se}var ne=q("Unterminated multiline comment",function(){var j=h.regex_allowed,Y=function(U,de){if(U=h.text.indexOf(U,h.pos),de&&U==-1)throw _u;return U}("*/",!0),Y=h.text.substring(h.pos,Y).replace(/\r\n|\r|\u2028|\u2029/g,`
`);return x(Y.length+2),h.comments_before.push(T("comment2",Y,!0)),h.regex_allowed=j,se});function ie(){for(var j,Y,U=!1,de=!1,I=g()=="#"?v():"";j=g();)if(U)j!="u"&&k("Expecting UnicodeEscapeSequence -- uXXXX"),mc(j=Z())||k("Unicode char: "+j.charCodeAt(0)+" is not valid in identifier"),I+=j,U=!1;else if(j=="\\")de=U=!0,v();else{if(!mc(j))break;I+=v()}return el[I]&&de&&(Y=I.charCodeAt(0).toString(16).toUpperCase(),I="\\u"+"0000".substr(Y.length)+Y+I.slice(1)),I}var Ce=q("Unterminated regular expression",function(j){for(var Y,U=!1,de=!1;Y=v(!0);)if(Qo[Y])k("Unexpected line terminator");else if(U)j+="\\"+Y,U=!1;else if(Y=="[")de=!0,j+=Y;else if(Y=="]"&&de)de=!1,j+=Y;else{if(Y=="/"&&!de)break;Y=="\\"?U=!0:j+=Y}var I=ie();try{var A=new RegExp(j,I);return A.raw_source=j,T("regexp",A)}catch(ce){k(ce.message)}});function R(j){return T("operator",function Y(U){var de;return g()&&(de=U+g(),fp[de])?(v(),Y(de)):U}(j||v()))}function q(j,Y){return function(U){try{return Y(U)}catch(de){if(de!==_u)throw de;k(j)}}}function se(j){if(j!=null)return Ce(j);for(u&&h.pos==0&&E("#!")&&(w(),x(2),pe("comment5"));;){for(;pc[g()];)v();if(w(),l){if(E("<!--")){x(4),pe("comment3");continue}if(E("-->")&&h.newline_before){x(3),pe("comment4");continue}}var Y=g();if(!Y)return T("eof");var U=Y.charCodeAt(0);switch(U){case 34:case 39:return G(Y);case 46:return v(),E("..")?T("operator","."+v()+v()):dp(g().charCodeAt(0))?D("."):T("punc",".");case 47:var de=function(){switch(v(),g()){case"/":return v(),pe("comment1");case"*":return v(),ne()}return h.regex_allowed?Ce(""):R("/")}();if(de===se)continue;return de}if(dp(U))return D();if(dc[Y])return T("punc",v());if(E("=>"))return T("punc",v()+v());if(uc[Y])return R();if(U!=35&&U!=92&&up[Y])break;return U=void 0,U=ie(),p?T("name",U):bu[U]?T("atom",U):el[U]?fp[U]?T("operator",U):T("keyword",U):T("name",U)}k("Unexpected character '"+Y+"'")}return se.context=function(j){return h=j||h},se.add_directive=function(j){h.directives[j]=!0},se.push_directives_stack=function(){h.directives=Object.create(h.directives)},se.pop_directives_stack=function(){h.directives=Object.getPrototypeOf(h.directives)},se.has_directive=function(j){return!!h.directives[j]},se}var nb=Ee("typeof void delete -- ++ ! ~ - +"),$o=Ee("-- ++"),ib=Ee("= += -= /= *= %= **= >>= <<= >>>= &= |= ^= &&= ||= ??="),wr=function(t,s){for(var l=0;l<t.length;)for(var u=t[l++],h=0;h<u.length;h++)s[u[h]]=l;return s}([["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),rb=Ee("atom bigint num regexp string");function la(Rn,s){s=c(s,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,module:!1,shebang:!0,strict:!1,toplevel:null},!0);var l={input:typeof Rn=="string"?tb(Rn,s.filename,s.html5_comments,s.shebang):Rn,in_async:!1,in_directives:!0,in_funarg:-1,in_function:0,in_generator:!1,in_loop:0,labels:[],peeked:null,prev:null,token:null};function u(M,me){return $i(l.token,M,me)}function h(){return l.peeked||(l.peeked=l.input())}function p(){return l.prev=l.token,l.peeked?(l.token=l.peeked,l.peeked=null):l.token=l.input(),l.in_directives=l.in_directives&&(l.token.type=="string"||u("punc",";")),l.token}function g(){return l.prev}function v(M,me,H,ye){var Pe=l.input.context();xu(M,Pe.filename,me!=null?me:Pe.tokline,H!=null?H:Pe.tokcol,ye!=null?ye:Pe.tokpos)}function x(M,me){v(me,M.line,M.col)}function E(M,me){return M+(me===void 0?"":" \xAB"+me+"\xBB")}function w(M){x(M=M==null?l.token:M,"Unexpected token: "+E(M.type,M.value))}function T(M,me){if(u(M,me))return p();x(l.token,"Unexpected token: "+E(l.token.type,l.token.value)+", expected: "+E(M,me))}function k(M){T("punc",M)}function S(M){return M.nlb||!le(M.comments_before,function(me){return!me.nlb})}function D(){return!s.strict&&(u("eof")||u("punc","}")||S(l.token))}function Z(M){u("punc",";")?p():M||D()||k(";")}function G(){k("(");var M=mt();return k(")"),M}function pe(M){return function(){var me=l.token,H=M.apply(null,arguments),ye=g();return H.start=me,H.end=ye,H}}function ne(){(u("operator","/")||u("operator","/="))&&(l.peeked=null,l.token=l.input(l.token.value.substr(1)))}l.token=p();var ie=pe(function(M){switch(ne(),l.token.type){case"string":var me=l.in_directives,H=mt();return me&&(H instanceof wt?(Cn=H.start.raw.slice(1,-1),l.input.add_directive(Cn),H.value=Cn):l.in_directives=me=!1),Z(),me?new vn(H):new Re({body:H});case"num":case"bigint":case"regexp":case"operator":case"atom":return Ce();case"name":switch(l.token.value){case"async":if($i(h(),"keyword","function"))return p(),p(),u("operator","*")?(p(),U(Ir)):U(as);break;case"await":if(l.in_async)return Ce();break;case"export":if(M||s.module===""||w(),p(),u("operator","*"))return ft=ct=l.token,p(),u("name","as")&&(p(),de()||T("name"),ft=l.token,p()),T("name","from"),new Ko({aliases:[I(ft)],keys:[I(ct)],path:A()});if(u("punc","{")){p();for(var ye=[],Pe=[];de();){var ct=l.token;p(),Pe.push(ct),u("name","as")?(p(),de()||T("name"),ye.push(l.token),p()):ye.push(ct),u("punc","}")||k(",")}return k("}"),u("name","from")?(p(),new Ko({aliases:ye.map(I),keys:Pe.map(I),path:A()})):(Z(),new _o({properties:Pe.map(function(Oe,J){return $i(Oe,"name")||x(Oe,"Name expected"),Oe=B(ia,Oe),Oe.alias=I(ye[J]),Oe})}))}return u("keyword","default")?(p(),ft=l.token,(Vt=function(){if(u("name","async")){if($i(h(),"keyword","function"))return p(),p(),u("operator","*")?(p(),ce(Ir,U(Fi))):ce(as,U(gr))}else if(u("keyword"))switch(l.token.value){case"class":return p(),ce(gi,se(Zr));case"function":return p(),u("operator","*")?(p(),ce(Es,U(Or))):ce(Yi,U(Pn))}}())?(Vt.start=ft,Vt.end=g()):(ne(),Vt=mt(),Z()),new Ai({body:Vt})):new vi({body:ke()});case"import":var ft=h();if(ft.type=="punc"&&/^[(.]$/.test(ft.value))break;M||s.module===""||w(),p();var be,Je,Vt=null,Pt=ee(or,!0),Xt=null;if(Pt?(Pt.key=new wt({start:Pt.start,value:"",end:Pt.end}),(be=u("punc",","))&&p()):be=!u("string"),be)if(u("operator","*")){var zt=l.token;p(),T("name","as"),(Vt=ee(or)).key=I(zt)}else{for(k("{"),Xt=[];de();)$i(h(),"name","as")?(zt=l.token,p(),p(),(Je=ee(or)).key=I(zt)):(Je=ee(or)).key=new wt({start:Je.start,value:Je.name,end:Je.end}),Xt.push(Je),u("punc","}")||k(",");k("}")}return(Vt||Pt||Xt)&&T("name","from"),new ea({all:Vt,default:Pt,path:A(),properties:Xt});case"let":if(Te())return p(),Un=St(),Z(),Un;break;case"yield":if(l.in_generator)return Ce()}return($i(h(),"punc",":")?function(){var Oe=ee(na);le(l.labels,function(Ze){return Ze.name!=Oe.name})||v("Label "+Oe.name+" defined twice"),k(":"),l.labels.push(Oe);var J=ie();return l.labels.pop(),J instanceof Ei||Oe.references.forEach(function(Ze){Ze instanceof Ds&&x(Ze.label.start,"Continue label `"+Oe.name+"` must refer to IterationStatement")}),new ti({body:J,label:Oe})}:Ce)();case"punc":switch(l.token.value){case"{":return new Be({start:l.token,body:Qe(),end:g()});case"[":case"(":case"`":return Ce();case";":return l.in_directives=!1,p(),new _t;default:w()}case"keyword":switch(l.token.value){case"break":return p(),R(rr);case"class":return p(),se(gi);case"const":p();var Un=tt();return Z(),Un;case"continue":return p(),R(Ds);case"debugger":return p(),Z(),new In;case"do":p();var H=ut(ie),Sn=(T("keyword","while"),G());return Z(!0),new os({body:H,condition:Sn});case"while":return p(),new Ns({condition:G(),body:ut(ie)});case"for":p();var Sn=u("name","await")&&p(),ai=(k("("),null);if(!Sn&&u("punc",";")||(ai=(u("keyword","const")?(p(),tt):u("name","let")&&Te()?(p(),St):u("keyword","var")?(p(),At):mt)(!0),Sn?(T("name","of"),kr=Jo):u("operator","in")?(p(),kr=wo):u("name","of")&&(p(),kr=Ho),!kr))return Ui=ai,k(";"),es=u("punc",";")?null:mt(),k(";"),ms=u("punc",")")?null:mt(),k(")"),new Tn({init:Ui,condition:es,step:ms,body:ut(ie)});ai instanceof fn?(1<ai.definitions.length&&x(ai.start,"Only one variable declaration allowed in for..in/of loop"),kr!==wo&&ai.definitions[0].value&&x(ai.definitions[0].value.start,"No initializers allowed in for..of loop")):We(ai)||(ai=vt(ai))instanceof Tt||x(ai.start,"Invalid left-hand side in for..in/of loop");var Ui=kr,es=ai,ms=(ne(),mt());return k(")"),new Ui({init:es,object:ms,body:ut(ie)});case"function":return p(),u("operator","*")?(p(),U(Es)):U(Yi);case"if":p();var kr=G(),ai=ie(),Pi=null;return u("keyword","else")&&(p(),Pi=ie()),new Zt({condition:kr,body:ai,alternative:Pi});case"return":l.in_function!=0||s.bare_returns||v("'return' outside of function"),p();var Cn=null;return u("punc",";")?p():D()||(Cn=mt(),Z()),new Nt({value:Cn});case"switch":return p(),new Oi({expression:G(),body:ut(Se)});case"throw":return p(),S(l.token)&&v("Illegal newline after 'throw'"),Cn=mt(),Z(),new Ha({value:Cn});case"try":p();var Sr,Qr,Pi=Qe(),_=null,N=null;return u("keyword","catch")&&(Qr=l.token,p(),Sr=null,u("punc","(")&&(p(),Sr=ve(Gi),k(")")),_=new Ni({start:Qr,argname:Sr,body:Qe(),end:g()})),u("keyword","finally")&&(Qr=l.token,p(),N=new Gs({start:Qr,body:Qe(),end:g()})),_||N||v("Missing catch/finally blocks"),new ni({body:Pi,bcatch:_,bfinally:N});case"var":return p(),Un=At(),Z(),Un;case"with":return l.input.has_directive("use strict")&&v("Strict mode may not include a with statement"),p(),new Dr({expression:G(),body:ie()})}}w()});function Ce(){var M=mt();return Z(),new Re({body:M})}function R(ye){var me,H=null,ye=((H=D()?H:ee(cc,!0))!=null?((me=i(function(Pe){return Pe.name==H.name},l.labels))||x(H.start,"Undefined label "+H.name),H.thedef=me):l.in_loop==0&&v(ye.TYPE+" not inside a loop or switch"),Z(),new ye({label:H}));return me&&me.references.push(ye),ye}function q(M,me){if(u("name",M)&&(M=h(),M&&!$i(M,"operator","=")&&!(M.type=="punc"&&/^[(;}]$/.test(M.value)||me&&S(M))))return p()}function se(M){for(var me,H=l.in_async,ye=l.in_generator,Pe=(l.input.push_directives_stack(),l.input.add_directive("use strict"),me=M===gi?ee(Ja):ee(ta,!0),null),ct=(u("keyword","extends")&&(p(),ne(),Pe=Ue(!0)),k("{"),[]);!u("punc","}");)if(u("punc",";"))p();else{var ft=l.token,be=!!q("static"),Je=q("async",!0);if(u("operator","*")){p();var Vt=u("name")&&/^#/.test(l.token.value),Pt=z(),Xt=l.token,zt=U(Je?Fi:Or);zt.start=Xt,zt.end=g(),ct.push(new xo({start:ft,static:be,private:Vt,key:Pt,value:zt,end:g()}))}else if(be&&u("punc","{"))ct.push(new As({start:ft,value:new oc({start:ft,body:Qe(),end:g()}),end:g()}));else if(Vt=u("name")&&/^#/.test(l.token.value),Pt=z(),u("punc","("))Xt=l.token,zt=U(Je?gr:Pn),zt.start=Xt,zt.end=g(),ct.push(new xo({start:ft,static:be,private:Vt,key:Pt,value:zt,end:g()}));else{if(Je&&w(Je),Je=null,u("operator","="))p(),l.in_async=!1,l.in_generator=!1,Je=st(),l.in_generator=ye,l.in_async=H;else if(!u("punc",";")&&!u("punc","}")){var Un=null;switch(Pt){case"get":Un=Fa;break;case"set":Un=Na}if(Un){ct.push(new Un({start:ft,static:be,private:u("name")&&/^#/.test(l.token.value),key:z(),value:L(),end:g()}));continue}}Z(),ct.push(new ls({start:ft,static:be,private:Vt,key:Pt,value:Je,end:g()}))}}return p(),l.input.pop_directives_stack(),l.in_generator=ye,l.in_async=H,new M({extends:Pe,name:me,properties:ct})}function j(M){var me;return M instanceof yt?(me=null,M.elements[M.elements.length-1]instanceof Qt&&(me=j(M.elements.pop().expression)),new wn({start:M.start,elements:M.elements.map(j),rest:me,end:M.end})):M instanceof Ye?new Ct({start:M.start,name:j(M.left),value:M.right,end:M.end}):M instanceof Ct?(M.name=j(M.name),M):M instanceof wn?(M.elements=M.elements.map(j),M.rest&&(M.rest=j(M.rest)),M):M instanceof si?(M.properties.forEach(function(H){H.value=j(H.value)}),M.rest&&(M.rest=j(M.rest)),M):M instanceof Bn?M:M instanceof tn?(me=null,M.properties[M.properties.length-1]instanceof Qt&&(me=j(M.properties.pop().expression)),new si({start:M.start,properties:M.properties.map(function(H){return H instanceof ii||x(H.start,"Invalid destructuring assignment"),new An({start:H.start,key:H.key,value:j(H.value),end:H.end})}),rest:me,end:M.end})):M instanceof $t?M:M instanceof K?new $t(M):M instanceof yi?new $t({start:M.start,name:"yield",end:M.end}):void x(M.start,"Invalid arrow parameter")}function Y(Je,me,H){var ye,Pe,ct=l.in_async,ft=l.in_generator,Xt=(l.in_async=H,l.in_generator=!1,l.in_funarg),be=(l.in_funarg=l.in_function,Je.map(j)),Je=(Je=Je.rest||null)&&j(Je),Xt=(l.in_funarg=Xt,k("=>"),l.in_loop),Vt=l.labels,Pt=(++l.in_function,l.input.push_directives_stack(),l.in_loop=0,l.labels=[],Pe=u("punc","{")?(l.in_directives=!0,ye=Qe(),null):(ye=[],ne(),st()),l.input.has_directive("use strict")),Xt=(l.input.pop_directives_stack(),--l.in_function,l.in_loop=Xt,l.labels=Vt,l.in_generator=ft,l.in_async=ct,new(H?mr:Bi)({start:me,argnames:be,rest:Je,body:ye,value:Pe,end:g()}));return Pt&&Xt.each_argname(F),Xt}var U=function(M){var me,H=l.in_async,ye=l.in_generator,Je=(/Defun$/.test(M.TYPE)?(me=ee(br),l.in_async=/^Async/.test(M.TYPE),l.in_generator=/Generator/.test(M.TYPE)):(l.in_async=/^Async/.test(M.TYPE),l.in_generator=/Generator/.test(M.TYPE),me=ee(fi,!0)),!me||M===Vi||me instanceof hn||w(g()),k("("),l.in_funarg),Pe=(l.in_funarg=l.in_function,It(")",!s.strict,!1,function(){return ue($t)})),Je=(l.in_funarg=Je,l.in_loop),ct=l.labels,ft=(++l.in_function,l.in_directives=!0,l.input.push_directives_stack(),l.in_loop=0,l.labels=[],Qe()),be=l.input.has_directive("use strict"),Je=(l.input.pop_directives_stack(),--l.in_function,l.in_loop=Je,l.labels=ct,l.in_generator=ye,l.in_async=H,new M({name:me,argnames:Pe,rest:Pe.rest||null,body:ft}));return be&&(me&&F(me),Je.each_argname(F)),Je};function de(){return u("name")||u("string")||aa(l.token.value)}function I(M){return new wt({start:M,quote:M.quote,value:M.value,end:M})}function A(){var M=l.token;return T("string"),Z(),I(M)}function ce(M,me){return me.name&&((me=new M(me)).name=new(M===gi?Ja:br)(me.name)),me}var ke=pe(function(){if(u("name"))switch(l.token.value){case"async":return p(),T("keyword","function"),u("operator","*")?(p(),U(Ir)):U(as);case"let":p();var M=St();return Z(),M}else if(u("keyword"))switch(l.token.value){case"class":return p(),se(gi);case"const":return p(),M=tt(),Z(),M;case"function":return p(),u("operator","*")?(p(),U(Es)):U(Yi);case"var":return p(),M=At(),Z(),M}w()});function Qe(){k("{");for(var M=[];!u("punc","}");)u("eof")&&k("}"),M.push(ie());return p(),M}function Se(){k("{");for(var M,me,H,ye,Pe=[];!u("punc","}");)u("eof")&&k("}"),u("keyword","case")?(M&&(M.end=g()),me=[],M=new sr({start:(ye=l.token,p(),ye),expression:mt(),body:me}),Pe.push(M),k(":")):u("keyword","default")?(M&&(M.end=g()),H&&v("More than one default clause in switch statement"),me=[],M=new cs({start:(ye=l.token,p(),k(":"),ye),body:me}),Pe.push(M),H=M):(me||w(),me.push(ie()));return M&&(M.end=g()),p(),Pe}function oe(M,me){for(var H=[];;){var ye=l.token,Pe=ve(M),ct=null;if(u("operator","=")?(p(),ct=st(me)):!me&&(M===ci||Pe instanceof Tt)&&v("Missing initializer in declaration"),H.push(new Wt({start:ye,name:Pe,value:ct,end:g()})),!u("punc",","))break;p()}return H}function Te(){var M=h();return $i(M,"name")||$i(M,"punc","[")||$i(M,"punc","{")}var tt=function(M){return new Lr({start:g(),definitions:oe(ci,M),end:g()})},St=function(M){return new yr({start:g(),definitions:oe(Fr,M),end:g()})},At=function(M){return new un({start:g(),definitions:oe(oi,M),end:g()})},Ue=function(M){if(u("operator","new"))return me=M,be=l.token,T("operator","new"),(Je=u("punc",".")&&$i(h(),"name","target")?(p(),p(),new Ka):(Je=Ue(!1),Vt=u("punc","(")?(p(),It(")",!s.strict)):[],new Si({expression:Je,args:Vt}))).start=be,Je.end=g(),ze(Je,me);var me,H,ye,Pe=l.token;if(u("punc")){switch(Pe.value){case"`":return ze(De(null),M);case"(":return p(),u("punc",")")?(p(),Y([],Pe)):(H=mt(!1,!0),ye=Pe.comments_before.length,[].unshift.apply(H.start.comments_before,Pe.comments_before),Pe.comments_before.length=0,Pe.comments_before=H.start.comments_before,(Pe.comments_before_length=ye)==0&&0<Pe.comments_before.length&&((ye=Pe.comments_before[0]).nlb||(ye.nlb=Pe.nlb,Pe.nlb=!1)),Pe.comments_after=H.start.comments_after,H.start=Pe,k(")"),(ye=g()).comments_before=H.end.comments_before,ye.comments_after.forEach(function(Pt){H.end.comments_after.push(Pt),Pt.nlb&&(l.token.nlb=!0)}),ye.comments_after.length=0,ye.comments_after=H.end.comments_after,H.end=ye,u("punc","=>")?Y(H instanceof Ke?H.expressions:[H],Pe):ze(H,M));case"[":return ze(Q(),M);case"{":return ze(Le(),M)}w()}if(u("keyword"))switch(Pe.value){case"class":p();var ct=se(Zr);return ct.start=Pe,ct.end=g(),ze(ct,M);case"function":return p(),(ft=u("operator","*")?(p(),U(Or)):U(Pn)).start=Pe,ft.end=g(),ze(ft,M)}if(u("name")){var ft,be,Je,Vt=B(K,Pe);if(p(),Vt.name=="async"){if(u("keyword","function"))return p(),(ft=u("operator","*")?(p(),U(Fi)):U(gr)).start=Pe,ft.end=g(),ze(ft,M);if(u("name")&&$i(h(),"punc","=>"))return Pe=l.token,Vt=B(K,Pe),p(),Y([Vt],Pe,!0);if(u("punc","("))return be=ze(Vt,M),u("punc","=>")?((Je=be.args)[Je.length-1]instanceof Qt&&(Je.rest=Je.pop().expression),Y(Je,Pe,!0)):be}return u("punc","=>")?Y([Vt],Pe):ze(Vt,M)}if(rb[l.token.type])return ze(function(){var Pt,Xt=l.token,zt=Xt.value;switch(Xt.type){case"num":isFinite(zt)?Pt=new dt({value:zt}):(Pt=new fs,zt<0&&(Pt=new Ve({operator:"-",expression:Pt})));break;case"bigint":Pt=new fc({value:zt});break;case"string":Pt=new wt({value:zt,quote:Xt.quote});break;case"regexp":Pt=new Ji({value:zt});break;case"atom":switch(zt){case"false":Pt=new Gr;break;case"true":Pt=new us;break;case"null":Pt=new Nr;break;default:w()}break;default:w()}return p(),Pt.start=Pt.end=Xt,Pt}(),M);w()};function It(M,me,H,ye){ye=ye||st;for(var Pe=!0,ct=[];!u("punc",M)&&(Pe?Pe=!1:k(","),!me||!u("punc",M));)if(H&&u("punc",","))ct.push(new Bn({start:l.token,end:l.token}));else if(u("operator","...")){if(ye!==st){p(),ct.rest=ye(),ct.rest instanceof Ct&&x(ct.rest.start,"Invalid rest parameter");break}ct.push(new Qt({start:l.token,expression:(p(),ye()),end:g()}))}else ct.push(ye());return k(M),ct}var Q=pe(function(){return k("["),new yt({elements:It("]",!s.strict,!0)})}),L=pe(function(){return U(Vi)}),Le=pe(function(){k("{");for(var M=!0,me=[];!u("punc","}")&&(M?M=!1:k(","),s.strict||!u("punc","}"));){var H=l.token;if(u("operator","*")){p();var ye=z(),Pe=l.token,ct=U(Or);ct.start=Pe,ct.end=g(),me.push(new Zs({start:H,key:ye,value:ct,end:g()}))}else if(u("operator","..."))p(),me.push(new Qt({start:H,expression:st(),end:g()}));else if($i(h(),"operator","="))Pe=ee(K),p(),me.push(new ii({start:H,key:H.value,value:new Ye({start:H,left:Pe,operator:"=",right:st(),end:g()}),end:g()}));else if($i(h(),"punc",",")||$i(h(),"punc","}"))me.push(new ii({start:H,key:H.value,value:ee(K),end:g()}));else if(ye=z(),u("punc","(")){var ft=l.token;(be=U(Pn)).start=ft,be.end=g(),me.push(new Zs({start:H,key:ye,value:be,end:g()}))}else if(u("punc",":"))p(),me.push(new ii({start:H,key:ye,value:st(),end:g()}));else{if(H.type=="name")switch(ye){case"async":var be,Je=u("operator","*")&&p(),ft=(ye=z(),l.token);(be=U(Je?Fi:gr)).start=ft,be.end=g(),me.push(new Zs({start:H,key:ye,value:be,end:g()}));continue;case"get":me.push(new Hs({start:H,key:z(),value:L(),end:g()}));continue;case"set":me.push(new Ms({start:H,key:z(),value:L(),end:g()}));continue}w()}}return p(),new tn({properties:me})});function z(){var M=l.token;switch(M.type){case"operator":el[M.value]||w();case"num":case"string":case"name":case"keyword":case"atom":return p(),""+M.value;case"punc":k("[");var me=st();return k("]"),me;default:w()}}function B(M,me){var H=me.value;switch(H){case"await":l.in_async&&w(me);break;case"super":M=ko;break;case"this":M=ra;break;case"yield":l.in_generator&&w(me)}return new M({name:""+H,start:me,end:me})}function F(M){M.name!="arguments"&&M.name!="eval"&&M.name!="let"||x(M.start,"Unexpected "+M.name+" in strict mode")}function ee(M,me){return u("name")?(M=B(M,l.token),l.input.has_directive("use strict")&&M instanceof hn&&F(M),p(),M):(me||v("Name expected"),null)}function ve(M){var me,H=l.token;if(u("punc","["))return p(),me=It("]",!s.strict,!0,function(){return ue(M)}),new wn({start:H,elements:me,rest:me.rest||null,end:g()});if(u("punc","{")){p();for(var ye=!0,Pe=[],ct=null;!u("punc","}")&&(ye?ye=!1:k(","),s.strict||!u("punc","}"));){var ft=l.token;if(u("punc","[")||$i(h(),"punc",":")){var be=z();k(":"),Pe.push(new An({start:ft,key:be,value:ue(M),end:g()}))}else{if(u("operator","...")){p(),ct=ve(M);break}be=ee(M),u("operator","=")&&(p(),be=new Ct({start:be.start,name:be,value:st(),end:g()})),Pe.push(new An({start:ft,key:ft.value,value:be,end:g()}))}}return k("}"),new si({start:H,properties:Pe,rest:ct,end:g()})}return ee(M)}function ue(H){var me=l.token,H=ve(H);return u("operator","=")?(p(),new Ct({start:me,name:H,value:st(),end:g()})):H}function De(M){for(var me=M?M.start:l.token,H=l.input.context().read_template,ye=[],Pe=[];H(ye);)p(),Pe.push(mt()),u("punc","}")||w();return p(),new Dn({start:me,expressions:Pe,strings:ye,tag:M,end:g()})}function ze(M,me){for(var H=M.start,ye=null;;)if(u("operator","?")&&$i(h(),"punc",".")&&(p(),p(),ye=M),u("punc","[")){p();var Pe=mt();k("]"),M=new Kt({start:H,optional:ye===M,expression:M,property:Pe,end:g()})}else if(me&&u("punc","("))p(),M=new ot({start:H,optional:ye===M,expression:M,args:It(")",!s.strict),end:g()});else if(ye===M||u("punc","."))ye!==M&&p(),M=new Lt({start:H,optional:ye===M,expression:M,property:(Pe=void 0,Pe=l.token.value,T("name"),Pe),end:g()});else{if(!u("punc","`"))break;ye&&v("Invalid template on optional chain"),M=De(M)}if(ye&&(M.terminal=!0),M instanceof ot&&!M.pure){for(var ct=(H=M.start).comments_before,ft=Ae(H,"comments_before_length")?H.comments_before_length:ct.length;0<=--ft;)if(/[@#]__PURE__/.test(ct[ft].value)){M.pure=!0;break}}return M}function _e(M){var me,H,ye=l.token;if(l.in_async&&u("name","await"))return l.in_funarg===l.in_function&&v("Invalid use of await in function argument"),l.input.context().regex_allowed=!0,p(),new pn({start:ye,expression:_e(M),end:g()});if(l.in_generator&&u("name","yield"))return l.in_funarg===l.in_function&&v("Invalid use of yield in function argument"),l.input.context().regex_allowed=!0,p(),H=null,me=!1,u("operator","*")?(p(),H=st(M),me=!0):(u("punc")?wu[l.token.value]:D())||(H=st(M)),new yi({start:ye,expression:H,nested:me,end:g()});if(u("operator")&&nb[ye.value])return p(),ne(),(H=te(Ve,ye,_e(M))).start=ye,H.end=g(),H;for(var Pe=Ue(!0);u("operator")&&$o[l.token.value]&&!S(l.token);)(Pe=te(Br,l.token,Pe)).start=ye,Pe.end=l.token,p();return Pe}function te(M,me,H){var ye=me.value;switch(ye){case"++":case"--":We(H)||x(me,"Invalid use of "+ye+" operator");break;case"delete":H instanceof K&&l.input.has_directive("use strict")&&x(H.start,"Calling delete on expression not allowed in strict mode")}return new M({operator:ye,expression:H})}var Me=function(M,me,H){var ye=u("operator")?l.token.value:null,Pe=(ye=ye=="in"&&H?null:ye)!=null?wr[ye]:null;return Pe!=null&&me<Pe?(p(),Pe=Me(_e(H),ye=="**"?Pe-1:Pe,H),Me(new he({start:M.start,left:M,operator:ye,right:Pe,end:Pe.end}),me,H)):M},qe=function(M){var me,H=l.token,ye=Me(_e(ye=M),0,ye);return u("operator","?")?(p(),me=st(),k(":"),new lt({start:H,condition:ye,consequent:me,alternative:st(M),end:g()})):ye};function We(M){return M instanceof at&&!M.optional||M instanceof K}function vt(M){var me;if(M instanceof yt)return H=null,(!(M.elements[M.elements.length-1]instanceof Qt)||(H=vt(M.elements.pop().expression))instanceof Tt||We(H))&&le(me=M.elements.map(vt),function(be){return be instanceof Ct||be instanceof Tt||be instanceof Bn||We(be)})?new wn({start:M.start,elements:me,rest:H,end:M.end}):M;if(M instanceof Ye)return(me=vt(M.left))instanceof Tt||We(me)?new Ct({start:M.start,name:me,value:M.right,end:M.end}):M;if(!(M instanceof tn))return M;var H=null;if(M.properties[M.properties.length-1]instanceof Qt&&!((H=vt(M.properties.pop().expression))instanceof Tt||We(H)))return M;for(var ye=[],Pe=0;Pe<M.properties.length;Pe++){var ct=M.properties[Pe];if(!(ct instanceof ii))return M;var ft=vt(ct.value);if(!(ft instanceof Ct||ft instanceof Tt||We(ft)))return M;ye.push(new An({start:ct.start,key:ct.key,value:ft,end:ct.end}))}return new si({start:M.start,properties:ye,rest:H,end:M.end})}function st(M){var me=l.token,H=qe(M),ye=l.token.value;if(u("operator")&&ib[ye]){if(We(H)||ye=="="&&(H=vt(H))instanceof Tt)return p(),new Ye({start:me,left:H,operator:ye,right:st(M),end:g()});v("Invalid assignment")}return H}function mt(M,me){for(var H=l.token,ye=[];;){if(me&&u("operator","...")){p(),ye.rest=ve($t);break}if(ye.push(st(M)),!u("punc",",")||(p(),me&&u("punc",")")&&$i(h(),"punc","=>")))break}return ye.length!=1||ye.rest?new Ke({start:H,expressions:ye,end:g()}):ye[0]}function ut(M){return++l.in_loop,M=M(),--l.in_loop,M}if(s.expression)return ne(),Rn=mt(),T("eof"),Rn;var Rn=l.token,Bt=[];for(s.module&&(l.in_async=!0,l.input.add_directive("use strict")),l.input.push_directives_stack();!u("eof");)Bt.push(ie(!0));l.input.pop_directives_stack();var ri=g()||Rn,kn=s.toplevel;return kn?(kn.body=kn.body.concat(Bt),kn.end=ri):kn=new yn({start:Rn,body:Bt,end:ri}),kn}function ku(t,s,l,u){this._bits=0,this.defun=void 0,this.eliminated=0,this.id=t,this.init=u,this.mangled_name=null,this.name=l.name,this.orig=[l],this.references=[],this.replaced=0,this.safe_ids=void 0,this.scope=s}function Xr(t){return t.orig[0]instanceof $t||t.orig[1]instanceof $t}ku.prototype={forEach:function(t){this.orig.forEach(t),this.references.forEach(t)},mangle:function(t){var s,l;this.mangled_name||((s=this.global&&t.cache&&t.cache.props)&&s.has(this.name)?this.mangled_name=s.get(this.name):this.unmangleable(t)?Oc(this.scope,t).set(this.name,!0):(l=this.redefined(),this.mangled_name=l?l.mangled_name||l.name:function(u,h){var p,g=u.scope,v=Oc(g,h),x=g.cname_holes,E=new we,w=[g];u.forEach(function(k){var S=k.scope;do{if(n(S,w))break;Oc(S,h).each(function(D,Z){E.set(Z,D)}),w.push(S)}while(S=S.parent_scope)});for(var T=0;T<x.length;T++)if(p=xr(x[T]),!E.has(p))return x.splice(T,1),v.set(p,!0),p;for(;;)if(p=xr(++g.cname),!(v.has(p)||So[p]||h.reserved.has[p])){if(!E.has(p))break;x.push(g.cname)}return v.set(p,!0),p}(this,t),s&&s.set(this.name,this.mangled_name)))},redefined:function(){var t,s=this.defun;if(s)return t=this.name,(s=s.variables.get(t)||s instanceof yn&&s.globals.get(t)||this.orig[0]instanceof ci&&i(function(l){return l.name==t},s.enclosed))&&s!==this?s.redefined()||s:void 0},unmangleable:function(t){if(this.exported||this.undeclared||!t.eval&&this.scope.pinned()||t.keep_fargs&&Xr(this))return!0;if(t.keep_fnames){var s=this.orig[0];if(s instanceof ta||s instanceof Ja||s instanceof br||s instanceof fi)return!0}return!(t.toplevel||!this.global)}},Jt(ku,["const_redefs","cross_loop","direct_access","exported","global","undeclared"]);var Po=Ee("delete ++ --");function Wi(t,s){return s instanceof Ye?s.left===t&&t:s instanceof Ct?s.name===t&&t:s instanceof Tt||s instanceof An?t:s instanceof Vn?s.init===t&&t:s instanceof en?Po[s.operator]&&s.expression:void 0}function mp(t,s){t.enclosed=[],t.parent_scope=s,t.functions=new we,t.variables=new we,s&&(t.make_def=s.make_def)}function gc(t,s){mp(t,s),t.uses_eval=!1,t.uses_with=!1}function Oc(t,s){var l,u=t.names_in_use;return u||(t.cname=-1,t.cname_holes=[],t.names_in_use=u=new we,l=s.cache&&s.cache.props,t.enclosed.forEach(function(h){h.unmangleable(s)&&u.set(h.name,!0),h.global&&l&&l.has(h.name)&&u.set(l.get(h.name),!0)})),u}function Su(t){return t=c(t,{eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1}),Array.isArray(t.reserved)||(t.reserved=[]),fe(t.reserved,"arguments"),t.reserved.has=Ee(t.reserved),t}yn.DEFMETHOD("figure_out_scope",function(t){t=c(t,{cache:null,ie:!1});var s=this,l=null,u=!1,h=0,p=s.parent_scope=null,v=new rt(function(w,T){var k,S;if(w instanceof gi)return k=u,u=v.parent()instanceof vi,w.name.walk(v),u=k,Z(function(){w.extends&&w.extends.walk(v),w.properties.forEach(function(G){G.walk(v)})}),!0;if(w instanceof fn)return k=u,u=v.parent()instanceof vi,T(),u=k,!0;if(w instanceof dn)return k=u,u=v.parent()instanceof vi,w.name.walk(v),u=k,Z(function(){w.argnames.forEach(function(G){G.walk(v)}),w.rest&&w.rest.walk(v),Nn(w,v)}),!0;if(w instanceof vr)return w.init_vars(p),T(),!0;if(w instanceof ni)return Z(function(){Nn(w,v)}),w.bcatch&&w.bcatch.walk(v),w.bfinally&&w.bfinally.walk(v),!0;if(w instanceof Dr){for(var D=p;!(D=D.resolve()).uses_with&&(D.uses_with=!0,D=D.parent_scope););return Z(T),!0}if(w instanceof Mn)return Z(T),!0;function Z(G){w.init_vars(p);var pe=l,ne=p;w instanceof nt&&(l=w),p=w,G(),p=ne,l=pe}w instanceof Xn&&(w.scope=p),w instanceof na&&((w.thedef=w).references=[]),w instanceof Gi?p.def_variable(w).defun=l:w instanceof ci?((S=p.def_variable(w)).defun=l,u&&(S.exported=!0)):w instanceof br?(S=l.def_function(w,v.parent()),u&&(S.exported=!0)):w instanceof $t?l.def_variable(w):w instanceof fi?(S=l.def_function(w,w.name=="arguments"?void 0:l),t.ie&&w.name!="arguments"&&(S.defun=l.parent_scope.resolve())):w instanceof Fr?(S=p.def_variable(w),u&&(S.exported=!0)):w instanceof oi&&(S=l.def_variable(w,w instanceof or?void 0:null),u)&&(S.exported=!0)}),g=(s.make_def=function(w,T){return new ku(++h,this,w,T)},s.walk(v),s.globals=new we,[]),v=new rt(function(w){if(w instanceof Ni)return w.argname instanceof Tt?(g.push(w),w.argname.walk(v),g.pop(),Nn(w,v),!0):void 0;if(w instanceof ht)return g.push(w),w.name&&w.name.walk(v),w.argnames.forEach(function(Ce){Ce.walk(v)}),w.rest&&w.rest.walk(v),g.pop(),vu(w,v),!0;if(w instanceof Vr)return w.label&&w.label.thedef.references.push(w),!0;if(w instanceof hn){var T,k=w.definition();if(k.preinit=k.references.length,w instanceof Gi){if(T=k.redefined())for(var S=w.scope;S&&fe(S.enclosed,T)&&S!==T.scope;S=S.parent_scope);}else w instanceof ci?(T=k.redefined())&&(T.const_redefs=!0):k.scope!==w.scope&&(w instanceof br||w instanceof $t||w instanceof oi)&&(w.mark_enclosed(t),T=w.scope.find_variable(w.name),w.thedef!==T)&&((w.thedef=T).orig.push(w),w.mark_enclosed(t));return w.name!="arguments"||(D=w instanceof oi&&v.parent())instanceof Wt&&!D.value||(G=w.scope.resolve().find_variable("arguments"))&&x(G)&&(G.scope.uses_arguments=3),!0}if(w instanceof K){for(var D,Z=w.name,G=w.scope.find_variable(Z),pe=g.length;0<pe&&G&&!((pe=g.lastIndexOf(G.scope,pe-1))<0);){var ne=G.orig[0];if(ne instanceof Gi||ne instanceof $t||ne instanceof fi){w.in_arg=!0;break}G=G.scope.parent_scope.find_variable(Z)}if(G?Z=="arguments"&&x(G)&&(Wi(w,D=v.parent())?G.scope.uses_arguments=3:G.scope.uses_arguments<2&&!(D instanceof at&&D.expression===w)?G.scope.uses_arguments=2:G.scope.uses_arguments||(G.scope.uses_arguments=!0)):G=s.def_global(w),Z=="eval")if((D=v.parent()).TYPE=="Call"&&D.expression===w)for(S=w.scope;!(S=S.resolve()).uses_eval&&(S.uses_eval=!0,S=S.parent_scope););else G.undeclared&&(s.uses_eval=!0);if(G.init instanceof dn&&G.scope!==G.init.name.scope){var ie=w.scope;do if(ie===G.init.name.scope)break;while(ie=ie.parent_scope);ie||(G.init=void 0)}return w.thedef=G,w.reference(t),!0}});function x(w){return w.orig[0]instanceof $t&&!(w.orig[1]instanceof $t||w.orig[2]instanceof $t)&&!$n(w.scope)}function E(w,T){var k,S,D=w.name,Z=w.thedef;if(le(Z.orig,function(G){return!(G instanceof ci||G instanceof Fr)}))return(k=T.find_variable(D))?(S=k.redefined())&&(k=S):k=s.globals.get(D),k?k.orig.push(w):k=T.def_variable(w),k.undeclared&&s.variables.set(D,k),D=="arguments"&&x(Z)&&w instanceof fi||(Z.defun=k.scope,Z.forEach(function(G){G.redef=Z,G.thedef=k,G.reference(t)})),1}s.walk(v),t.ie&&s.walk(new rt(function(w){var T,k;return w instanceof Gi?(T=(k=w.thedef).defun,E(w,T=k.name!="arguments"&&T.name instanceof fi&&T.name.name==k.name?T.parent_scope.resolve():T),!0):w instanceof fi?(k=w.thedef,E(w,w.scope.parent_scope.resolve())?w.thedef.init!==void 0?w.thedef.init=!1:k.init&&(w.thedef.init=k.init):k.defun=void 0,!0):void 0}))}),yn.DEFMETHOD("def_global",function(t){var s=this.globals,l=t.name;return s.has(l)?s.get(l):((t=this.make_def(t)).undeclared=!0,t.global=!0,s.set(l,t),t)}),Mn.DEFMETHOD("init_vars",function(t){mp(this,t)}),nt.DEFMETHOD("init_vars",function(t){gc(this,t)}),Bi.DEFMETHOD("init_vars",function(t){return gc(this,t),this}),mr.DEFMETHOD("init_vars",function(t){gc(this,t)}),ht.DEFMETHOD("init_vars",function(t){return gc(this,t),this.uses_arguments=!1,this.def_variable(new $t({name:"arguments",scope:this,start:this.start,end:this.end})),this}),Xn.DEFMETHOD("mark_enclosed",function(t){for(var s=this.definition(),l=this.scope;l&&fe(l.enclosed,s)&&(t?(t.keep_fargs&&l instanceof ht&&l.each_argname(function(u){fe(s.scope.enclosed,u.definition())}),t.keep_fnames&&l.functions.each(function(u){fe(s.scope.enclosed,u)})):l._var_names=void 0,l!==s.scope);l=l.parent_scope);}),Xn.DEFMETHOD("reference",function(t){this.definition().references.push(this),this.mark_enclosed(t)}),Mn.DEFMETHOD("find_variable",function(t){return this.variables.get(t)||this.parent_scope&&this.parent_scope.find_variable(t)}),Mn.DEFMETHOD("def_function",function(t,s){var l=this.def_variable(t,s);return(!l.init||l.init instanceof dn)&&(l.init=s),this.functions.set(t.name,l),l}),Mn.DEFMETHOD("def_variable",function(t,s){var l=this.variables.get(t.name);return l?(l.orig.push(t),l.init instanceof bn&&(l.init=s)):(l=this.make_def(t,s),this.variables.set(t.name,l),l.global=!this.parent_scope),t.thedef=l}),Xn.DEFMETHOD("unmangleable",function(t){var s=this.definition();return!s||s.unmangleable(t)}),na.DEFMETHOD("unmangleable",d),Xn.DEFMETHOD("definition",function(){return this.thedef}),yn.DEFMETHOD("mangle_names",function(t){(t=Su(t)).cache&&t.cache.props&&(s=Oc(this,t),t.cache.props.each(function(g){s.set(g,!0)}));var s,l=-1,u=[],h=new rt(function(g,v){var x,E,w;if(g instanceof Mn)return g instanceof ti&&(x=l),t.webkit&&g instanceof Ei&&g.init instanceof yr&&g.init.definitions.forEach(function(T){T.name.match_symbol(function(k){var S,D,Z;k instanceof Fr&&(S=k.definition(),D=k.scope.parent_scope,Z=D.def_variable(k),k.thedef=S,D.to_mangle.push(Z),S.redefined=function(){return Z})})},!0),E=g.to_mangle=[],g.variables.each(function(T){!function(k){var S=k.orig[0],D=k.redefined();if(!D){if(!(S instanceof ci))return;var Z=k.scope.resolve();if(k.scope===Z||k.scope.parent_scope.find_variable(S.name))return;D=Z.def_variable(S),Z.to_mangle.push(D)}return u.push(k),k.references.forEach(G),(S instanceof Gi||S instanceof ci)&&(G(S),k.redefined=function(){return D}),1;function G(pe){pe.thedef=D,pe.reference(t),pe.thedef=k}}(T)&&E.push(T)}),v(),t.cache&&g instanceof yn&&g.globals.each(p),g instanceof Yi&&h.has_directive("use asm")&&((v=new K(g.name)).scope=g,v.reference(t)),(E=36<E.length?(v=E.map(function(T,k){return k}).sort(function(T,k){return E[k].references.length-E[T].references.length||T-k})).slice(0,36).sort(function(T,k){return T-k}).map(function(T){return E[T]}).concat(v.slice(36).sort(function(T,k){return T-k}).map(function(T){return E[T]})):E).forEach(p),!(g instanceof ti)||t.v8&&function(T){for(var k,S=0;k=T.parent(S++);){if(k instanceof ei)return k instanceof yn&&!t.toplevel;if(k instanceof ti)return 1}}(h)||(l=x),!0;if(g instanceof na){for(;w=xr(++l),So[w];);return g.mangled_name=w,!0}});function p(g){t.reserved.has[g.name]||g.mangle(t)}this.walk(h),u.forEach(p)}),yn.DEFMETHOD("find_colliding_names",function(t){var s=t.cache&&t.cache.props,l=Object.create(So);return t.reserved.forEach(u),this.globals.each(h),this.walk(new rt(function(p){p instanceof Mn&&p.variables.each(h)})),l;function u(p){l[p]=!0}function h(p){var g=p.name;if(p.global&&s&&s.has(g))g=s.get(g);else if(!p.unmangleable(t))return;u(g)}}),yn.DEFMETHOD("expand_names",function(t){xr.reset(),xr.sort(),t=Su(t);var s=this.find_colliding_names(t),l=0;function u(h){var p,g;h.global&&t.cache||h.unmangleable(t)||t.reserved.has[h.name]||(p=h.redefined(),g=p?p.rename||p.name:function(){for(var v;v=xr(l++),s[v];);return v}(),h.rename=g,h.forEach(function(v){v.definition()===h&&(v.name=g)}))}this.globals.each(u),this.walk(new rt(function(h){h instanceof Mn&&h.variables.each(u)}))}),V.DEFMETHOD("tail_node",O),Ke.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),yn.DEFMETHOD("compute_char_frequency",function(t){t=Su(t),xr.reset();var s=Xn.prototype.add_source_map;try{Xn.prototype.add_source_map=function(){this.unmangleable(t)||xr.consider(this.name,-1)},t.properties&&(Lt.prototype.add_source_map=function(){xr.consider(this.property,-1)},Kt.prototype.add_source_map=function(){(function l(u){u instanceof wt?xr.consider(u.value,-1):u instanceof lt?(l(u.consequent),l(u.alternative)):u instanceof Ke&&l(u.tail_node())})(this.property)}),xr.consider(this.print_to_string(),1)}finally{Xn.prototype.add_source_map=s,delete Lt.prototype.add_source_map,delete Kt.prototype.add_source_map}xr.sort()}),Qu=Object.create(null),gp=Rp("0123456789"),Pu=Rp("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_"),bc.consider=function(t,s){for(var l=t.length;0<=--l;)vc[t[l]]+=s},bc.sort=function(){$u=Pu.sort(Yp).concat(gp).sort(Yp)},(bc.reset=sb)();var Qu,$u,vc,gp,Pu,Ie,Cu,Tu,Op,vp,yp,Eu,bp,wp,xp,Au,gn,_p,Co,kp,Sp,Du,Qp,$p,X,Ki,yc,Zu,Pp,Cp,Tp,Ep,Ap,Dp,Zp,Mp,Xp,nl,Mu,xr=bc;function Rp(t){for(var s=[],l=0;l<t.length;l++){var u=t[l];s.push(u),Qu[u]=-.01*l}return s}function sb(){$u=null,vc=Object.create(Qu)}function Yp(t,s){return vc[s]-vc[t]}function bc(t){var s=Pu[t%54];for(t=Math.floor(t/54);0<=--t;t>>=6)s+=$u[63&t];return s}function To(v,p){if(!(this instanceof To))return new To(v,p);Gn.call(this,this.before,this.after),this.options=c(v,{annotations:!p,arguments:!p,arrows:!p,assignments:!p,awaits:!p,booleans:!p,collapse_vars:!p,comparisons:!p,conditionals:!p,dead_code:!p,default_values:!p,directives:!p,drop_console:!1,drop_debugger:!p,evaluate:!p,expression:!1,functions:!p,global_defs:!1,hoist_exports:!p,hoist_funs:!1,hoist_props:!p,hoist_vars:!1,ie:!1,if_return:!p,imports:!p,inline:!p,join_vars:!p,keep_fargs:p,keep_fnames:!1,keep_infinity:!1,loops:!p,merge_vars:!p,module:!1,negate_iife:!p,objects:!p,optional_chains:!p,passes:1,properties:!p,pure_funcs:null,pure_getters:!p&&"strict",reduce_funcs:!p,reduce_vars:!p,rests:!p,sequences:!p,side_effects:!p,spreads:!p,strings:!p,switches:!p,templates:!p,top_retain:null,toplevel:!(!v||!v.module&&!v.top_retain),typeofs:!p,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!p,varify:!p,webkit:!1,yields:!p},!0);var v=this.options.evaluate,l=(this.eval_threshold=/eager/.test(v)?1/0:+v,this.options.global_defs);if(typeof l=="object")for(var u in l)/^@/.test(u)&&Ae(l,u)&&(l[u.slice(1)]=la(l[u],{expression:!0}));this.options.inline===!0&&(this.options.inline=4),this.drop_fargs=this.options.keep_fargs?d:function(x,E){var w;return!x.length_read&&((w=x.name)?w.fixed_value()===x&&!(w=w.definition()).direct_access&&(w=w.escaped)&&w.depth!=1:E&&E.TYPE=="Call"&&E.expression===x)},this.options.module&&(this.directives["use strict"]=!0);var h=this.options.pure_funcs,p=(typeof h=="function"?this.pure_funcs=h:typeof h=="string"?this.pure_funcs=function(x){var E;return x instanceof ot?E=x.expression:x instanceof Dn&&(E=x.tag),!(E&&h===E.print_to_string())}:Array.isArray(h)?this.pure_funcs=function(x){var E;return x instanceof ot?E=x.expression:x instanceof Dn&&(E=x.tag),!(E&&n(E.print_to_string(),h))}:this.pure_funcs=m,this.options.sequences),g=(this.sequences_limit=p==1?800:0|p,this.options.top_retain),v=(g instanceof RegExp?this.top_retain=function(x){return g.test(x.name)}:typeof g=="function"?this.top_retain=g:g&&(typeof g=="string"&&(g=g.split(/,/)),this.top_retain=function(x){return n(x.name,g)}),this.options.toplevel);this.toplevel=typeof v=="string"?{funcs:/funcs/.test(v),vars:/vars/.test(v)}:{funcs:v,vars:v}}function Wp(t,s){var l,u=s.get_property();if(!(u instanceof V)){if(t instanceof yt){if(s=t.elements,u=="length")return hs(s.length,t);typeof u=="number"&&u in s&&(l=s[u])}else if(t instanceof ht){if(u=="length")return t.length_read=!0,hs(t.argnames.length,t)}else if(t instanceof tn)for(var u=""+u,h=t.properties,p=h.length;0<=--p;){if(!jc(h[p]))return;l||h[p].key!==u||(l=h[p].value)}return l instanceof K&&l.fixed_value()||l}}function Rr(t,s,l,u,h,p,g){var v=s.parent(h);if(!(t.option("unsafe")&&v instanceof Lt&&(x=u,w=v.property,x instanceof oa?Ki.Boolean[w]:x instanceof dt?Ki.Number[w]:x instanceof wt?Ki.String[w]:w!="valueOf"&&(x instanceof yt?Ki.Array[w]:x instanceof ht?Ki.Function[w]:x instanceof tn?Ki.Object[w]:x instanceof Ji&&Ki.RegExp[w]&&!x.value.global)))){var x,E,w=Wi(l,v);if(w)return w;if(h!=0||!u||!u.is_constant()){if(v instanceof yt)return Rr(t,s,v,v,h+1);if(v instanceof Ye)switch(v.operator){case"=":return Rr(t,s,v,u,h+1,p,g);case"&&=":case"||=":case"??=":return Rr(t,s,v,v,h+1);default:return}return v instanceof he?gn[v.operator]?Rr(t,s,v,v,h+1):void 0:v instanceof ot?!p&&v.expression===l&&!v.is_expr_pure(t)&&(!(u instanceof bn)||!(v instanceof Si)&&u.contains_this()):v instanceof lt?v.condition===l?void 0:Rr(t,s,v,v,h+1):v instanceof Vn?v.init===l:v instanceof ii?v.value!==l?void 0:(x=s.parent(h+1),Rr(t,s,x,x,h+2)):v instanceof at?v.expression!==l?void 0:(E=Wp(u,v),(!p||g)&&Rr(t,s,v,E,h+1)):v instanceof Ke&&v.tail_node()===l?Rr(t,s,v,u,h+1,p,g):void 0}}}function Xs(t){return t instanceof En||t instanceof ht}function wc(t){return t instanceof En||t instanceof Yi||t instanceof Pn}function Rs(t){return t.name=="arguments"&&t.scope.uses_arguments}function jp(t,s){do{if(t===s)return;if(s instanceof nt)return 1}while(s=s.parent_scope)}function ar(t,s,l){var u=t.redef||t.definition();return(!t.in_arg||!Xr(u))&&le(u.orig,function(h){return h instanceof ci||h instanceof Fr?h instanceof or||s&&mm(s,h):!(l&&h instanceof fi)})}function Up(t,s,l,u){return u instanceof Ye?u.operator=="="&&u.right===l:u instanceof ot?u.expression!==l||u instanceof Si:u instanceof ls?u.value===l&&!u.static:u instanceof Ln?u.value===l&&s.resolve()!==t.scope.resolve():u instanceof Wt&&u.value===l}function xc(t,s){var l=b(K,t);return l.fixed=s||b(an,t),l}function Xu(t,s){return function(u){var h=t(u),u=xc(h,s),h=h.definition();return h.references.push(u),h.replaced++,u}}function Ru(t,s,l){l.assignments=0,l.bool_return=0,l.drop_return=0,l.cross_loop=!1,l.direct_access=!1,l.escaped=[],l.fixed=!l.const_redefs&&!l.scope.pinned()&&!s.exposed(l)&&!(l.init instanceof bn&&l.init!==l.scope)&&l.init,l.reassigned=0,l.recursive_refs=0,l.references=[],l.single_use=void 0}function ca(t,s,l){l.variables.each(function(u){Ru(0,s,u)})}function il(t,s,l){l.fn_defs=[],l.variables.each(function(u){Ru(0,s,u);var h=u.init;h instanceof dn&&(l.fn_defs.push(h),h.safe_ids=null),u.fixed===null?(u.safe_ids=t.safe_ids,Ks(t,u)):u.fixed&&(t.loop_ids[u.id]=t.in_loop,Ks(t,u))}),l.may_call_this=function(){l.may_call_this=l.contains_this()?m:d},l.uses_arguments&&l.each_argname(function(u){u.definition().last_ref=!1}),s.option("ie")&&l.variables.each(function(u){var h=u.orig[0].definition();h!==u&&(h.fixed=!1)})}function qp(t,s){return s=s.safe_ids,s===void 0||s===t.safe_ids}function _c(t,s){var l=t.fn_scanning;(t.fn_scanning=s).walk(t),t.fn_scanning=l}function zp(t,s){s.enclosed.forEach(function(l){var u;s.variables.get(l.name)===l||ua(t,l)||(l.single_use=!1,(u=typeof(u=l.fixed)=="function"?u():u)instanceof ht&&u.safe_ids!==void 0)||(l.fixed=!1)})}function rl(t,s,l){var u,h=l.safe_ids;h!==void 0&&h!==!1&&(l.parent_scope.resolve().may_call_this===m?n(l,t.fn_visited)&&zp(t,l):h?(u=n(l,t.fn_visited),h===t.safe_ids?u||_c(t,l):u?zp(t,l):l.safe_ids=!1):t.fn_scanning&&t.fn_scanning!==s.scope.resolve()?l.safe_ids=!1:(l.safe_ids=t.safe_ids,_c(t,l)))}function sl(t,s){var l=s.fn_defs,u=s.may_call_this===m?l:l.filter(function(h){return h.safe_ids===!1||(h.safe_ids=t.safe_ids,_c(t,h),!1)});jn(t),u.forEach(function(h){h.safe_ids=t.safe_ids,_c(t,h)}),l.forEach(function(h){h.safe_ids=void 0}),s.fn_defs=void 0,s.may_call_this=void 0}function _n(t,s){var l=Object.create(t.safe_ids);s||(l.seq={}),t.safe_ids=l}function jn(t){t.safe_ids=Object.getPrototypeOf(t.safe_ids)}function Ks(t,s){t.safe_ids[s.id]={}}function fa(t,s){t.references.push(s),t.last_ref!==!1&&(t.last_ref=s)}function ua(t,s){var l,u,h;return s.single_use!="m"&&((l=t.safe_ids[s.id])?((u=Ae(t.safe_ids,s.id))||(h=t.safe_ids.seq,l.read?l.read!==h&&(l.read=!0):l.read=h),s.fixed==null?!Rs(s)&&!(s.global&&s.name=="arguments"||(t.loop_ids[s.id]=null,s.fixed=b(an,s.orig[0]),u&&(s.safe_ids=void 0),0)):!l.assign||l.assign===t.safe_ids):s.fixed instanceof dn)}function ol(t,s,l){if(!(!l&&(Xr(s)&&s.scope.uses_arguments&&!t.has_directive("use strict")||!le(s.orig,function(h){return!(h instanceof ci)})))){if(s.fixed===void 0)return l||le(s.orig,function(h){return!(h instanceof Fr)});if(s.fixed!==!1&&s.fixed!==0){if(l=t.safe_ids[s.id],s.safe_ids)return s.safe_ids[s.id]=!1,s.safe_ids=void 0,s.fixed===null||Ae(t.safe_ids,s.id)&&!l.read;if(!Ae(t.safe_ids,s.id)){if(!l)return;if(l.read||t.in_loop){var u=t.find_parent(Mn);if(u instanceof En||s.scope.resolve()!==u.resolve())return}l.assign=!(!l.assign||l.assign===t.safe_ids)||t.safe_ids}return s.fixed!=null&&l.read&&(l.read!==t.safe_ids.seq||t.loop_ids[s.id]!==t.in_loop)?void 0:ua(t,s)&&le(s.orig,function(h){return!(h instanceof fi)})}}}function kc(t){var s;return!!t&&(t instanceof Ye?(s=t.operator)=="="?kc(t.right):!gn[s.slice(0,-1)]:t instanceof Ke?kc(t.tail_node()):t.is_constant()||Xs(t)||t instanceof Hi)}function ha(t,s,l,u,h,p,g){var v,x=t.parent(p);if(!h||!h.is_constant())if(Up(s,l,u,x))s.escaped.push(x),!(1<g)||h&&h.is_constant_expression(l)||(g=1),(!s.escaped.depth||s.escaped.depth>g)&&(s.escaped.depth=g),s.scope.resolve()!==l.resolve()&&(s.escaped.cross_scope=!0),s.fixed&&(s.fixed.escaped=s.escaped);else{if(E=u,(v=x)instanceof yt||(v instanceof he?gn[v.operator]:v instanceof lt?v.condition!==E:v instanceof Ke?v.tail_node()===E:v instanceof Qt))ha(t,s,l,x,x,p+1,g);else if(x instanceof ii&&x.value===u){var E=t.parent(p+1);ha(t,s,l,E,E,p+2,g)}else if(x instanceof at&&x.expression===u&&(ha(t,s,l,x,h=Wp(h,x),p+1,g+1),h))return;0<p||x instanceof ot&&x.expression===u||x instanceof Ke&&x.tail_node()!==u||x instanceof Re||x instanceof en&&!Po[x.operator]||(s.direct_access=!0,s.fixed&&(s.fixed.direct_access=!0))}}function Sc(t){var s;t instanceof Kt&&(s=t.expression)instanceof K&&Rs(s=s.definition())&&((t=(t=t.property).is_constant()?t.value:t)instanceof V||Cu.test(t))&&(s.reassigned++,(t instanceof V?s.scope.argnames:[s.scope.argnames[t]]).forEach(function(l){l instanceof $t&&(l.definition().fixed=!1)}))}function Yu(t,s){var l,u;return function(){var h=t();return u=l!==h?s(l=h):u}}function Qc(t,s,l,u,h){var p=new rt(function(g){var v,x,E,w,T,k,S;return g instanceof Ct?(Ys(g),_n(t,!0),g.value.walk(t),jn(t),(S=u)&&(v=s,x=g,E=S,u=function(){var D,Z;return T===x?x:(D=E(),(Z=Kr(v,D,!0))instanceof V?T=x:w!==D&&(w=D,T=Z===void 0?Xe(x,[D,x.value]):D),T)}),g.name.walk(p),u=S):g instanceof wn?(Ys(g),S=u,g.elements.forEach(function(D,Z){if(D instanceof Bn)return Ys(D);S&&(u=Yu(S,function(G){return b(Kt,D,{expression:G,property:b(dt,D,{value:Z})})})),D.walk(p)}),g.rest&&(S&&(u=s.option("rests")&&Yu(S,function(D){if(!(D instanceof yt))return g;for(var Z=0,G=g.elements.length;Z<G;Z++)if(D.elements[Z]instanceof Qt)return g;return(k=k||b(yt,g,{})).elements=D.elements.slice(G),k})),g.rest.walk(p)),u=S):g instanceof si?(Ys(g),S=u,g.properties.forEach(function(D){Ys(D),D.key instanceof V&&(_n(t),D.key.walk(t),jn(t)),S&&(u=Yu(S,function(Z){var G=D.key,pe=Kt;return typeof G=="string"&&(aa(G)?pe=Lt:G=hs(G,D)),b(pe,D,{expression:Z,property:G})})),D.value.walk(p)}),g.rest&&(u=!1,g.rest.walk(p)),u=S):h(g,u,function(){for(var D=t.stack.length,Z=0,G=p.stack.length-1;Z<G;Z++)t.stack.push(p.stack[Z]);g.walk(t),t.stack.length=D}),!0});l.walk(p)}function ob(t,s,l){var u,h=this,p=(h.inlined=!1,t.parent()),w=!mi(h)&&!Li(h),g=!w,v=!1,x=(h.walk(new rt(function(k){return g?v=!0:k instanceof Nt?g=!0:k instanceof nt&&k!==h||void 0})),v&&_n(t,w),il(t,l,h),!h.uses_arguments||t.has_directive("use strict")),E=(h.argnames.forEach(function(k,S){var D=p.args[S];Qc(t,l,k,function(){var Z=h.argnames.indexOf(k),Z=Z<0?D:p.args[Z];return(Z=Z instanceof Ke&&Z.expressions.length<2?Z.expressions[0]:Z)||b(an,p)},T)}),h.rest),w=(E&&Qc(t,l,E,l.option("rests")&&function(){return h.rest!==E?E:((u=u||b(yt,h,{})).elements=p.args.slice(h.argnames.length),u)},T),vu(h,t),t.safe_ids);return sl(t,h),v||(t.safe_ids=w),!0;function T(k,S){var D=k.definition();S&&x&&D.fixed===void 0?(Ks(t,D),t.loop_ids[D.id]=t.in_loop,D.fixed=S,D.fixed.assigns=[k]):D.fixed=!1}}function Ys(t){t._squeezed=!1,t._optimized=!1,t instanceof Mn&&(t._var_names=void 0),t instanceof K&&(t.fixed=void 0)}function Ip(t,s){return this.transform(new Gn(function(l,u){return l instanceof Ct?((l=l.clone()).name=l.name.transform(this),l):l instanceof Tt?(u(l=l.clone(),this),l):l instanceof An?((l=l.clone()).value=l.value.transform(this),l):l.convert_symbol(t,s)}))}function Vp(t,s){return t=b(t,this),s(t,this)||t}function $c(t){var s=t.definition();s.assignments++,s.references.push(t)}function Lp(t,s){var l=new rt(function(u){return u instanceof Ct?(u.value.walk(s),u.name.walk(l),!0):u instanceof An?(u.key instanceof V&&u.key.walk(s),u.value.walk(l),!0):t(u)});this.walk(l)}function Bp(t){return t(this)}function Fp(t,s){var l=!1,u=new rt(function(h){return!!l||(h instanceof Ct?s?(h.name.walk(u),!0):l=!0:h instanceof An?!s&&h.key instanceof V?l=!0:(h.value.walk(u),!0):t(h)?l=!0:void 0)});return this.walk(u),l}function Eo(t){return t instanceof Ir||t instanceof Fi}function Ao(t){var s=0,l=t.self();do if(l.variables)return l;while(l=t.parent(s++))}function Np(t,s,l,u,h,p){for(var g;g=t.parent(s++);l=g){if(g===u)return!1;if(p&&g instanceof ht){if(g.name||mi(g)||Li(g))return!0}else if(g instanceof ni&&(g.bfinally&&g.bfinally!==l||h&&g.bcatch&&g.bcatch!==l))return!0}return!1}function al(t,s){if(t instanceof Js||t instanceof Hi)return!0;if(t instanceof at){if(t.property==="__proto__")return!0;if((t=t.expression)instanceof K){if(t.is_immutable())return!1;t=t.fixed_value()}return t?!!t.tail_node().is_constant()||al(t,s):!0}return t instanceof K&&(!!t.is_immutable()||(t=t.definition(),s.exposed(t)&&Tu[t.name]))}function b(t,s,l){return l?(l.start=s.start,l.end=s.end):l=s,new t(l)}function Xe(t,s){return s.length==1?s[0]:b(Ke,t,{expressions:s.reduce(ju,[])})}function hs(t,s){switch(typeof t){case"string":return b(wt,s,{value:t});case"number":return isNaN(t)?b(sa,s):isFinite(t)?1/t<0?b(Ve,s,{operator:"-",expression:b(dt,s,{value:-t})}):b(dt,s,{value:t}):t<0?b(Ve,s,{operator:"-",expression:b(fs,s)}):b(fs,s);case"boolean":return b(t?us:Gr,s);case"undefined":return b(an,s);default:if(t===null)return b(Nr,s);if(t instanceof RegExp)return b(Ji,s,{value:t});throw new Error(xe("Can't handle constant of type: {type}",{type:typeof t}))}}function Wu(t){return t instanceof at||Hn(t)&&t.name=="eval"}function lr(t,s,l){var u=!1;return t.TYPE=="Call"?u=t.expression===s&&Wu(l):t instanceof Dn?u=t.tag===s&&Wu(l):t instanceof Ve&&(u=t.operator=="delete"||t.operator=="typeof"&&Hn(l)),u?Xe(s,[b(dt,s,{value:0}),l]):l}function Hr(t,s){var l=new we;return t.walk(new rt(function(u){var h;u instanceof K&&(h=u.definition(),(u=u.fixed)&&l.has(h.id)?l.get(h.id)!==u&&l.set(h.id,!1):l.set(h.id,u))})),0<l.size()&&s.walk(new rt(function(u){var h,p;u instanceof K&&(h=u.definition(),p=u.fixed)&&l.has(h.id)&&l.get(h.id)!==p&&(u.fixed=!1)})),s}function ju(t,s){return s instanceof Ke?[].push.apply(t,s.expressions):t.push(s),t}function ll(t){return t instanceof Lr||t instanceof gi||t instanceof yr}function Pc(t){var s,l;return t instanceof dn?(s=t.name.definition(),l=t.name.scope,s.scope===l||le(s.references,function(u){var h=u.scope;do if(h===l)return 1;while(h=h.parent_scope)})):!ll(t)}function cl(t){if(t===null)return[];if(t instanceof Be)return le(t.body,Pc)?t.body:[t];if(t instanceof _t)return[];if(on(t))return[t];throw new Error("Can't convert thing to statement array")}function eo(t){return t===null||t instanceof _t||t instanceof Be&&t.body.length==0}function da(t){return le(t.body,function(s){return eo(s)||s instanceof Yi||s instanceof un&&Ws(s)})}function Gp(t){return t instanceof Ei&&t.body instanceof Be?t.body:t}function Uu(t){if(t.TYPE!="Call")return!1;for(;(t=t.expression)instanceof at;);return t instanceof bn?!$n(t):Uu(t)}function Hp(t){var s,l=t.expression;return!(l.name||t instanceof Si&&(s=!1,l.walk(new rt(function(u){return!!s||(u instanceof Ka?s=!0:u instanceof nt&&u!==l||void 0)})),s))}function Hn(t){return t instanceof K&&t.definition().undeclared}function Cc(t){return t.static&&t.value&&(t instanceof ls||t instanceof As)}function Ws(t){return le(t.definitions,function(s){return!s.value})}function to(t,s){return t instanceof gi?s&&!t.extends&&le(t.properties,function(l){return!(l.key instanceof V||Cc(l))}):t instanceof fn?(s||t instanceof un)&&Ws(t):t instanceof vi||t instanceof Ai?to(t.body,s):t instanceof dn}function qu(t,s){var l=t.lastIndexOf(s);if(l<0)return!1;for(;++l<t.length;)if(!to(t[l],!0))return!1;return!0}function Jp(t,s){var l;if(t.init instanceof Be&&(l=t.init,t.init=l.body.pop(),l.body.push(t)),t.init instanceof Yi?((l=l||b(Be,t,{body:[t]})).body.splice(-1,0,t.init),t.init=null):t.init instanceof Re?t.init=t.init.body:eo(t.init)&&(t.init=null),l)return s?C.splice(l.body):l}function Do(t,s){var l,u,h,p,g,v,x=D(s,function(R){return R instanceof ht}),E=s.self(),w=0;do if(!l&&E.variables&&(l=E),E instanceof Ni)s.parent(w).bfinally&&((g=g||{}).bfinally=!0),w++;else if(E instanceof Gs)w++;else if(E instanceof Ei)p=!0;else{if(E instanceof nt){v=E;break}E instanceof ni&&(g=g||{},E.bcatch&&(g.bcatch=!0),E.bfinally)&&(g.bfinally=!0)}while(E=s.parent(w++));var T,k,S=10;do{if(k=T,T=0,!(T=function R(q){for(var se=!1,j=[],Y=0;Y<q.length;){var U=q[Y];if(U instanceof Be&&le(U.body,Pc))se=!0,R(U.body),[].splice.apply(q,[Y,1].concat(U.body)),Y+=U.body.length;else{if(U instanceof vn){if(n(U.value,j)){se=!0,q.splice(Y,1);continue}j.push(U.value)}U instanceof _t?(se=!0,q.splice(Y,1)):Y++}}return se}(t)?1:T)&&k==1||s.option("dead_code")&&!(T=function(R,q){var se,j=q.self();j instanceof Ni?j=q.parent():j instanceof ti&&(j=j.body);for(var Y=0,U=0,de=R.length;Y<de;Y++){var I,A=R[Y];if(!(A instanceof Vr)||Gp(I=q.loopcontrol_target(A))!==j||A instanceof rr&&I instanceof Ei?R[U++]=A:A.label&&je(A.label.thedef.references,A),cr(A)){se=R.slice(Y+1);break}}return R.length=U,se&&se.forEach(function(ce){js(q,ce,R)}),R.length!=de}(t,s)?2:T)&&k==2||s.option("if_return")&&!(T=function(R,q){for(var se,j,Y,U=!1,de=q.parent(),I=q.self(),A=x&&de&&de.TYPE=="Call"&&de.expression===I,ce=x&&q.option("conditionals")&&q.option("sequences"),ke=!(g&&g.bfinally&&Eo(v)),Qe=function(_e){for(var te=0,Me=_e.length;0<=--Me;){var qe=_e[Me];if(qe instanceof Zt&&qe.body instanceof Nt&&1<++te)return!0}return!1}(R),Se=R.length;0<=--Se;){var oe=R[Se],Te=ze(Se),tt=R[Te];if(x&&se&&!tt&&oe instanceof Nt&&ke&&!(I instanceof vr)){if(!(Ue=oe.value)){U=!0,R.splice(Se,1);continue}var St=Ue.tail_node();if(Di(St)){U=!0,Ue instanceof Ve?Ue=Ue.expression:St instanceof Ve&&((Ue=Ue.clone()).expressions[Ue.expressions.length-1]=St.expression),R[Se]=b(Re,oe,{body:Ue});continue}}if(oe instanceof Zt){if(St=cr(oe.body),F(St)){St.label&&je(St.label.thedef.references,St),U=!0,(oe=oe.clone()).body=b(Be,oe,{body:ue(oe.body,St)}),oe.alternative=b(Be,oe,{body:cl(oe.alternative).concat(ee(Y,j))}),De(St.value,Y),R[Se]=oe,R[Se]=oe.transform(q);continue}if(St&&!oe.alternative&&tt instanceof Ga){var At=oe.condition,Q=Se+1==Te&&oe.body instanceof Be;if((At=Jr(At,At.negate(q),Q))!==oe.condition){U=!0,(oe=oe.clone()).condition=At;var Ue=oe.body;oe.body=b(Be,tt,{body:ee(!0,null,Te+1)}),R.splice(Se,1,oe,Ue),(!x||I instanceof ei&&I.body===R)&&(R[Se]=oe.transform(q));continue}}var It,Q=cr(oe.alternative);if(F(Q)){Q.label&&je(Q.label.thedef.references,Q),U=!0,(oe=oe.clone()).body=b(Be,oe.body,{body:cl(oe.body).concat(ee(Y,j))}),oe.alternative=b(Be,oe.alternative,{body:ue(oe.alternative,Q)}),De(Q.value,Y),R[Se]=oe,R[Se]=oe.transform(q);continue}q.option("typeofs")&&(St&&!Q&&(It=b(Be,I,{body:R.slice(Se+1)}),ps(oe.condition,null,It)),!St)&&Q&&(It=b(Be,I,{body:R.slice(Se+1)}),ps(oe.condition,It))}if(oe instanceof Zt&&oe.body instanceof Nt){var At=oe.body.value,L=oe.body.in_bool||tt instanceof Nt&&tt.in_bool;if(!oe.alternative&&tt instanceof Nt&&(ke||!At==!tt.value)){U=!0,(oe=oe.clone()).alternative=b(Be,tt,{body:ee(!0,null,Te+1)}),R[Se]=oe,R[Se]=oe.transform(q);continue}if(x&&se&&!tt&&!oe.alternative&&(L||At&&Qe||At instanceof lt&&(Di(At.consequent,q)||Di(At.alternative,q)))){U=!0,(oe=oe.clone()).alternative=b(Nt,oe,{value:null}),R[Se]=oe,R[Se]=oe.transform(q);continue}if(ce&&!oe.alternative&&(!(Le=R[L=function(te){for(var Me=te;0<=--Me;){var qe=R[Me];if(!(qe instanceof un)&&!to(qe))break}return Me}(Se)])&&A||Le instanceof Zt&&Le.body instanceof Nt)&&(tt?tt instanceof Re&&ze(Te)==R.length:!se)){U=!0;var Le=[];oe=oe.clone(),Le.push(oe.condition),oe.condition=Xe(oe,Le),oe.alternative=b(Be,I,{body:ee().concat(b(Nt,I,{value:null}))}),R[Se]=oe.transform(q),Se=L+1;continue}}oe instanceof rr||oe instanceof Ln?j=oe:se&&j&&j===tt&&function _e(te,Me,qe){if(te instanceof Ln){var We=!(Me&&te instanceof Ha)&&B(te,!0);if(We)return U=!0,(We=ve(te.value,We))?b(Re,We,{body:We}):qe?null:b(_t,te)}else{var vt;te instanceof Zt?(te.body=_e(te.body,Me),te.alternative&&(te.alternative=_e(te.alternative,Me))):te instanceof ti?te.body=_e(te.body,Me):te instanceof ni?te.bfinally&&j.value&&!j.value.is_constant()||(te.bcatch&&_e(te.bcatch,Me),(vt=_e(te.body.pop(),!0,!0))&&te.body.push(vt)):te instanceof ei&&!(te instanceof nt||te instanceof Oi)&&(vt=_e(te.body.pop(),Me,!0))&&te.body.push(vt)}return te}(oe)}return U;function z(_e){return D(q,function(te){return te===_e})}function B(_e,te){var Me;return!!j&&j.TYPE==_e.TYPE&&!!(Me=_e.value)&&(!(_e=!(_e=j.equals(_e))&&Me instanceof Ke&&(Me=Me.tail_node(),j.value)&&j.value.equals(Me)?2:_e)&&!te&&j.value instanceof Ke&&j.value.tail_node().equals(Me)?3:_e)}function F(_e){if(Y=!1,function(qe){if(qe instanceof Ln){if(!(Y=B(qe))){if(!x||!(qe instanceof Nt))return;var We=qe.value;if(We&&!Di(We.tail_node()))return;if(I instanceof vr){if(!j||j instanceof Ln&&j.value)return;Y=4}}return 1}if(qe instanceof Vr){if(I instanceof vr){if(j instanceof Ln){if(!x||j.value)return;Y=!0}else if(j){if(q.loopcontrol_target(j)!==de)return;Y=!0}else if(j===!1)return}return We=q.loopcontrol_target(qe),qe instanceof Ds?z(Gp(We)):!(We instanceof Ei)&&z(We)}}(_e)){for(var te=R.length;--te>Se;){var Me=R[te];if(Me instanceof gi){if(Me.name.definition().preinit)return}else if((Me instanceof Lr||Me instanceof yr)&&!le(Me.definitions,function(qe){return!qe.name.match_symbol(function(We){return We instanceof hn&&We.definition().preinit})}))return}return 1}}function ee(_e,te,st){var qe=[],We=!1,vt=Se+1,st=(_e?te?st=R.lastIndexOf(te):(te=R[st])!==j&&(j=!1):(st=R.length,j=null),R.splice(vt,st-vt).filter(function(mt){return mt instanceof dn?(qe.push(mt),!1):(ll(mt)&&(We=!0),!0)}));return _e===3&&(st.push(b(Re,te.value,{body:Xe(te.value,te.value.expressions.slice(0,-1))})),te.value=te.value.tail_node()),[].push.apply(We?st:R,qe),st}function ve(_e,te){if(_e)switch(te){case 4:return _e;case 3:if(!(_e instanceof Ke))break;case 2:return Xe(_e,_e.expressions.slice(0,-1))}}function ue(_e,te){for(var Me,_e=cl(_e),qe=_e;(Me=qe[qe.length-1])!==te;)qe=Me.body;qe.pop();var We=te.value;return(We=Y?ve(We,Y):We)&&qe.push(b(Re,We,{body:We})),_e}function De(_e,te){if(te&&_e){switch(te){case 4:return;case 3:case 2:_e=_e.tail_node()}Hr(_e,j.value)}}function ze(_e){se=!0;for(var te=_e;++te<R.length;){var Me=R[te];if(!to(Me)){if(!(Me instanceof un))break;se=!1}}return te}}(t,s)?3:T)&&k==3||s.option("awaits")&&s.option("side_effects")&&!(T=function(R,q){if(!(!x||g&&g.bfinally)){for(var se=!1,j=R.length;0<=--j;){var Y=R[j];if(!(Y instanceof Re))break;var U=Y.body;if(!(U instanceof pn)||(U=U.expression,!bi(q,U)))break;if(se=!0,U=U.drop_side_effect_free(q,!0)){Y.body=U;break}}return R.length=j+1,se}}(t,s)?4:T)&&k==4||4<=s.option("inline")&&!(T=function(R,q){var se=!1,j=R.length-1;{var Y;x&&0<=j&&(Y=g&&g.bfinally&&Eo(v),de=R[j].try_inline(q,l,Y))&&(R[j--]=de,se=!0)}for(var U=p&&g&&g.bfinally?"try":p;0<=j;j--){var de;(de=R[j].try_inline(q,l,!0,U))&&(R[j]=de,se=!0)}return se}(t,s)?5:T)&&k==5||0<s.sequences_limit&&(!(T=function(R,q){if(!(R.length<2)){for(var se=[],j=0,Y=0,U=R.length;Y<U;Y++){var de=R[Y];de instanceof Re?(se.length>=q.sequences_limit&&I(),ju(se,de.body)):(to(de)||I(),R[j++]=de)}return I(),(R.length=j)!=U}function I(){var A;se.length&&(A=Xe(se[0],se),R[j++]=b(Re,A,{body:A}),se=[])}}(t,s)?6:T)&&k==6||!(T=function(R,q){for(var se,j=!1,Y=0,U=0;U<R.length;U++){var de,I=R[U];if(se&&(I instanceof Ln?!I.value&&Eo(v)||(I.value=Se(I.value||b(an,I)).optimize(q)):I instanceof Tn?I.init instanceof fn||(de=!1,se.body.walk(new rt(function(oe){return!!(de||oe instanceof nt)||(oe instanceof he&&oe.operator=="in"?de=!0:void 0)})),de)||(I.init?I.init=Se(I.init):(I.init=se.body,Y--,j=!0)):I instanceof wo?ll(I.init)||(I.object=Se(I.object)):I instanceof Zt?I.condition=Se(I.condition):(I instanceof Oi||I instanceof Dr)&&(I.expression=Se(I.expression))),q.option("conditionals")&&I instanceof Zt){var A=[],ce=Z(I.body,A),ke=Z(I.alternative,A);if(ce!==!1&&ke!==!1&&0<A.length){var Qe=A.length;A.push(b(Zt,I,{condition:I.condition,body:ce||b(_t,I.body),alternative:ke})),A.unshift(Y,1),[].splice.apply(R,A),U+=Qe,Y+=Qe+1,j=!(se=null);continue}}R[Y++]=I,se=I instanceof Re?I:null}return R.length=Y,j;function Se(oe){Y--,j=!0;var Te=se.body;return Xe(Te,[Te,oe])}}(t,s)?7:T)&&k==7)||s.option("join_vars")&&!(T=function(R){for(var q,se=!1,j=0,Y=-1;j<R.length;j++){var U,de,I,A=R[j],ce=R[Y];if(A instanceof fn)ce&&ce.TYPE==A.TYPE?(ce.definitions=ce.definitions.concat(A.definitions),se=!0):q&&q.TYPE==A.TYPE&&Ws(A)?(q.definitions=q.definitions.concat(A.definitions),se=!0):A instanceof un?((de=ne(ce,A))?(de.length&&(ce.body=Xe(ce,de),Y++),se=!0):Y++,R[Y]=q=A):R[++Y]=A;else{if(A instanceof Ln)A.value=ke(A.value);else if(A instanceof Tn)if(de=pe(ce,A.init))se=!0,A.init=de.length?Xe(A.init,de):null;else{if(ce instanceof un&&(!A.init||A.init.TYPE==ce.TYPE)){A.init&&(ce.definitions=ce.definitions.concat(A.init.definitions)),A=A.clone(),q=A.init=ce,R[Y]=Qe(A),se=!0;continue}if(q&&A.init&&q.TYPE==A.init.TYPE&&Ws(A.init))q.definitions=q.definitions.concat(A.init.definitions),A.init=null,se=!0;else if(A.init instanceof un&&(q=A.init,de=ne(ce,A.init))){if(se=!0,de.length==0){R[Y]=Qe(A);continue}ce.body=Xe(ce,de)}}else if(A instanceof Vn)q&&q.TYPE==A.init.TYPE&&(U=q.definitions.slice(),A.init=A.init.definitions[0].name.convert_symbol(K,function(Se,oe){U.push(b(Wt,oe,{name:oe,value:null})),oe.definition().references.push(Se)}),q.definitions=U,se=!0),A.object=ke(A.object);else if(A instanceof Zt)A.condition=ke(A.condition);else if(A instanceof Re){if(de=pe(ce,A.body)){if(se=!0,!de.length)continue;A.body=Xe(A.body,de)}else if(ce instanceof fn&&(I=R[j+1])&&ce.TYPE==I.TYPE&&(I=I.definitions[0]).value){se=!0,I.value=Xe(A,[A.body,I.value]);continue}}else(A instanceof Oi||A instanceof Dr)&&(A.expression=ke(A.expression));R[++Y]=q?Qe(A):A}}return R.length=Y+1,se;function ke(Se){var oe=pe(ce,Se,1);if(!oe)return Se;se=!0;var Te=Se.tail_node();return oe[oe.length-1]!==Te&&oe.push(Te.left),Xe(Se,oe)}function Qe(Se){return Se.transform(new Gn(function(oe,Te,tt){var St;return oe instanceof fn?q!==oe&&q.TYPE==oe.TYPE&&!((St=this.parent())instanceof Vn&&St.init===oe)&&Ws(oe)?(q.definitions=q.definitions.concat(oe.definitions),se=!0,St instanceof Tn&&St.init===oe?null:tt?C.skip:b(_t,oe)):oe:!(oe instanceof vi)&&!(oe instanceof nt)&&on(oe)?void 0:oe}))}}(t)?8:T)&&k==8)break;!s.option("collapse_vars")||!function(R,q){if(!v.pinned()){for(var se,j,Y=new we,U=[],de=!1,I=new we,A=R.length,ce=new Gn(function(_,N){if(ut)return _;if(!mt){if(_===Qe[oe]){if(++oe<Qe.length)return H(_,ce);mt=!0,(It=(Ue?Xt:Je)(_,0))===_&&(ut=!0)}return _}var Oe,J,Ze,et=ce.parent();return!Q&&Pe(_,et)&&(Q=et),F&&z&&Bt&&!Q&&_ instanceof Ye&&_.operator!="="&&_.left.equals(L)?(Rn++,de=!0,V.info("Cascading {this} [{start}]",_),Bt=!1,te=ai(L),_.right.transform(ce),ms(Te),J=ut?Te:(ut=!0,b(he,Te,{operator:F,left:L.fixed&&L.definition().fixed?L.fixed.to_binary(Te):L,right:We})),b(Ye,_,{operator:"=",left:_.left,right:b(he,_,{operator:_.operator.slice(0,-1),left:J,right:_.right})})):function(Ge,Mt){return Ge===We||Mt instanceof Tn&&Ge!==Mt.init?1:Ge instanceof Ye?Ge.operator!="="&&L.equals(Ge.left):Ge instanceof ot?L instanceof at&&L.equals(Ge.expression)&&(!(We instanceof bn)||We.contains_this()):Ge instanceof En?!q.has_directive("use strict"):Ge instanceof In||(Ge instanceof Yi?ee&&L.name===Ge.name.name:Ge instanceof An?Ge.key instanceof V:Ge instanceof bo||Ge instanceof Vr||Ge instanceof ni||Ge instanceof Dr)}(_,et)?(ut=!0,_):_.single_use?_:_ instanceof hn||!(z&&L.equals(_)||B&&(Oe=B(_,this)))?function(Ge,Mt){if(Ge instanceof K){if(Ge.is_declared(q)){if(Ge.fixed_value())return;if(ar(Ge))return!(Mt instanceof at&&Mt.expression===Ge)&&Rs(Ge.definition())}else if(ye(Ge,Mt))return;if(!st)return 1;B=!1}}(_,et)?(ut=!0,_):((ct(_,et)||ve(_))&&(It=_)instanceof nt&&(ut=!0),_ instanceof Vi||_ instanceof Tt?(Ze=Bt,Bt=!1,N(_,ce),Bt=Ze,me(_)):_ instanceof Ct?(_.name=_.name.transform(ce),Ze=Bt,Bt=!1,_.value=_.value.transform(ce),Bt=Ze,me(_)):!(_ instanceof Mn)||_ instanceof nt||_.variables&&_.variables.all(function(Ge){return!ze.has(Ge.name)&&!te.has(Ge.name)})?H(_,ce)?me(_):void 0:(Ze=Bt,Bt=!1,H(_,ce)||N(_,ce),Bt=Ze,me(_))):!Bt||Q&&(Oe||!Me||!st)?(Oe||Ue||(ut=!0),_):Wi(_,et)?(Ue&&!Oe&&(St=!0),_):!Oe&&At&&_.fixed!==L.fixed?(ut=!0,_):Ue?(Q&&tt==0&&(tt=Se-Rn),Oe||Rn++,_):(Rn++,de=ut=!0,V.info("Collapsing {this} [{start}]",_),Te.TYPE=="Binary"?(kr(Te,_),b(Ye,Te,{operator:"=",left:Te.right.left,right:Te.operator=="&&"?b(lt,Te,{condition:Te.left,consequent:Te.right.right,alternative:_}):b(lt,Te,{condition:Te.left,consequent:_,alternative:Te.right.right})})):Te instanceof Br?b(Ve,Te,{operator:Te.operator,expression:L.fixed&&L.definition().fixed?L.fixed.to_prefix(Te):L}):Te instanceof Ve?(ms(Te),Te):(kr(We,_),Te instanceof Wt?(J=Te.name.definition()).references.length-J.replaced!=1||q.exposed(J)?b(Ye,Te,{operator:"=",left:_,right:We}):(J.replaced++,lr(et,_,We)):(ms(We),N=Te.clone(),N.right=We,N)))},me),ke=new Gn(function(_){if(ut)return _;if(!mt){if(_!==Qe[oe])return _;switch(oe++,Qe.length-oe){case 0:if(mt=!0,St||_!==Te||_ instanceof Wt)return _;M.replaced++;var N=ke.parent();return N instanceof Ke&&N.tail_node()!==_?(Ue.replaced++,We===qe?C.skip:Xe(qe,qe.expressions.slice(0,-1))):We;case 1:if(!St&&_.body===Te)return mt=!0,M.replaced++,Ue.replaced++,null;default:return H(_,ke)}}if(_ instanceof K&&_.definition()===M){if(Wi(_,ke.parent()))return _;--Rn||(ut=!0),V.info("Replacing {this} [{start}]",_);var Oe=We.clone();return Oe.scope=_.scope,Oe.reference(),Rn==tt?(ut=!0,b(Ye,Te,{operator:"=",left:_,right:Oe})):(M.replaced++,Oe)}return _ instanceof cs||_ instanceof nt?_:void 0},function(_){return Cn(_,ke)});0<=--A;){A==0&&q.option("unused")&&function(){if(h!==!1){var _=q.parent(),N=q.self();if(h===void 0){if(!(N instanceof bn)||Li(N)||N.uses_arguments||N.pinned()||!(_ instanceof ot)||_.expression!==N||!le(_.args,function(sn){return!(sn instanceof Qt)}))return h=!1;if(!Hp(_))return;h=!0}for(var Oe,J=N.in_strict_mode(q)&&!N.parent_scope.resolve(!0).in_strict_mode(q),Ze=(mi(N)?(Oe=function(sn){return sn instanceof Xn&&sn.name=="await"},u=!0):(Oe=function(sn){return sn instanceof pn&&!et.find_parent(nt)},u===void 0&&(u=Np(q,1,_,null,!0,!0))),null),et=new rt(function(sn,ur){var gs;return!On||(Oe(sn)||sn instanceof yi?!(On=null):sn instanceof Hi?(!J&&Ze||(On=null),!0):sn instanceof K?((sn.in_arg&&!Zo(sn.definition())||(gs=N.variables.get(sn.name))&&gs!==sn.definition())&&(On=null),!0):sn instanceof nt&&!$n(sn)?(gs=Ze,Ze=sn,ur(),Ze=gs,!0):void 0)}),Ge=(se=_.args.slice()).length,Mt=new we,jt=N.argnames.length;0<=--jt;){var rn=N.argnames[jt],On=se[jt],fr=null;if(rn instanceof Ct&&(fr=rn.value,rn=rn.name,se[Ge+jt]=fr),rn instanceof Tt){if(u&&ft(function(sn){return sn.has_side_effects(q)},rn,On)){U.length=0;break}se[Ge+jt]=N.argnames[jt]}else Mt.has(rn.name)||(Mt.set(rn.name,!0),(On=fr?Di(On)?fr:null:On)||fr?On instanceof ht&&On.pinned()?On=null:On&&On.walk(et):On=b(an,rn).transform(q),On&&((rn=b(Wt,rn,{name:rn,value:On})).name_index=jt,rn.arg_index=fr?Ge+jt:jt,U.unshift([rn])))}N.rest&&se.push(N.rest)}}();var Qe=[];for(be(R[A]);0<U.length;){Qe=U.pop();var Se,oe=0,Te=Qe[Qe.length-1],tt=-1,St=!1,At=!1,Ue=null,It=null,Q=null,L=function(_){if(_ instanceof Ye)return(N=_.left)instanceof K&&(J=N.definition(),v.uses_arguments&&Xr(J)||q.exposed(J)||(Se=Sn(J),J.fixed&&N.fixed&&(Oe=J.references.filter(function(Ze){return Ze.fixed===N.fixed}).length-1)<Se&&(Se=Oe,At=!(tt=0)),_.operator=="="&&Un(_.right))),N;if(_ instanceof he)return _.right.left;if(_ instanceof en)return _.expression;if(_ instanceof Wt){var N,Oe,J=(N=_.name).definition();if(!J.const_redefs&&n(N,J.orig)&&(!v.uses_arguments||!Xr(J)))return Oe=J.orig.length-J.eliminated-(I.get(J.name)||0),Se=Sn(J),J.fixed&&(Se=Math.min(Se,J.references.filter(function(Ze){return!Ze.fixed||!Ze.fixed.assigns||(Ze=Ze.fixed.assigns[0])===N||Ui(Ze)===_.value}).length)),1<Oe&&!(N instanceof $t)?(Un(_.value),b(K,N)):Un(_.value)||Se==1&&!q.exposed(J)?b(K,N):void 0}}(Te),Le=L&&L.has_side_effects(q),z=L&&(!Le||L instanceof K)&&!al(L,q),B=function(_){if(!(_ instanceof Ye&&_.right.single_use)){for(var N,Oe=Object.create(null),J=new rt(function(Ge){Ge instanceof K&&(Oe[Ge.definition().id]=!0)});_ instanceof Ye&&_.operator=="=";)_.left.walk(J),_=_.right;if(_ instanceof Hi)return et;if(_ instanceof K)return(Ze=_.evaluate(q))===_?et:es(Ze,et);if(_.is_truthy())return es(!0,d);if(_.is_constant()){var Ze=_.evaluate(q);if(!(Ze instanceof V))return es(Ze,et)}return L instanceof K?!!function Ge(Mt){return Mt instanceof yt?!1:Mt instanceof he&&gn[Mt.operator]?Ge(Mt.left)&&Ge(Mt.right):Mt instanceof ot?!1:Mt instanceof lt?Ge(Mt.consequent)&&Ge(Mt.alternative):Mt instanceof tn?!1:!Mt.has_side_effects(q)}(_)&&(_.walk(new rt(function(Ge){if(N)return!0;Ge instanceof K&&Oe[Ge.definition().id]&&(N=!0)})),!N)&&et:!1}function et(Ge){return _.equals(Ge)}}(Te);if(z||B){var F=Te instanceof Ye&&Te.operator.slice(0,-1),ee=Te.name instanceof $t,ve=d;if(Te.may_throw(q)){if(ee&&mi(v))continue;ve=g?function(_){return _.has_side_effects(q)}:Pi}var ue=!1,De=!1,ze=new we,_e=!0,te=ai(Te),Me=function(_){var N=lc(_);return N instanceof K&&N.definition().scope.resolve()===v&&(!p||!F&&!(Te instanceof en||(N=te.get(N.name))&&N[0]!==_))}(L),qe=Ui(Te),We=qe,vt=(Le||(!F&&We instanceof Ke&&(We=We.tail_node()),Le=!(Te instanceof en)&&We.has_side_effects(q)),g||!Me?function(_){return _ instanceof Tt}:d),st=function(_){if(_ instanceof en||Le)return!1;if(!Ue){if(!(L instanceof K))return!1;var N;if(_ instanceof Wt)N=1;else{if(_.operator!="=")return!1;N=2}if(_=L.definition(),_.references.length-_.replaced!=N){if(!_.fixed||!L.fixed)return!1;var Oe=L.fixed.assigns,J=0;if(!le(_.references,function(Ze,et){return Ze=Ze.fixed,Ze&&!Ze.to_binary&&!Ze.to_prefix&&(Ze===L.fixed?(J++,1):Oe&&Ze.assigns&&Oe[0]!==Ze.assigns[0])})||J!=N)return!1;At=!0}}return!0}(Te),mt=ee,ut=!1,Rn=0,Bt=!se||!mt;if(!Bt){for(var ri=Te.arg_index+1;!ut&&ri<se.length;ri++)se[ri]&&se[ri].transform(ce);Bt=!0}for(var kn=A;!ut&&kn<R.length;kn++)R[kn].transform(ce);if(Ue){if(!Rn||Rn+St<Se){U.push(Qe),j=!0;continue}Rn==tt&&(St=!0);var M=L.definition();for(ut=!1,oe=0,mt=ee,kn=A;!ut&&kn<R.length;kn++)R[kn].transform(ke)||R.splice(kn--,1);Rn=Te instanceof Wt&&Te===Qe[Qe.length-1]&&M.references.length==M.replaced&&!q.exposed(M),Ue.last_ref=!1,Ue.single_use=!1,de=!0}Rn&&function(Mt){var N,Oe,J,Ze,et,Ge=We===qe?null:Xe(qe,qe.expressions.slice(0,-1)),Mt=Mt.name_index;0<=Mt?(Oe=v.argnames[Mt])instanceof Ct?(v.argnames[Mt]=Oe=Oe.clone(),Oe.value=Ge||b(dt,Oe,{value:0})):(N=q.parent().args)[Mt]&&(v.argnames[Mt]=Oe.clone(),N[Mt]=Ge||b(dt,N[Mt],{value:0})):(J=Qe.length-1,Ze=Qe[J],(Ze instanceof Wt||Qe[J-1].body===Ze)&&J--,et=new Gn(function(jt,rn,On){var fr,sn,ur,gs,Lm;return mt||jt!==Qe[oe]?jt:++oe<=J?H(jt,et):(mt=!0,jt instanceof fn?(I.set(Ze.name.name,(I.get(Ze.name.name)||0)+1),Ue&&Ue.replaced++,sn=(fr=jt.definitions).indexOf(Ze),(ur=Ze.clone()).value=null,Ge?(gs=[b(Re,Ge,{body:Ge})],0<sn&&((Lm=jt.clone()).definitions=fr.slice(0,sn),gs.unshift(Lm),(jt=jt.clone()).definitions=fr.slice(sn)),gs.push(jt),jt.definitions[0]=ur,On?C.splice(gs):b(Be,jt,{body:gs})):(jt.definitions[sn]=ur,jt)):Ge?on(jt)?b(Re,Ge,{body:Ge}):Ge:On?C.skip:null)},function(jt,rn){return jt instanceof Tn?Jp(jt,rn):Cn(jt,et)}),mt=ut=!1,oe=0,(R[A]=R[A].transform(et))||R.splice(A,1))}(Te)}}}return de}function me(_){return ut||(It===_&&(ut=!0),Q===_&&(Q=null)),_}function H(_,N){if(_ instanceof Mn){if(_ instanceof nt)return _;if(_ instanceof En){_.name&&(_.name=_.name.transform(N)),!ut&&_.extends&&(_.extends=_.extends.transform(N));for(var Oe=[],J=[],Ze=0;!ut&&Ze<_.properties.length;Ze++)(et=_.properties[Ze]).key instanceof V&&(et.key=et.key.transform(N)),et.static&&(et instanceof ls?et.value&&Oe.push(et):et instanceof As&&[].push.apply(J,et.value.body));for(Ze=0;!ut&&Ze<J.length;Ze++)J[Ze].transform(N);for(var et,Ze=0;!ut&&Ze<Oe.length;Ze++)(et=Oe[Ze]).value=et.value.transform(N);return _}if(_ instanceof Vn)return _.object=_.object.transform(N),ut=!0,_;if(_ instanceof Oi){for(_.expression=_.expression.transform(N),Ze=0;!ut&&Ze<_.body.length;Ze++){var Ge=_.body[Ze];if(Ge instanceof sr){if(!mt){if(Ge!==Qe[oe])continue;oe++}if(Ge.expression=Ge.expression.transform(N),!st)break;B=!1}}return ut=!0,_}}}function ye(_,N){return N instanceof Ye?N.operator=="="&&N.left===_:N instanceof Ct?N.name===_:N instanceof wn||N instanceof An&&N.value===_}function Pe(_,N){return N instanceof Ye?N.left!==_&&gn[N.operator.slice(0,-1)]:N instanceof he?N.left!==_&&gn[N.operator]:N instanceof ot?N.optional&&N.expression!==_:N instanceof sr?N.expression!==_:N instanceof lt||N instanceof Zt?N.condition!==_:N instanceof Kt&&N.optional&&N.expression!==_}function ct(_,N){if(_ instanceof pn)return 1;if(_.TYPE=="Binary")return!hl(_.operator,_.right,q);if(_ instanceof ot){var Oe=_.expression;if(Oe instanceof K&&(jt=Oe.definition(),Oe=Oe.fixed_value()),!(Oe instanceof ht))return!_.is_expr_pure(q);if(!jt||!pl(q,jt,Oe)){if(Oe.collapse_scanning)return;Oe.collapse_scanning=!0;for(var J=Bt,Ze=(Bt=!1,It),et=Q,Ge=0;!ut&&Ge<Oe.argnames.length;Ge++)ft(rn,Oe.argnames[Ge],_.args[Ge])&&(ut=!0);if(!ut)if(Oe.rest&&ft(rn,Oe.rest,b(yt,_,{elements:_.args.slice(Ge)})))ut=!0;else if($n(Oe)&&Oe.value)Oe.value.transform(ce);else for(Ge=0;!ut&&Ge<Oe.body.length;Ge++){var Mt=Oe.body[Ge];if(Mt instanceof Nt){Mt.value&&Mt.value.transform(ce);break}Mt.transform(ce)}if(Q=et,It=Ze,Bt=J,Oe.collapse_scanning=!1,!ut)return;ut=!1}return 1}var jt;if(_ instanceof En)return g&&(et=_.extends)&&!wc(et=et instanceof K?et.fixed_value():et);if(_ instanceof Ln)return g&&(g.bfinally||g.bcatch&&_ instanceof Ha)?1:Le||L instanceof at||Qr(L);if(_ instanceof Pn)return q.option("ie")&&_.name&&te.has(_.name.name);if(_ instanceof Hi)return Sr(_);if(_ instanceof at)return Le||(Ze=_.expression,Ze instanceof K&&Rs(Ze.definition()))?1:q.option("unsafe")&&(Hn(Ze)&&Au[Ze.name]||rm(Ze))?void 0:_e?!Ue&&(g||!Me)&&!_.optional&&Ze.may_throw_on_access(q):1;return _ instanceof Qt||(_ instanceof K?Sr(_)?!ye(_,N):Le&&Qr(_)||(jt=_.definition(),(g||jt.scope.resolve()!==v)&&!ar(_)):_ instanceof Dn?!_.is_expr_pure(q):_ instanceof Wt?vt(_.name)||(_.value||N instanceof yr)&&_.name.match_symbol(function(On){return On instanceof hn&&(te.has(On.name)||Le&&Qr(On))},!0):_ instanceof yi||(J=Wi(_.left,_))&&(J instanceof at||vt(J)||J.match_symbol(function(On){return On instanceof K&&(te.has(On.name)||ue&&q.exposed(On.definition()))},!0)));function rn(On){return On.transform(ce),ut}}function ft(_,N,Oe){return N instanceof Ct?_(N.value)||ft(_,N.name,N.value)||!Di(Oe)&&ft(_,N.name,Oe):Oe?N instanceof Tt?!(!N.rest||!ft(_,N.rest))||(N instanceof wn?Oe instanceof yt?!le(N.elements,function(J,Ze){return!ft(_,J,Oe[Ze])}):!Oe.is_string(q)||!le(N.elements,function(J){return!ft(_,J)}):N instanceof si?!!Oe.may_throw_on_access(q)||!le(N.properties,function(J){return!(J.key instanceof V&&_(J.key)||ft(_,J.value))}):void 0):void 0:!(N instanceof Xn)}function be(_,N){var Oe,J;Qe.push(_),_ instanceof yt?_.elements.forEach(function(Ze){be(Ze,N)}):_ instanceof Ye?((J=_.left)instanceof Tt||U.push(Qe.slice()),be(J),be(_.right),J instanceof K&&_.operator=="="&&Y.set(J.name,(Y.get(J.name)||0)+1)):_ instanceof pn?be(_.expression,N):_ instanceof he?(J=gn[_.operator],N&&J&&_.operator!="??"&&_.right instanceof Ye&&_.right.operator=="="&&!(_.right.left instanceof Tt)&&U.push(Qe.slice()),be(_.left,!J&&N),be(_.right,N)):_ instanceof ot?(be(_.expression),_.args.forEach(be)):_ instanceof sr?be(_.expression):_ instanceof lt?(be(_.condition),be(_.consequent,N),be(_.alternative,N)):_ instanceof fn?_.definitions.forEach(be):_ instanceof Lt?be(_.expression):_ instanceof bo?(be(_.condition),_.body instanceof ei||be(_.body)):_ instanceof Ln?_.value&&be(_.value):_ instanceof Tn?(_.init&&be(_.init,!0),_.condition&&be(_.condition),_.step&&be(_.step,!0),_.body instanceof ei||be(_.body)):_ instanceof Vn?(be(_.object),_.body instanceof ei||be(_.body)):_ instanceof Zt?(be(_.condition),_.body instanceof ei||be(_.body),!_.alternative||_.alternative instanceof ei||be(_.alternative)):_ instanceof tn?_.properties.forEach(function(Ze){Qe.push(Ze),Ze.key instanceof V&&be(Ze.key),Ze instanceof ii&&be(Ze.value,N),Qe.pop()}):_ instanceof Ke?(Oe=_.expressions.length-(N?0:1),_.expressions.forEach(function(Ze,et){be(Ze,et<Oe)})):_ instanceof Re?be(_.body,!0):_ instanceof Qt?be(_.expression):_ instanceof Kt?(be(_.expression),be(_.property)):_ instanceof Oi?(be(_.expression),_.body.forEach(be)):_ instanceof en?$o[_.operator]?U.push(Qe.slice()):be(_.expression):_ instanceof Wt?(_.name instanceof oi&&(_.value?(J=_.name.definition()).references.length>J.replaced&&U.push(Qe.slice()):I.set(_.name.name,(I.get(_.name.name)||0)+1)),_.value&&be(_.value)):_ instanceof yi&&_.expression&&be(_.expression),Qe.pop()}function Je(_,N){var Oe=ce.parent(N);return Oe instanceof yt||Oe instanceof Ye||Oe instanceof pn||Oe instanceof he||Oe instanceof ot||Oe instanceof sr||Oe instanceof lt?_:Oe instanceof fn?zt(Oe,N+1):Oe instanceof Ln||Oe instanceof Zt||Oe instanceof Ei||Oe instanceof Qi||Oe instanceof at?_:Oe instanceof Ke?(Oe.tail_node()===_?Je:zt)(Oe,N+1):Oe instanceof Re?zt(Oe,N+1):Oe instanceof Qt||Oe instanceof Oi||Oe instanceof en||Oe instanceof Wt||Oe instanceof yi?_:null}function Vt(_,N,Oe){for(var J;J=_,(_=ce.parent(++Oe))instanceof Ye&&_.operator.slice(0,-1)==N||_ instanceof he&&_.operator==N;);return J}function Pt(_,N,Oe,J,Ze){var et=Bt,Ge=(Bt=!1,It),Mt=Q,jt=ce.stack;return ce.stack=[J],_.transform(ce),ce.stack=jt,Q=Mt,It=Ge,Bt=et,ut?(ut=!1,Oe):N(J,Ze+1)}function Xt(_,N){var Oe,J=ce.parent(N);return J instanceof yt?Xt(J,N+1):J instanceof Ye?ve(J)||J.left.match_symbol(function(Ze){return Ze instanceof K&&(L.name==Ze.name||Ue.name==Ze.name)})?_:J.left!==_&&gn[Oe=J.operator.slice(0,-1)]?Vt(J,Oe,N):Xt(J,N+1):J instanceof pn?Xt(J,N+1):J instanceof he?J.left!==_&&gn[Oe=J.operator]?Vt(J,Oe,N):Xt(J,N+1):J instanceof ot?J:J instanceof sr?J.expression!==_?_:Xt(J,N+1):J instanceof lt?J.condition!==_?_:Xt(J,N+1):J instanceof fn?zt(J,N+1):J instanceof os?_:J instanceof Ln?zt(J,N+1):J instanceof Tn?J.init!==_&&J.condition!==_?_:Xt(J,N+1):J instanceof Vn?J.init!==_?_:Xt(J,N+1):J instanceof Zt?J.condition!==_?_:Xt(J,N+1):J instanceof Qi?le((Oe=ce.parent(N+1)).properties,function(Ze){return Ze instanceof ii})?Xt(Oe,N+2):Oe:J instanceof at?J.expression===_?Xt(J,N+1):_:J instanceof Ke?(J.tail_node()===_?Xt:zt)(J,N+1):J instanceof Re?zt(J,N+1):J instanceof Qt?Xt(J,N+1):J instanceof Oi?J.expression!==_?_:Xt(J,N+1):J instanceof en?J.operator=="delete"?_:Xt(J,N+1):J instanceof Wt?J.name.match_symbol(function(Ze){return Ze instanceof hn&&(L.name==Ze.name||Ue.name==Ze.name)})?_:Xt(J,N+1):J instanceof Ns?J.condition!==_?_:Xt(J,N+1):J instanceof yi?Xt(J,N+1):null}function zt(_,N){var Oe,J=ce.parent(N);return ct(_,J)||Pe(_,J)?_:J instanceof yt?zt(J,N+1):J instanceof Ye?Ze(J.left):J instanceof pn?_:J instanceof he||J instanceof ot||J instanceof sr||J instanceof lt||J instanceof fn||J instanceof Ln||J instanceof Zt?zt(J,N+1):J instanceof Ei?_:J instanceof Qi?le((Oe=ce.parent(N+1)).properties,function(et){return et instanceof ii})?zt(Oe,N+2):Oe:J instanceof at?(Oe=J.expression)===_?zt(J,N+1):Pt(Oe,zt,_,J,N):J instanceof Ke||J instanceof Re?zt(J,N+1):J instanceof Qt?_:J instanceof Oi||J instanceof en?zt(J,N+1):J instanceof Wt?Ze(J.name):J instanceof yi?_:null;function Ze(et){return ve(J)?_:et!==_&&et instanceof Tt?Pt(et,zt,_,J,N):zt(J,N+1)}}function Un(_){if(j)j=!1;else if(!(Se<1)){var N=(_=_.tail_node())instanceof Ye&&_.operator=="="?_.left:_;if(N instanceof K){var Oe=N.definition();if(!Oe.undeclared&&!Rs(Oe)){if(N!==_){if(al(N,q)||Oe.references.length-Oe.replaced<2)return;_=Te.clone(),_[_ instanceof Ye?"right":"value"]=N,0<=Te.name_index&&(_.name_index=Te.name_index,_.arg_index=Te.arg_index),Te=_}return Ue=Oe}}}}function Sn(_){return _.references.length-_.replaced-(Y.get(_.name)||0)}function Ui(_){var N;return _ instanceof Ye?_.right:_ instanceof he?((N=_.clone()).right=_.right.right,N):_ instanceof Wt?_.value:void 0}function es(_,N){return function(Oe,J){if(J.in_boolean_context()){if(_&&Oe.is_truthy()&&!Oe.has_side_effects(q))return!0;if(Oe.is_constant()&&(J=Oe.evaluate(q),!(J instanceof V)))return!J==!_}return N(Oe)}}function ms(_){for(;_.write_only&&(_.write_only=!1,_ instanceof Ye);)_=_.right}function kr(_,N){var Oe=N.scope||Ao(ce)||l;_.walk(new rt(function(J){if(J instanceof Mn)return!0;J instanceof Xn&&(J.scope=Oe)}))}function ai(_){var N=new we,Oe=(_ instanceof Wt&&(_.name.definition().fixed||(_e=!1),N.add(_.name.name,L)),v.uses_arguments&&!q.has_directive("use strict")),J=v instanceof yn,Ze=new rt(function(et){var Ge,Mt,jt;if(et instanceof K?(Ge=et.fixed_value())||(Mt=(Ge=et).definition(),jt=et.fixed&&et.fixed.escaped||Mt.escaped,Mt.undeclared)||!Mt.assignments&&jt&&!jt.cross_scope||!Up(Mt,et.scope,et,Ze.parent())&&ba(Mt)||(_e=!1):et instanceof Hi&&(Ge=et),Ge)N.add(et.name,Rr(q,Ze,et,Ge,0));else{if(et instanceof ht){for(var rn,On=0,fr=et;rn=Ze.parent(On++);fr=rn){if(rn instanceof Ye){if(rn.left===fr)break;if(rn.operator=="="||gn[rn.operator.slice(0,-1)])continue;break}if(rn instanceof he){if(gn[rn.operator])continue;break}if(rn instanceof ot||rn instanceof nt)return;if(rn instanceof Ke){if(rn.tail_node()===fr)continue;break}if(rn instanceof Dn){if(rn.tag)return;break}}return et.enclosed.forEach(function(sn){sn.scope!==et&&ze.set(sn.name,!0)}),!0}Oe&&et instanceof Kt&&(v.each_argname(function(sn){q.option("reduce_vars")&&!sn.definition().assignments||(sn.definition().fixed||(_e=!1),N.add(sn.name,!0))}),Oe=!1)}J&&(et.TYPE=="Call"?De||(jt=et.expression)instanceof at||jt instanceof bn&&!jt.contains_this()||(De=!0):et instanceof at&&function sn(ur){return ur instanceof K&&!(ur=ur.fixed_value())||(ur instanceof Ye?ur.operator=="="&&sn(ur.right):ur instanceof at||ur instanceof Hi)}(et.expression)&&(et!==L||_ instanceof en?ue=!0:De=!0))});return _.walk(Ze),N}function Cn(_,N){if(_ instanceof Ke)switch(_.expressions.length){case 0:return null;case 1:return lr(N.parent(),_,_.expressions[0])}}function Sr(_){if(_=te.get(_.name),_&&!le(_,function(N){return!N}))return _[0]!==L||void(B=!1)}function Qr(_){return _=_.definition(),!(_.orig.length==1&&_.orig[0]instanceof br||_.scope.resolve()===v&&(!De||!q.exposed(_))&&le(_.references,function(N){return N.scope.resolve(!0)===v}))}function Pi(_,N){if(_ instanceof Ye)return Pi(_.left,!0);if(_ instanceof en)return Pi(_.expression,!0);if(_ instanceof Wt)return _.value&&Pi(_.value);if(N){if(_ instanceof Lt||_ instanceof Kt)return Pi(_.expression,!0);if(_ instanceof K)return _.definition().scope.resolve()!==v}return!1}}(t,s)||(T=9)}while(T&&0<S--);return t;function D(R,q){var se,j,Y=R.self(),U=0;do{Y instanceof Ni?Y=R.parent(U++):Y instanceof ti?Y=Y.body:Y instanceof vr&&((j=R.parent(U)).body[j.body.length-1]!==Y&&!function(de){for(var I=de.length;0<=--I;)if(de[I]instanceof rr)return 1}(Y.body)||(U++,Y=j));do if(q(se=Y))return se;while((Y=R.parent(U++))instanceof Zt)}while(se&&(Y instanceof Be||Y instanceof Ni||Y instanceof nt||Y instanceof vr||Y instanceof ni)&&qu(Y.body,se))}function Z(R,q){if(!(R instanceof Be))return R;for(var se=null,j=0;j<R.body.length;j++){var Y=R.body[j];if(Y instanceof un&&Ws(Y))q.push(Y);else{if(se||ll(Y))return!1;se=Y}}return se}function G(R){return R instanceof Ye?[R]:R instanceof Ke?R.expressions.slice():void 0}function pe(R,q,se){var j=G(q);if(j){for(var Y=!1,U=j.length-(se=se||0);0<=--U;)if(ke(A=j[U])){if(A.left instanceof K)de=j.slice(U+1);else{if(!(A.left instanceof at&&ke(A.left.expression)))continue;var de=j.slice(U+1),I=A.clone(),A=A.left.expression;I.left=I.left.clone(),I.left.expression=A.left.clone(),de.unshift(I)}de.length!=0&&Ce(A.left,A.right,de)&&(Y=!0,j=j.slice(0,U).concat(A,de))}if(R instanceof fn){for(U=R.definitions.length;0<=--U;){var ce=R.definitions[U];if(ce.value){Ce(ce.name,ce.value,j)&&(Y=!0),!function(Qe,Se,oe){if(s.option("conditionals")&&!(Qe.name instanceof Tt)){for(var Te=!1,tt=Qe.name.definition();Se.length>oe;){var St=eh(s,tt,Qe.value,Se[0]);if(!St)break;Qe.value=St,Se.shift(),Te=!0}return Te}}(ce,j,se)||(Y=!0);break}}R instanceof un&&ie(R.definitions,j,se)&&(Y=!0)}return Y&&j}function ke(Qe){return Qe instanceof Ye&&Qe.operator=="="}}function ne(R,q){if(R instanceof Re&&!Ws(q)&&(R=G(R.body),R)){var se=[];if(ie(se,R.reverse(),0))return q.definitions=se.reverse().concat(q.definitions),R.reverse()}}function ie(R,q,se){for(var j=!1;q.length>se;){var Y=q[0];if(!(Y instanceof Ye)||Y.operator!="=")break;var U=Y.left;if(!(U instanceof K)||Hn(U)||U.scope.resolve()!==v)break;var de=U.definition();if(de.scope!==v||de.orig.length>de.eliminated+1||de.orig[0].TYPE!="SymbolVar")break;U=b(oi,U),R.push(b(Wt,Y,{name:U,value:Y.right})),de.orig.push(U),de.replaced++,q.shift(),j=!0}return j}function Ce(R,q,se){var j=new we;for(j.set(R.name,!0);q instanceof Ye&&q.operator=="=";)q.left instanceof K&&j.set(q.left.name,!0),q=q.right;if(q instanceof tn){var Y=!1;do if(!function U(de){if(de instanceof Ye&&de.operator=="="&&de.left instanceof at){var I=de.left.expression;if(I instanceof K&&!!j.has(I.name)&&!!de.right.is_constant_expression(v)){var A=de.left.property;if(A instanceof V&&(A=(A=U(A)?de.left.property=A.right.clone():A).evaluate(s)),!(A instanceof V)&&(A=""+A,I=A=="__proto__"||s.has_directive("use strict")?function(ce){return ce=ce.key,typeof ce=="string"&&ce!=A&&ce!="__proto__"}:function(ce){var ke=ce.key;return ce instanceof Hs||ce instanceof Ms?typeof ke=="string"&&ke!=A:ke!=="__proto__"},!!le(q.properties,I)))return q.properties.push(b(ii,de,{key:A,value:de.right})),!0}}}(se[0]))break;while(se.shift(),Y=!0,se.length);return Y}}}function js(t,s,l){var u,h=!1;function p(g){u?(u.push(g),Pc(g)||(u.required=!0)):l.push(g)}s.walk(new rt(function(g,v){var x;return g instanceof gi?(g.extends=null,g.properties=[],p(g),!0):g instanceof fn?(g.remove_initializers(t,x=[])&&V.warn("Dropping initialization in unreachable code [{start}]",g),0<x.length&&(g.definitions=x,p(g)),!0):g instanceof dn?(p(g),!0):g instanceof nt||(g instanceof Mn?(x=u,u=[],v(),u.required?l.push(b(Be,s,{body:u})):u.length&&[].push.apply(l,u),u=x,!0):void(g instanceof Vr||(h=!0)))})),h&&V.warn("Dropping unreachable code [{start}]",s)}function Di(t,s){return t==null||t.is_undefined||t instanceof an||t instanceof Ve&&t.operator=="void"&&(!s||!t.expression.has_side_effects(s))}function Kp(t,s,l){switch(t){case"-":return s.is_negative_zero()&&(!(l instanceof nn)||l.value==0);case"&&":case"||":return s.is_negative_zero()||l.is_negative_zero();case"*":case"/":case"%":case"**":return!0;default:return!1}}function pa(t,s){return s||/strict/.test(t.option("pure_getters"))}function em(t,s,l){switch(s){case"&&":return l.left.is_defined(t)&&l.right.is_defined(t);case"||":return l.left.is_truthy()||l.right.is_defined(t);case"??":return l.left.is_defined(t)||l.right.is_defined(t);default:return!0}}function tm(t){V.warn("global_defs {this} redefined [{start}]",t)}function Jr(t,s,l){return s.print_to_string().length-t.print_to_string().length<(l||0)?s:t}function Tc(t,s,l){return Jr(b(Re,t,{body:t}),b(Re,s,{body:s}),l).body}function ma(t,s,l,u){return(it(t)?Tc:Jr)(s,l,u)}function zu(t){var s=Object.create(null);return Object.keys(t).forEach(function(l){s[l]=Ee(t[l])}),s}function nm(t){for(var s=0;s<t.length;s++){var l=t[s];if(!(l instanceof vn))return l}}function im(){return this.value?b(Nt,this.value,{value:this.value}):nm(this.body)}function ds(t,s){var l=s.evaluate(t);return l===s?s:ma(t,s,hs(l,s).optimize(t),t.eval_threshold)}function rm(t){if(t instanceof Lt){var s,l=t.expression;if(Hn(l))return(s=yc[l.name])&&(s[t.property]||l.name=="Math"&&t.property=="random")}}function Us(t){t instanceof wn?t.elements.forEach(Us):t instanceof si?t.properties.forEach(function(s){Us(s.value)}):t instanceof at?Us(t.expression):t instanceof K&&t.definition().references.forEach(function(s){delete s._eval})}function Iu(t,s,l,u,h){for(var p=[],g=0;g<t.length;g++){var v=t[g],x=v._eval(s,l,u,h);if(v===x)return;p.push(x)}return p}function ga(t){return b(Ve,t,{operator:"!",expression:t})}function Vu(t,s,l){return t=ga(t),l?Jr(t,b(Re,s,{body:s}))===t?t:s:Jr(t,s)}function _r(t,s,l){return!le(t,l?function(u){return u instanceof Qt?!l(u,s):!u.has_side_effects(s)}:function(u){return!u.has_side_effects(s)})}function sm(t,s){return t=t.expression,!t.is_string(s)||t.has_side_effects(s)}function Yr(t,s){for(var l=t.length;0<=--l;)if(t[l].may_throw(s))return!0;return!1}function om(t,s){return!!t.may_throw(s)||!((t=t instanceof K?t.fixed_value():t)instanceof ht&&!Yr(t.argnames,s)&&!Yr(t.body,s))||$n(t)&&t.value&&t.value.may_throw(s)}function Lu(t,s){for(var l=t.length;0<=--l;)if(!t[l].is_constant_expression(s))return!1;return!0}function cr(t){return t&&t.aborts()}function am(){var t=this.body.length;return 0<t&&cr(this.body[t-1])}function Bu(t,s,l){switch(t.body.length){case 0:return l?C.skip:b(_t,t);case 1:var u=t.body[0];return Pc(u)?s instanceof Ei&&u instanceof dn?t:u:t}return t}function Fu(t,s){!s.option("rests")||t.uses_arguments||t.rest instanceof wn&&s.drop_fargs(t,s.parent())&&(t.argnames=t.argnames.concat(t.rest.elements),t.rest=t.rest.rest)}function lm(t,s){if(s.option("arrows")){Fu(t,s),t.value&&(t.body=[t.first_statement()]);var l=Do(t.body,s);switch(l.length){case 1:var u=l[0];if(u instanceof Nt){t.body.length=0,t.value=u.value;break}default:t.body=l,t.value=null}}return t}function fl(t,s){for(var l=s.length;0<=--l;)s[l]||(s[l]=b(Bn,t))}function Nu(t,s){return t=b(Zr,t),t.name&&(t.name=s?null:b(ta,t.name)),t}function Ec(t,s){var l;switch(t.CTOR){case as:l=gr;break;case Ir:l=Fi;break;case Yi:l=Pn;break;case Es:l=Or}var u=b(l,t);return u.name=s?null:b(fi,t.name),u}function Oa(t,s){t.walk(new rt(function(l){return l instanceof Nt?(s(l),!0):l instanceof nt&&l!==t||void 0}))}function cm(t){var s=Object.create(null);return Oa(t,function(u){var u=u.value;(u=u&&u.tail_node())instanceof K&&(u=u.definition().id,s[u]=(s[u]||0)+1)}),s}function fm(t,s,l){if(l.exposed(t))return!1;switch(t.references.length-t.replaced-(s[t.id]||0)){case t.drop_return:return"d";case t.bool_return:return!0}}function um(t,s){Oa(t,function(l){l.in_bool=!0;var u,h=l.value;h&&((u=Kr(s,h))?u instanceof V||(h=h.drop_side_effect_free(s),l.value=h?Xe(l.value,[h,b(dt,l.value,{value:1})]):b(dt,l.value,{value:1})):(h=h.drop_side_effect_free(s),l.value=h?Xe(l.value,[h,b(dt,l.value,{value:0})]):null))})}function hm(t,s){return!t.name||!s.option("ie")||(t=t.name.definition(),!s.exposed(t)&&le(t.references,function(l){return!(l instanceof K)}))}function Ac(t,s,l){if(s instanceof ht){var u,h=$n(s),p=mi(s),g=!1,v=!1;if(h&&t.option("arrows")?s.value?p&&!bi(t,s.value)||(u=s.value.drop_side_effect_free(t))!==s.value&&(g=!0,s.value=u):v=!0:Li(s)||(v=!(!l&&s.name)||(u=s.name.definition()).references.length==u.replaced),v&&(s.process_expression(!1,function(T){var k=T.value;if(k){if(p&&!bi(t,k))return T;k=k.drop_side_effect_free(t,!0)}return g=!0,k?b(Re,T,{body:k}):b(_t,T)}),Oa(s,function(T){var k,S=T.value;!S||p&&!bi(t,S)||(k=S.drop_side_effect_free(t))!==S&&(g=!0,k&&p&&!bi(t,k)&&(k=k.negate(t)),T.value=k)})),p&&t.option("awaits")){v&&s.process_expression("awaits",function(T){var k=T.body;if(k instanceof pn){if(bi(t,k.expression)){if(g=!0,!(k=k.expression.drop_side_effect_free(t,!0)))return b(_t,T);T.body=k}}else if(k instanceof Ke){for(var S=k.expressions,D=S.length;0<=--D;){var Z=S[D];if(!(Z instanceof pn)||(Z=Z.expression,!bi(t,Z))||(g=!0,S[D]=Z.drop_side_effect_free(t)))break}switch(D){case-1:return b(_t,T);case 0:T.body=S[0];break;default:S.length=D+1}}return T});var x,E=!v&&s.name||h&&s.value&&!bi(t,s.value),w=new rt(function(T){return!!E||(w.parent()===s&&T.may_throw(t)||T instanceof pn||T instanceof Jo?E=!0:T instanceof Nt?T.value&&!bi(t,T.value)?E=!0:void 0:T instanceof nt&&T!==s||void 0)});if(s.walk(w),!E){switch(s.CTOR){case mr:x=Bi;break;case gr:x=Pn;break;case Fi:x=Or}return b(x,s)}}return g&&s.clone()}}function no(t,s,l,u){for(var h=t.length,p=[],g=!1,v=0;v<h;v++){var x=t[v],E=u&&x instanceof Qt?u(x,s,l):x.drop_side_effect_free(s,l);E!==x&&(g=!0),E&&(p.push(E),l=!1)}return p.length?g?p:t:null}function Dc(t,s,l){var u=t.expression;return u.is_string(s)?u.drop_side_effect_free(s,l):t}function Zc(t){return t instanceof Qt?b(yt,t,{elements:[t]}):t}function ul(t,s,l){l=l||Vr;var u=!1,h=new rt(function(p){return!!(u||p instanceof nt)||(p instanceof l&&h.loopcontrol_target(p)===t?u=!0:void 0)});return s instanceof ti&&h.push(s),h.push(t),t.body.walk(h),u}function ps(t,s,l){if((t=t instanceof Ke?t.tail_node():t)instanceof he)if(t.left instanceof wt){if(t.right instanceof Ve&&t.right.operator=="typeof"){var u=t.right.expression;if(Hn(u)){var h,p,g,v,x,E,w,T=t.left.value=="undefined";switch(t.operator){case"==":h=T?l:s;break;case"!=":h=T?s:l;break;default:return}h&&(p=!1,g=u.definition(),x=[],E=[],w=new rt(function(S,D){if(p)return!0;if(S instanceof Ye){var Z=S.left;if(!(Z instanceof K&&Z.definition()===g))return;switch(S.right.walk(w),S.operator){case"=":case"&&=":p=!0}return!0}var G;return S instanceof ot?(D(),(v=S.expression.tail_node())instanceof K&&(v=v.fixed_value(),G=x.length),v instanceof ht?fe(E,v)&&v.walk(w):p=!0,0<=G&&(x.length=G),!0):S instanceof bo?(G=x.length,D(),p&&(x.length=G),!0):S instanceof Tn?(S.init&&S.init.walk(w),G=x.length,S.condition&&S.condition.walk(w),S.body.walk(w),S.step&&S.step.walk(w),p&&(x.length=G),!0):S instanceof Vn?(S.object.walk(w),G=x.length,S.init.walk(w),S.body.walk(w),p&&(x.length=G),!0):S instanceof nt?S!==v||void 0:S instanceof K?(S.definition()===g&&x.push(S),!0):void 0}),h.walk(w),x.forEach(function(S){S.defined=!0}))}}}else switch(t.operator){case"&&":ps(t.left,s),ps(t.right,s);break;case"||":ps(k(t.left),l),ps(k(t.right),l)}function k(S){if(S instanceof he)switch(S.operator){case"==":return(S=S.clone()).operator="!=",S;case"!=":return(S=S.clone()).operator="==",S}}}function Kr(t,s,l){return!!s.truthy||(Di(s)?void 0:!(s.falsy&&!l)&&(!!s.is_truthy()||s.evaluate(t,!0)))}function Gu(t,s){var l,u=0,h=!1,p=t.self();if(!on(p))for(;;){if(l=p,(p=t.parent(u++))instanceof he)switch(l){case p.left:if(gn[p.operator])continue;break;case p.right:if(v(p.left))switch(p.operator){case"&&":s[h?"falsy":"truthy"]=!0;break;case"||":case"??":s[h?"truthy":"falsy"]=!0}}else if(p instanceof lt){var g=p.condition;if(g===l)continue;if(v(g))switch(l){case p.consequent:s[h?"falsy":"truthy"]=!0;break;case p.alternative:s[h?"truthy":"falsy"]=!0}}else{if(p instanceof Ln||p instanceof Zt)break;if(p instanceof Ke){if(p.expressions[0]===l)continue}else if(p instanceof Re)break}return}for(;;){if(l=p,(p=t.parent(u++))instanceof Be){if(p.body[0]===l)continue}else if(p instanceof Zt&&v(p.condition))switch(l){case p.body:s[h?"falsy":"truthy"]=!0;break;case p.alternative:s[h?"truthy":"falsy"]=!0}return}function v(x){return s.equals(x)||x instanceof Ve&&x.operator=="!"&&s.equals(x.expression)&&(h=!0)}}function Hu(t){return function(s,l){var u=!1;return this.definitions.forEach(function(h){h.value&&(u=!0),h.name.match_symbol(function(p){p instanceof hn&&l.push(b(Wt,p,{name:p,value:t(s,p)}))},!0)}),u}}function Zo(t){return t.name!="arguments"&&t.orig.length<(t.orig[0]instanceof fi?3:2)}function dm(t,s){if(t.exposed(s))return!0;for(var l=s.scope.resolve(),u=s.scope;u!==l;)if((u=u.parent_scope).var_names().has(s.name))return!0}function pm(t,s){return b(un,t,{definitions:t.definitions.map(function(l){return b(Wt,l,{name:l.name.convert_symbol(oi,function(u,h){var p=u.definition();p.orig[p.orig.indexOf(h)]=u,p.scope!==s&&((p.scope=s).variables.set(p.name,p),s.enclosed.push(p),s.var_names().set(p.name,!0))}),value:l.value})})})}function mm(t,s){return s=s.definition(),(s.fixed||s.fixed===0)&&Zo(s)&&ba(s)&&!dm(t,s)}function gm(t,s){return s.option("varify")&&le(t.definitions,function(l){return!l.name.match_symbol(function(u){if(u instanceof hn)return!mm(s,u)},!0)})?pm(t,s.find_parent(nt)):t}function Ju(t,s){if(s.option("optional_chains")&&t.terminal)do{var l=t.expression;if(t.optional){var u=Kr(s,l,!0);if(u==null)return b(Ve,t,{operator:"void",expression:l}).optimize(s);u instanceof V||(t.optional=!1)}}while(((t=l).TYPE=="Call"||t instanceof at)&&!t.terminal)}function qs(t){var s,l=t.expression;return l instanceof Ke?(l=l.expressions.slice(),(s=t.clone()).expression=l.pop(),l.push(s),Xe(t,l)):t}function Ku(t,s,l){var u=t.expression,h=u instanceof K?u.fixed_value():u;if(h instanceof ht&&!h.uses_arguments&&!h.pinned()&&!(l&&l.indexOf(h)<0)&&le(v=t.args,function(G){return!(G instanceof Qt)})){var p=h.argnames,l=h===u&&!h.name;if(h.rest){if(!l||!s.option("rests"))return;for(var g=p.length,v=v.slice(0,g);v.length<g;)v.push(b(an,t).optimize(s));v.push(b(yt,t,{elements:t.args.slice(g)})),p=p.concat(h.rest),h.rest=null}else v=v.slice(),p=p.slice();for(var x=0,E=0,w=l&&s.option("default_values"),T=l&&s.drop_fargs(h,t)?function(pe,ne){return!pe||(pe instanceof wn?pe.elements.length==0&&!pe.rest&&ne instanceof yt:pe instanceof si?pe.properties.length==0&&!pe.rest&&ne&&!ne.may_throw_on_access(s):pe.unused)}:d,k=[],S=0;S<v.length;S++){var D=p[S];if(w&&D instanceof Ct&&v[S].is_defined(s)&&(p[S]=D=D.name),D&&D.unused===void 0){if(T(D,v[S])){Z=v[S].drop_side_effect_free(s),p.splice(S,1),v.splice(S,1),Z&&k.push(Z),S--;continue}k.push(v[S]),v[x++]=Xe(t,k),k=[]}else{var Z=v[S].drop_side_effect_free(s);if(T(D)){D&&p.splice(S,1),v.splice(S,1),Z&&k.push(Z),S--;continue}if(Z)k.push(Z),v[x++]=Xe(t,k),k=[];else if(D){if(!k.length){v[x++]=b(dt,v[S],{value:0});continue}v[x++]=Xe(t,k),k=[]}}E=x}for(;S<p.length;S++)T(p[S])&&p.splice(S--,1);h.argnames=p,v.length=E,t.args=v,k.length&&(u=Xe(t,k),v.push(v.length<p.length?b(Ve,t,{operator:"void",expression:u}):u))}}function va(t,s){var l=[];return(mi(s=s||t.find_parent(nt))||s instanceof yn&&t.option("module"))&&l.push("await"),Li(s)&&l.push("yield"),l.length&&Ee(l)}function Mc(t,s){var l,u;return!s||(l=!0,u=new rt(function(h){if(!l)return!0;if(h instanceof nt){if(h===t)return;if($n(h))for(var p=0;l&&p<h.argnames.length;p++)h.argnames[p].walk(u);else h instanceof dn&&s[h.name.name]&&(l=!1);return!0}h instanceof Xn&&s[h.name]&&h!==t.name&&(l=!1)}),t.walk(u),l)}function Om(t,s){return t.in_strict_mode(s)||!s.has_directive("use strict")}function eh(t,s,l,u){if(u instanceof he&&(u.operator=="&&"||u.operator=="||")&&u.right instanceof Ye&&u.right.operator=="="&&u.right.left instanceof K&&u.right.left.definition()===s&&!l.has_side_effects(t)&&h(u.left)&&h(u.right.right))return s.replaced++,u.operator=="&&"?b(lt,u,{condition:u.left,consequent:u.right.right,alternative:l}):b(lt,u,{condition:u.left,consequent:l,alternative:u.right.right});function h(p){var g;if(!p.has_side_effects(t))return g=!1,p.walk(new rt(function(v){return!!g||(v instanceof K&&v.definition()===s?g=!0:void 0)})),!g}}function ya(t,s){return t instanceof Ye?!s&&t.operator=="="&&ya(t.right):t instanceof Si?!s:t instanceof Ke?ya(t.tail_node(),s):t instanceof K?!s&&ya(t.fixed_value()):t instanceof yt||t instanceof En||t instanceof ht||t instanceof tn}function hl(t,s,l){switch(t){case"in":return ya(s)||l&&l.option("unsafe_comps");case"instanceof":return Xs(s=s instanceof K?s.fixed_value():s)||l&&l.option("unsafe_comps");default:return!0}}function bi(t,s){var l;return!!s.is_constant()||(s instanceof Ye?s.operator!="="||bi(t,s.right):s instanceof he?!gn[s.operator]||bi(t,s.left)&&bi(t,s.right):s instanceof ot?mi(s.expression):s instanceof lt?bi(t,s.consequent)&&bi(t,s.alternative):s instanceof Ke?bi(t,s.tail_node()):s instanceof K?(l=s.fixed_value())&&bi(t,l):s instanceof Dn?!s.tag||Yc(t,s.tag):s instanceof en||void 0)}function Xc(t,s){return t instanceof Ye?al(t.left,s)?t:t.left:t instanceof Ke?Xc(t.tail_node(),s):!(t instanceof Ve&&$o[t.operator])||al(t.expression,s)?t:t.expression}function dl(t,s){return s instanceof Lt?dl(t,s.expression):s instanceof Kt?dl(t,s.expression)&&dl(t,s.property):s instanceof Xn||!s.has_side_effects(t)}function Rc(t,s){var l,u=t.right.tail_node();u!==t.right&&((l=t.right.expressions.slice(0,-1)).push(u.left),(u=u.clone()).left=Xe(t.right,l),t.right=u),t.left=b(he,t,{operator:t.operator,left:t.left,right:u.left,start:t.left.start,end:u.left.end}),t.right=u.right,s?t.left=t.left.transform(s):t.operator==u.left.operator&&Rc(t.left)}function pl(t,s,l){var u=0,h=t.self();do if(h===l||Xs(h)&&h.name&&h.name.definition()===s)return h;while(h=t.parent(u++))}function ba(t){var s=t.scope.resolve();return le(t.references,function(l){return s===l.scope.resolve()})}function Yc(t,s){return t.option("unsafe")&&s instanceof Lt&&s.property=="raw"&&Hn(s.expression)&&s.expression.name=="String"}function th(t){var s=!1;if(t=t.replace(/\\(u\{[^{}]*\}?|u[\s\S]{0,4}|x[\s\S]{0,2}|[0-9]+|[\s\S])/g,function(l,u){if(u=pp(u),typeof u=="string")return u;s=!0}),!s)return t}function nh(t,s){return t instanceof K||t.TYPE===s.TYPE}function Wc(t,s){var l=!1,u=new rt(function(p){return!!l||(p instanceof K&&n(p.definition(),s)?l=!0:void 0)}),h=new rt(function(p){if(l)return!0;if(p instanceof ht&&p!==t){if(!(p.name||mi(p)||Li(p))){var g=h.parent();if(g instanceof ot&&g.expression===p)return}return p.walk(u),!0}});return t.walk(h),l}function vm(t,s){var l;if(t)return(l=s.parent()).TYPE!="Call"?1:l.expression!==s.self()||(!(t instanceof K)||(t=t.fixed_value()))&&t instanceof ht&&!t.contains_this()}function jc(t){return t instanceof ii&&typeof t.key=="string"&&!(t instanceof Zs&&t.value.contains_super())}function Uc(t){var s=t.definition().redefined();return s&&((t=t.clone()).thedef=s),t}function wa(t,s){var l=!1;return s.walk(new rt(function(u){return!!l||(u instanceof K&&t.variables.get(u.name)===u.definition()?l=!0:void 0)})),l}function ym(t,s){var l=[];t.references.forEach(function(u){u=u.fixed,u&&fe(l,u)&&(u.assigns?u.assigns.unshift(s):u.assigns=[s])})}function bm(h,s){var l=b(K,s),u=b(Ye,s,{operator:"=",left:l,right:b(an,s).transform(h)}),h=s.definition();return h.fixed&&(l.fixed=function(){return u.right},l.fixed.assigns=[u],ym(h,u)),h.assignments++,h.references.push(l),u}function qc(t,s,l,u,h,p,g){for(var v=[],x=p.expressions,E=l,w=x.length-(g||0),T=w;0<=--w;h=!(E=!0)){var k=x[w].try_inline(t,s,E,u,h);k&&(S(),v.push(k))}if(v.length!=0)return S(),!l&&v[0]instanceof Re&&(v[0]=b(Nt,p,{value:v[0].body})),b(Be,p,{body:v.reverse()});function S(){w+1<T&&v.push(b(Re,p,{body:Xe(p,x.slice(w+1,T))})),T=w}}function ab(t){return t.type=="comment2"&&/@preserve|@license|@cc_on/i.test(t.value)}function zc(t){t=c(t,{annotations:!1,ascii_only:!1,beautify:!1,braces:!1,comments:!1,extendscript:!1,galio:!1,ie:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var s,l=d;function u(z){if(typeof z=="number")return new Array(z+1).join(" ");if(!z)return"";if(/^\s*$/.test(z))return z;throw new Error("unsupported indentation: "+JSON.stringify(""+z))}t.comments&&(s=t.comments,typeof t.comments=="string"&&/^\/.*\/[a-zA-Z]*$/.test(t.comments)&&(It=t.comments.lastIndexOf("/"),s=new RegExp(t.comments.substr(1,It-1),t.comments.substr(It+1))),l=s instanceof RegExp?function(z){return z.type!="comment5"&&s.test(z.value)}:typeof s=="function"?function(z){return z.type!="comment5"&&s(this,z)}:s==="some"?ab:m);var h,p,g,v,x,E,w,T=0,k=1,S=u(t.indent_start),D=u(t.indent_level),Z=D.length+1>>1,G=0,pe=!0,ne=t.source_map&&[],ie=!1,Ce=!1,R="";function q(){x=v=!1,w=[];var z=E;return E=h="",z}q();var se=t.ascii_only?function(z,B){return(z=B?z.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(F){return"\\u{"+(F.charCodeAt(0)-55232<<10|F.charCodeAt(1)-56320).toString(16)+"}"}):z).replace(/[\u0000-\u001f\u007f-\uffff]/g,function(F){var ee=F.charCodeAt(0).toString(16);if(ee.length<=2&&!B){for(;ee.length<2;)ee="0"+ee;return"\\x"+ee}for(;ee.length<4;)ee="0"+ee;return"\\u"+ee})}:function(z){for(var B,F="",ee=0,ve=0;ee<z.length;ee++){var ue=z.charCodeAt(ee);if(55296<=(B=ue)&&B<=56319){if(hp(z.charCodeAt(ee+1))){ee++;continue}}else if(!hp(ue))continue;F+=z.slice(ve,ee)+"\\u"+ue.toString(16),ve=ee+1}return ve==0?z:F+z.slice(ve)};function j(z){return"'"+z.replace(/\x27/g,"\\'")+"'"}function Y(z){return'"'+z.replace(/\x22/g,'\\"')+'"'}var U=[null,j,Y,function(z,B){return(B=="'"?j:Y)(z)}][t.quote_style]||function(z,B,F,ee){return(ee<F?j:Y)(z)};function de(z,B){var F=0,ee=0;return z=z.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(ve,ue){switch(ve){case'"':return++F,'"';case"'":return++ee,"'";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return t.ie?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\uFEFF":return"\\ufeff";case"\0":return/[0-9]/.test(z.charAt(ue+1))?"\\x00":"\\0"}return ve}),U(se(z),B,F,ee)}var I=ne?function(z,B){ne.forEach(function(F){F.line+=z,F.col+=B})}:f,A=ne?function(){ne.forEach(function(z){t.source_map.add(z.token.file,z.line,z.col,z.token.line,z.token.col,z.name||z.token.type!="name"?z.name:z.token.value)}),ne=[]}:f;function ce(z){R+=E.slice(0,G);var B=(E=E.slice(G)).length;for(I(z,B-T),k+=z,T=B;z--;)R+=`
`}var ke=t.max_line_len?function(z){pe?T>t.max_line_len&&V.warn("Output exceeds {max_line_len} characters",t):(T>t.max_line_len&&(ce(1),pe=!0),(pe||z)&&A())}:f,Qe=Ee("( [ + * / - , .");function Se(z,B,F){return mc(z)&&(mc(B)||B=="\\")||B=="/"&&B==z||(B=="+"||B=="-")&&B==h||h=="--"&&B==">"||h=="!"&&F=="--"||z=="/"&&(F=="in"||F=="instanceof")}var oe=t.beautify||t.comments||t.max_line_len||t.preserve_line||t.shebang||!t.semicolons||t.source_map||t.width?function(z){var ee=z.charAt(0),B=(ie&&ee&&(ie=!1,ee!=`
`)&&(oe(`
`),tt()),Ce&&ee&&(Ce=!1,/[\s;})]/.test(ee)||Te()),h.slice(-1)),F=(x&&(x=!1,B==":"&&ee=="}"||B!=";"&&(!ee||";}".indexOf(ee)<0))&&((F=Qe[ee])||t.semicolons?(E+=";",T++,pe||(ke(),pe&&!F&&E==";"&&(E="",T=0)),G==E.length-1&&G++):(ke(),E+=`
`,k++,T=0,/^\s+$/.test(z)&&(x=!0)),t.beautify||(v=!1)),v&&(Se(B,ee,z)&&(E+=" ",T++),B=="<"&&z=="!"||(v=!1)),g&&(ne.push({token:g,name:p,line:k,col:T}),g=!1,pe)&&A(),E+=z,z.split(/\r?\n/)),ee=F.length-1;k+=ee,T+=F[0].length,0<ee&&(ke(),T=F[ee].length),h=z}:function(z){var B=z.charAt(0),F=h.slice(-1);x&&(x=!1,F==":"&&B=="}"||(!B||";}".indexOf(B)<0)&&F!=";")&&(E+=";",v=!1),v&&(Se(F,B,z)&&(E+=" "),F=="<"&&z=="!"||(v=!1)),E+=z,h=z},Te=t.beautify?function(){oe(" ")}:function(){v=!0},tt=t.beautify?function(z){ie&&oe(`
`),oe(z?S.slice(0,-Z):S)}:f,St=t.beautify?function(z){var B=S;S+=D,z(),S=B}:function(z){z()},At=t.max_line_len||t.preserve_line?function(){ke(),G=E.length,pe=!1}:f,Ue=t.beautify?function(){oe(`
`),G=E.length}:At,It=t.beautify?function(){oe(";")}:function(){x=!0},Q=ne?function(z,B){g=z,p=B}:f;function L(z,B){ie||(!z.nlb||!B&&/(^|\n) *$/.test(E)?B&&(Ce=!0):ie=!0)}function Le(z){var B=z.value.replace(/[@#]__PURE__/g," ");return(!/^\s*$/.test(B)||/^\s*$/.test(z.value))&&(/comment[134]/.test(z.type)?(oe("//"+B),ie=!0):z.type=="comment2"&&oe("/*"+B+"*/"),1)}return{get:function(){return pe||ke(!0),R+E},reset:q,indent:tt,should_break:t.beautify&&t.width?function(){return T>=t.width}:d,has_parens:function(){return h.slice(-1)=="("},newline:Ue,print:oe,space:Te,comma:function(){At(),oe(","),At(),Te()},colon:function(){oe(":"),Te()},last:function(){return h},semicolon:It,force_semicolon:function(){x&&oe(";"),oe(";")},to_utf8:se,print_name:function(z){oe(se(z.toString(),!0))},print_string:t.inline_script?function(z,B){z=de(z,B).replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2"),oe(z.replace(/\x3c!--/g,"\\x3c!--").replace(/--\x3e/g,"--\\x3e"))}:function(z,B){oe(de(z,B))},with_indent:St,with_block:function(z,B){oe("{"),Ue(),St(z),Q(B),tt(),oe("}")},with_parens:function(z){oe("("),At(),z(),At(),oe(")")},with_square:function(z){oe("["),At(),z(),At(),oe("]")},add_mapping:Q,option:function(z){return t[z]},prepend_comments:t.comments||t.shebang?function(z){var B,F=this;z instanceof Ln?B=z.value:z instanceof yi&&(B=z.expression);var ee,ve,ue=(ue=ze(z))||[],De=(B&&((ee=new rt(function(_e){if(Me=_e,!((te=ee.parent())instanceof he?te.left===Me:te.TYPE=="Call"?te.expression===Me:te instanceof lt?te.condition===Me:te instanceof Lt?te.expression===Me:te instanceof Ln||(te instanceof Ke?te.expressions[0]===Me:te instanceof Kt?te.expression===Me:te instanceof Br||te instanceof yi)))return!0;var te,Me=ze(_e);Me&&(ue=ue.concat(Me))})).push(z),B.walk(ee)),k==1&&T==0&&(0<ue.length&&t.shebang&&ue[0].type=="comment5"&&(oe("#!"+ue.shift().value+`
`),tt()),ve=t.preamble)&&oe(ve.replace(/\r\n?|\u2028|\u2029|(^|\S)\s*$/g,`$1
`)),ue=ue.filter(l,z),!1);function ze(_e){var te=_e.start;if(!te){if(!B)return;_e.start=te=new Rt}if(_e=te.comments_before,!_e){if(!B)return;te.comments_before=_e=[]}if(_e._dumped!==F)return _e._dumped=F,_e}ue.forEach(function(_e,te){L(_e,te),Le(_e)&&(De=!0)}),De&&L(z.start,!0)}:f,append_comments:t.comments?function(z,B){var F=z.end;F&&(F=F[B?"comments_before":"comments_after"])&&F._dumped!==this&&(z instanceof cn||le(F,function(ee){return!/comment[134]/.test(ee.type)}))&&(F._dumped=this,F.filter(l,z).forEach(function(ee,ve){L(ee,ve||!B),Le(ee)}))}:f,push_node:function(z){w.push(z)},pop_node:t.preserve_line?function(){var z=w.pop();z.start&&z.start.line>k&&ce(z.start.line-k)}:function(){w.pop()},parent:function(z){return w[w.length-2-(z||0)]}}}function Fe(t,s){t.DEFMETHOD("_codegen",s)}function hi(t,s){t.DEFMETHOD("needs_parens",s)}function ml(t){var s=t.parent();return!t.has_parens()&&it(t,!1,!0)?this.name||!(s instanceof Ai):!!(t.option("webkit")&&s instanceof at&&s.expression===this)||!!(t.option("wrap_iife")&&s instanceof ot&&s.expression===this)||void 0}function wm(t){return!t.has_parens()&&it(t,!0)}function xm(t){return t=t.parent(),t instanceof he?t.operator=="**"&&t.left===this:t instanceof ot?t.expression===this:t instanceof En||(t instanceof at?t.expression===this:t instanceof Dn?t.tag===this:void 0)}function _m(t,s){return!!t.terminal&&(s instanceof ot||s instanceof at)&&s.expression===t}function gl(t,s){return s=s.parent(),s instanceof pn||(s instanceof he?!(s instanceof Ye):s instanceof ot?s.expression===t:s instanceof En||(s instanceof lt?s.condition===t:s instanceof at?s.expression===t:s instanceof Dn?s.tag===t:s instanceof en||void 0))}function km(t,s,l,g){var h=t.length-1,p=g,g=nl;t.forEach(function(v,x){p&&(v instanceof vn?v.value=="use asm"&&(nl=!0):v instanceof _t||(v instanceof Re&&v.body instanceof wt&&l.force_semicolon(),p=!1)),v instanceof _t||(l.indent(),v.print(l),x==h&&s)||(l.newline(),s&&l.newline())}),nl=g}function xa(t,s){s.print("{"),s.with_indent(function(){s.append_comments(t,!0)}),s.print("}")}function Mo(t,s,l){0<t.body.length?s.with_block(function(){km(t.body,!1,s,l)},t.end):xa(t,s)}function ih(t,s){return function(l){var u=this;l.print(t),l.space(),l.with_parens(function(){u.init.print(l),l.space(),l.print(s),l.space(),u.object.print(l)}),Xo(u.body,l)}}function Ic(t,s){var l=t.value;l=="*"||aa(l)?s.print_name(l):s.print_string(l,t.quote)}function Sm(t,s){s.with_parens(function(){t.argnames.forEach(function(l,u){u&&s.comma(),l.print(s)}),t.rest&&(t.argnames.length&&s.comma(),s.print("..."),t.rest.print(s))})}function Qm(t,s){var l=t.argnames.length==1&&!t.rest&&t.argnames[0];l instanceof $t&&l.name!="yield"?l.print(s):Sm(t,s),s.space(),s.print("=>"),s.space(),t.value?t.value.print(s):Mo(t,s,!0)}function _a(t,s){t.name&&(s.space(),t.name.print(s)),Sm(t,s),s.space(),Mo(t,s,!0)}function $m(t){t.print("async"),t.space(),t.print("function"),_a(this,t)}function Pm(t){t.print("async"),t.space(),t.print("function*"),_a(this,t)}function Cm(t){t.print("function*"),_a(this,t)}function Tm(t,s){var l=t.value;mi(l)&&(s.print("async"),s.space()),Li(l)&&s.print("*"),Ol(t,s),_a(t.value,s)}function Vc(t,s){return function(l){l.print(t);var u=this[s];u&&(l.space(),u.print(l)),l.semicolon()}}function Em(t,s){s.newline(),t.body.forEach(function(l){s.indent(),l.print(s),s.newline()})}function rh(t){return function(s){s.print(t),s.space(),this.definitions.forEach(function(u,h){h&&s.comma(),u.print(s)});var l=s.parent();l instanceof Ei&&l.init===this||s.semicolon()}}function Am(t,s,l){var u=!1;l&&t.walk(new rt(function(h){return!!u||(h instanceof he&&h.operator=="in"?u=!0:h instanceof nt&&(!$n(h)||!h.value)||void 0)})),t.print(s,u)}function Dm(t,s){if(s.option("annotations")&&t.pure){var l,u=0,h=t;do if(l=h,(h=s.parent(u++))instanceof ot&&h.expression===l)return;while(h instanceof at&&h.expression===l);s.print("/*@__PURE__*/")}}function Zm(t,s){s.with_parens(function(){t.args.forEach(function(l,u){u&&s.comma(),l.print(s)}),s.add_mapping(t.end)})}function Lc(t,s,l){var u=t.properties;0<u.length?s.with_block(function(){u.forEach(function(h,p){p&&(l||s.print(","),s.newline()),s.indent(),h.print(s)}),s.newline()},t.end):xa(t,s)}function Ol(t,s){var l=t.key;if(l instanceof V)return s.with_square(function(){l.print(s)});var u=t.start&&t.start.quote;if(s.option("quote_keys")||u&&s.option("keep_quoted_props"))s.print_string(l,u);else if(""+ +l==l&&0<=l)s.print(sh(l));else if(t.private)s.print_name(l);else{if(So[l]?!s.option("ie"):aa(l))return s.print_name(l),l;s.print_string(l,u)}}function Bc(t){return function(s){this.static&&(s.print("static"),s.space()),s.print(t),s.space(),Ol(this,s),_a(this.value,s)}}function vl(t){var s=t.definition();return s&&s.mangled_name||t.name}function Xo(t,s){s.option("braces")&&!(t instanceof Lr||t instanceof yr)?Fc(t,s):t instanceof _t?s.force_semicolon():(s.space(),t.print(s))}function Mm(t,s){return 0<t.args.length||s.option("beautify")}function sh(t){for(var s,l,u=t.toString(10).replace(/^0\./,".").replace("e+","e"),h=[u],p=(Math.floor(t)===t&&h.push(t<0?"-0x"+(-t).toString(16).toLowerCase():"0x"+t.toString(16).toLowerCase()),(t=/^\.0+/.exec(u))?(s=t[0].length,l=u.slice(s),h.push(l+"e-"+(l.length+s-1))):(t=/[^0]0+$/.exec(u))?(s=t[0].length-1,h.push(u.slice(0,-s)+"e"+s)):(t=/^(\d)\.(\d+)e(-?\d+)$/.exec(u))&&h.push(t[1]+t[2]+"e"+(t[3]-t[2].length)),h),g=p[0],v=g.length,x=1;x<p.length;++x)p[x].length<v&&(v=(g=p[x]).length);return g}function Fc(t,s){s.space(),t instanceof _t?xa(t,s):t instanceof Be?t.print(s):s.with_block(function(){s.indent(),t.print(s),s.newline()},t.end)}function oh(t,s){t.forEach(function(l){l.DEFMETHOD("add_source_map",s)})}(To.prototype=new Gn(function(t,s,l){var u,h;return t._squeezed?t:((u=t instanceof nt)&&(this.option("arrows")&&$n(t)&&t.value&&(t.body=[t.first_statement()],t.value=null),t.hoist_properties(this),t.hoist_declarations(this),t.process_returns(this)),s(t,this),s(t,this),h=t.optimize(this),!u||h!==t||this.has_directive("use asm")||h.pinned()||(h.drop_unused(this),h.merge_variables(this)&&h.drop_unused(this),s(h,this)),h===t&&(h._squeezed=!0),h)})).option=function(t){return this.options[t]},To.prototype.exposed=function(t){var s;return!!t.exported||!!t.undeclared||!!(t.global||t.scope.resolve()instanceof yn)&&(s=this.toplevel,!le(t.orig,function(l){return s[l instanceof br?"funcs":"vars"]}))},To.prototype.compress=function(t){(t=t.resolve_defines(this)).hoist_exports(this),this.option("expression")&&t.process_expression(!0);for(var s=this.options.merge_vars,l=+this.options.passes||1,u=1/0,h=!1,p={ie:this.option("ie")},g=0;g<l;g++)if(t.figure_out_scope(p),(0<g||this.option("reduce_vars"))&&t.reset_opt_flags(this),this.options.merge_vars=s&&(h||g==l-1),t=t.transform(this),1<l){var v=0;if(t.walk(new rt(function(){v++})),V.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:g,min_count:u,count:v}),v<u)u=v,h=!1;else{if(h)break;h=!0}}return this.option("expression")&&t.process_expression(!1),t},(Ie=function(t,s){t.DEFMETHOD("optimize",function(l){return this._optimized||l.has_directive("use asm")?this:((l=s(this,l))._optimized=!0,l)})})(V,function(t,s){return t}),yn.DEFMETHOD("hoist_exports",function(t){if(t.option("hoist_exports")){for(var s=this.body,l=[],u=0;u<s.length;u++){var h=s[u];h instanceof vi?(s[u]=h=h.body,h instanceof fn?h.definitions.forEach(function(g){g.name.match_symbol(p,!0)}):p(h.name)):h instanceof _o&&(s.splice(u--,1),[].push.apply(l,h.properties))}l.length&&s.push(b(_o,this,{properties:l}))}function p(g){g instanceof hn&&((g=b(ia,g)).alias=b(wt,g,{value:g.name}),l.push(g))}}),nt.DEFMETHOD("process_expression",function(t,s){var l=this,u=new Gn(function(h){var p;if(t){if((h=h instanceof vn?b(Re,h,{body:b(wt,h)}):h)instanceof Re)return s?s(h):b(Nt,h,{value:h.body})}else if(h instanceof Nt)return s?s(h):(p=h.value)instanceof wt?b(vn,p):b(Re,h,{body:p||b(Ve,h,{operator:"void",expression:b(dt,h,{value:0})})});if(h instanceof ei){if(h instanceof ht){if(h!==l)return h}else if(t==="awaits"&&h instanceof ni&&h.bfinally)return h;for(var g=h.body.length;0<=--g;){var v=h.body[g];if(!to(v,!0)){h.body[g]=v.transform(u);break}}}else h instanceof Zt?(h.body=h.body.transform(u),h.alternative&&(h.alternative=h.alternative.transform(u))):h instanceof Dr&&(h.body=h.body.transform(u));return h});l.transform(u)}),yn.DEFMETHOD("unwrap_expression",function(){var t=this;switch(t.body.length){case 0:return b(Ve,t,{operator:"void",expression:b(dt,t,{value:0})});case 1:var s=t.body[0];if(s instanceof vn)return b(wt,s);if(s instanceof Re)return s.body;default:return b(ot,t,{expression:b(Pn,t,{argnames:[],body:t.body}).init_vars(t),args:[]})}}),V.DEFMETHOD("wrap_expression",function(){var t=this;return t=(t=on(t)?t:b(Re,t,{body:t}))instanceof yn?t:b(yn,t,{body:[t]})}),Cu=/^(0|[1-9][0-9]*)$/,(X=function(t,s){t.DEFMETHOD("reduce_vars",s)})(V,f),X(Ye,function(t,s,l){var u=this,h=u.left,p=u.right,g=h instanceof K&&h.definition(),v=g||h instanceof Tt;switch(u.operator){case"=":return h.equals(p)&&!h.has_side_effects(l)?(p.walk(t),function S(D){Ys(D);{var Z;D instanceof Lt?S(D.expression):D instanceof Kt?(S(D.expression),D.property.walk(t)):D instanceof K?(fa(Z=D.definition(),D),Z.fixed&&(D.fixed=Z.fixed,D.fixed.assigns?D.fixed.assigns.push(u):D.fixed.assigns=[u])):D.walk(t)}}(h),u.redundant=!0):g&&p instanceof bn?(T(),p.parent_scope.resolve().fn_defs.push(p),p.safe_ids=null,g.fixed&&u.write_only||rl(t,g,p),!0):v?(p.walk(t),T(),!0):void Sc(h);case"&&=":case"||=":case"??=":var x=!0;default:if(!v)return Sc(h),k();g.assignments++;var E,w=g.fixed;return Rr(l,t,u,u,0)?(g.fixed=!1,k()):(E=ua(t,g),x&&_n(t,!0),p.walk(t),x&&jn(t),E&&!h.in_arg&&ol(t,g)?(fa(g,h),Ks(t,g),g.single_use&&(g.single_use=!1),h.fixed=g.fixed=function(){return b(he,u,{operator:u.operator.slice(0,-1),left:xc(h,w),right:u.right})},h.fixed.assigns=w&&w.assigns?w.assigns.slice():[g.orig[0]],h.fixed.assigns.push(u),h.fixed.to_binary=Xu(function(S){return S.left},w)):(h.walk(t),g.fixed=!1),!0)}function T(){var S=g&&pl(t,g),D=Rr(l,t,u,p,0,kc(p),S);Qc(t,l,h,function(){return u.right},function(Z,G,pe){var ne;Z instanceof K?((ne=Z.definition()).assignments++,G&&!Z.in_arg&&ol(t,ne)?(fa(ne,Z),Ks(t,ne),(h instanceof Tt||ne.orig.length==1&&ne.orig[0]instanceof br)&&(ne.single_use=!1),t.loop_ids[ne.id]=t.in_loop,ne.fixed=D?0:G,Z.fixed=G,Z.fixed.assigns=[u],ha(t,ne,Z.scope,u,p,0,1)):(pe(),ne.fixed=!1)):(Sc(Z),pe())})}function k(){if(x)return h.walk(t),_n(t,!0),p.walk(t),jn(t),!0}}),X(he,function(t){if(gn[this.operator])return this.left.walk(t),_n(t,!0),this.right.walk(t),jn(t),!0}),X(Mn,function(t,s,l){ca(0,l,this)}),X(ot,function(t,s){var l,u=this,h=u.expression;if(h instanceof bn)l=Hp(u),u.args.forEach(function(v){v.walk(t),v instanceof Qt&&(l=!1)}),l&&(h.reduce_vars=ob),h.walk(t),l&&delete h.reduce_vars;else{if(u.TYPE=="Call")switch(t.in_boolean_context()){case"d":var p=!0;case!0:(function x(E,w){E instanceof Ye?E.operator=="="&&(x(E.left,w),x(E.right,w)):E instanceof he?gn[E.operator]&&(x(E.left,w),x(E.right,w)):E instanceof lt?(x(E.consequent,w),x(E.alternative,w)):E instanceof K&&((E=E.definition()).bool_return++,w)&&E.drop_return++})(h,p)}h.walk(t);var g=u.optional,u=(g&&_n(t,!0),u.args.forEach(function(x){x.walk(t)}),g&&jn(t),h instanceof K&&h.fixed_value());u instanceof ht?rl(t,h.definition(),u):t.find_parent(nt).may_call_this()}return!0}),X(En,function(t,s,g){var u,h,p=this,g=(ca(0,g,p),p.extends&&p.extends.walk(t),p.properties.filter(function(v){return Ys(v),v.key instanceof V&&(t.push(v),v.key.walk(t),t.pop()),v.value}));return p.name&&(u=p.name.definition(),((h=t.parent())instanceof vi||h instanceof Ai)&&(u.single_use=!1),ol(t,u,!0)?(Ks(t,u),t.loop_ids[u.id]=t.in_loop,u.fixed=function(){return p},u.fixed.assigns=[p],Zo(u)||(u.single_use=!1)):u.fixed=!1),g.forEach(function(v){t.push(v),!v.static||Cc(v)&&v.value.contains_this()?(_n(t),v.value.walk(t),jn(t)):v.value.walk(t),t.pop()}),!0}),X(oc,function(t,s,l){return _n(t,!0),il(t,l,this),s(),sl(t,this),!0}),X(lt,function(t){return this.condition.walk(t),_n(t,!0),this.consequent.walk(t),jn(t),_n(t,!0),this.alternative.walk(t),jn(t),!0}),X(Ct,function(t){return _n(t,!0),this.value.walk(t),jn(t),this.name.walk(t),!0}),X(os,function(t){var s=t.in_loop;return t.in_loop=this,_n(t),this.body.walk(t),ul(this,t.parent())&&(jn(t),_n(t)),this.condition.walk(t),jn(t),t.in_loop=s,!0}),X(Tn,function(t,s,h){var u=this,h=(ca(0,h,u),u.init&&u.init.walk(t),t.in_loop);return t.in_loop=u,_n(t),u.condition&&u.condition.walk(t),u.body.walk(t),u.step&&(ul(u,t.parent())&&(jn(t),_n(t)),u.step.walk(t)),jn(t),t.in_loop=h,!0}),X(Vn,function(t,s,h){var u=this,h=(ca(0,h,u),u.object.walk(t),t.in_loop),p=(t.in_loop=u,_n(t),u.init);return p instanceof fn?p.definitions[0].name.mark_symbol(function(g){g instanceof hn&&((g=g.definition()).assignments++,g.fixed=!1)},t):p instanceof Tt||p instanceof K?p.mark_symbol(function(g){var v;g instanceof K&&(fa(v=g.definition(),g),v.assignments++,g.is_immutable()||(v.fixed=!1))},t):p.walk(t),u.body.walk(t),jn(t),t.in_loop=h,!0}),X(Zt,function(t){return this.condition.walk(t),_n(t,!0),this.body.walk(t),jn(t),this.alternative&&(_n(t,!0),this.alternative.walk(t),jn(t)),!0}),X(ti,function(t){return _n(t,!0),this.body.walk(t),jn(t),!0}),X(ht,function(t,s,l){var u=this;return qp(t,u)&&fe(t.fn_visited,u)&&(u.inlined=!1,_n(t),il(t,l,u),s(),sl(t,u),u.name)&&ha(t,u.name.definition(),u,u.name,u,0,1),!0}),X(dn,function(t,s,l){var u=this,h=u.name.definition(),p=t.parent();return(p instanceof vi||p instanceof Ai)&&(h.single_use=!1),qp(t,u)&&fe(t.fn_visited,u)&&(u.inlined=!1,_n(t),il(t,l,u),s(),sl(t,u)),!0}),X(Kt,function(t){if(this.optional)return this.expression.walk(t),_n(t,!0),this.property.walk(t),jn(t),!0}),X(Oi,function(t,s,l){ca(0,l,this),this.expression.walk(t);var u=!0;return this.body.forEach(function(h){h instanceof cs||(h.expression.walk(t),u&&_n(t,!(u=!1)))}),u||jn(t),Nn(this,t),!0}),X(vr,function(t){return _n(t,!0),Nn(this,t),jn(t),!0}),X(Gi,function(){this.definition().fixed=!1}),X(or,function(){this.definition().fixed=!1}),X(K,function(t,s,l){var u,h=this,p=h.definition(),g=p.fixed||p.last_ref&&p.last_ref.fixed,v=(fa(p,h),p.references.length==1&&!p.fixed&&p.orig[0]instanceof br&&(t.loop_ids[p.id]=t.in_loop),pl(t,p));switch(v&&v.enclosed.forEach(function(E){var w;p===E||E.scope.resolve()===v||!(w=E.fixed&&E.fixed.assigns)||w[w.length-1]instanceof Wt||(w=t.safe_ids[E.id])&&(w.assign=!0)}),p.single_use=="m"&&p.fixed&&(p.fixed=0,p.single_use=!1),p.fixed){case 0:ua(t,p)||(p.fixed=!1);case!1:var x=p.redefined();x&&jp(p.scope,h.scope)&&(x.single_use=!1);break;case void 0:p.fixed=!1;break;default:ua(t,p)?(h.in_arg&&p.orig[0]instanceof fi&&(h.fixed=p.scope),u=h.fixed_value(),v?p.recursive_refs++:!u||(x=p,!l.option("unused"))||x.scope.pinned()||x.single_use===!1||x.references.length-x.recursive_refs!=1||Xr(x)&&x.scope.uses_arguments?p.single_use=!1:(p.in_loop=t.loop_ids[p.id]!==t.in_loop,p.single_use=Xs(u)&&!u.pinned()&&(!p.in_loop||t.parent()instanceof ot)||!p.in_loop&&p.scope===h.scope.resolve()&&u.is_constant_expression()),Rr(l,t,h,u,0,kc(u),v)&&(p.single_use?p.single_use="m":p.fixed=0),p.fixed&&t.loop_ids[p.id]!==t.in_loop&&(p.cross_loop=!0),ha(t,p,h.scope,h,u,0,1)):p.fixed=!1}h.fixed||(h.fixed=p.fixed===0?g:p.fixed),u instanceof ht&&!((g=t.parent())instanceof ot&&g.expression===h)&&rl(t,p,u)}),X(Dn,function(t,s){var l,u=this.tag;if(u)return u instanceof bn?(this.expressions.forEach(function(h){h.walk(t)}),u.walk(t)):(u.walk(t),this.expressions.forEach(function(h){h.walk(t)}),(l=u instanceof K&&u.fixed_value())instanceof ht?rl(t,u.definition(),l):t.find_parent(nt).may_call_this()),!0}),X(yn,function(t,s,l){return this.globals.each(function(u){Ru(0,l,u)}),_n(t,!0),il(t,l,this),s(),sl(t,this),!0}),X(ni,function(t,s,l){var u=this;return ca(0,l,u),_n(t,!0),Nn(u,t),jn(t),u.bcatch&&(_n(t,!0),u.bcatch.walk(t),jn(t)),u.bfinally&&u.bfinally.walk(t),!0}),X(en,function(t,s){var l=this;if($o[l.operator]){var u,h,p=l.expression;if(p instanceof K)return(u=p.definition()).assignments++,h=u.fixed,ua(t,u)&&!p.in_arg&&ol(t,u)?(fa(u,p),Ks(t,u),u.single_use&&(u.single_use=!1),u.fixed=function(){return b(he,l,{operator:l.operator.slice(0,-1),left:b(Ve,l,{operator:"+",expression:xc(p,h)}),right:b(dt,l,{value:1})})},u.fixed.assigns=h&&h.assigns?h.assigns.slice():[],u.fixed.assigns.push(l),l instanceof Ve?p.fixed=u.fixed:(p.fixed=function(){return b(Ve,l,{operator:"+",expression:xc(p,h)})},p.fixed.assigns=h&&h.assigns,p.fixed.to_prefix=Xu(function(g){return g.expression},u.fixed))):(p.walk(t),u.fixed=!1),!0;Sc(p)}}),X(Wt,function(t,s,l){var u,h=this,p=h.value;return p instanceof bn&&h.name instanceof hn?(g(),p.parent_scope.resolve().fn_defs.push(p),p.safe_ids=null,(u=h.name.definition()).fixed||rl(t,u,p)):p?(p.walk(t),g()):t.parent()instanceof yr&&g(),!0;function g(){Qc(t,l,h.name,function(){return h.value||b(an,h)},function(v,x){var E=v.definition();x&&ol(t,E,!0)?(Ks(t,E),t.loop_ids[E.id]=t.in_loop,E.fixed=x,E.fixed.assigns=[h],(v instanceof ci&&E.redefined()||!ar(v)&&!Zo(E))&&(E.single_use=!1)):E.fixed=!1})}}),X(Ns,function(t,s){var l=t.in_loop;return t.in_loop=this,_n(t),s(),jn(t),t.in_loop=l,!0}),yn.DEFMETHOD("reset_opt_flags",function(t){var s=new rt(t.option("reduce_vars")?function(l,u){return Ys(l),l.reduce_vars(s,u,t)}:Ys);s.fn_scanning=null,s.fn_visited=[],s.in_loop=null,s.loop_ids=Object.create(null),s.safe_ids=Object.create(null),s.safe_ids.seq={},this.walk(s)}),Xn.DEFMETHOD("fixed_value",function(t){var s=this.definition(),l=s.fixed;return l?((l=this.fixed?this.fixed:l)instanceof V?l:l()).tail_node():(l=l===0&&this.fixed)&&(l=(l instanceof V?l:l()).tail_node(),t&&s.escaped.depth!=1&&ya(l,!0)||l.is_constant()?l:void 0)}),K.DEFMETHOD("is_immutable",function(){var t=this.redef||this.definition();return t.orig[0]instanceof fi&&(t.orig.length==1||!(!this.in_arg||t.orig[1]instanceof $t))}),V.DEFMETHOD("convert_symbol",f),Ct.DEFMETHOD("convert_symbol",Ip),Tt.DEFMETHOD("convert_symbol",Ip),hn.DEFMETHOD("convert_symbol",Vp),K.DEFMETHOD("convert_symbol",Vp),Ct.DEFMETHOD("mark_symbol",Lp),Tt.DEFMETHOD("mark_symbol",Lp),hn.DEFMETHOD("mark_symbol",Bp),K.DEFMETHOD("mark_symbol",Bp),V.DEFMETHOD("match_symbol",function(t){return t(this)}),Ct.DEFMETHOD("match_symbol",Fp),Tt.DEFMETHOD("match_symbol",Fp),Tu=Ee("Infinity NaN undefined"),Au=Ee("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Map Math Number parseFloat parseInt RangeError ReferenceError RegExp Object Set setInterval setTimeout String SyntaxError TypeError unescape URIError WeakMap WeakSet"),K.DEFMETHOD("is_declared",function(t){return this.defined||!this.definition().undeclared||t.option("unsafe")&&Au[this.name]}),(X=function(t,s){t.DEFMETHOD("in_strict_mode",s)})(En,m),X(nt,function(t){for(var s=this.body,l=0;l<s.length;l++){var u=s[l];if(!(u instanceof vn))break;if(u.value=="use strict")return!0}var h=this.parent_scope;return h?h.resolve(!0).in_strict_mode(t):t.option("module")}),(X=function(t,s){t.DEFMETHOD("is_truthy",s)})(V,d),X(yt,m),X(Ye,function(){return this.operator=="="&&this.right.is_truthy()}),X(ht,m),X(tn,m),X(Ji,m),X(Ke,function(){return this.tail_node().is_truthy()}),X(K,function(){var t=this.fixed_value();return t?(this.is_truthy=d,t=t.is_truthy(),delete this.is_truthy,t):!1}),(X=function(t,s){t.DEFMETHOD("is_negative_zero",s)})(V,m),X(yt,d),X(Ye,function(){var t=this.operator;return t=="="?this.right.is_negative_zero():Kp(t.slice(0,-1),this.left,this.right)}),X(he,function(){return Kp(this.operator,this.left,this.right)}),X(nn,function(){return this.value==0&&1/this.value<0}),X(ht,d),X(tn,d),X(Ji,d),X(Ke,function(){return this.tail_node().is_negative_zero()}),X(K,function(){var t=this.fixed_value();return t?(this.is_negative_zero=m,t=t.is_negative_zero(),delete this.is_negative_zero,t):!0}),X(Ve,function(){return this.operator=="+"&&this.expression.is_negative_zero()||this.operator=="-"}),X=function(t,s){t.DEFMETHOD("_dot_throw",s)},V.DEFMETHOD("may_throw_on_access",function(t,s){return!t.option("pure_getters")||this._dot_throw(t,s)}),X(V,pa),X(yt,d),X(Ye,function(t){var s=this.operator,l=this.left,u=this.right;return s!="="?gn[s.slice(0,-1)]&&(l._dot_throw(t)||u._dot_throw(t)):!!u._dot_throw(t)&&(!(l instanceof K&&u instanceof he&&u.operator=="||"&&l.name==u.left.name)||u.right._dot_throw(t))}),X(he,function(t){return gn[this.operator]&&(this.left._dot_throw(t)||this.right._dot_throw(t))}),X(En,function(t,s){return pa(t,s)&&!le(this.properties,function(l){return l.private||!l.static||!(l instanceof Fa||l instanceof Na)})}),X(lt,function(t){return this.consequent._dot_throw(t)||this.alternative._dot_throw(t)}),X(nn,d),X(Lt,function(t,s){return!(!pa(t,s)||((t=this.expression)instanceof K&&(t=t.fixed_value()),this.property=="prototype"&&Xs(t)))}),X(ht,d),X(Nr,m),X(tn,function(t,s){return pa(t,s)&&!le(this.properties,function(l){return!(l instanceof Hs||l instanceof Ms||l.key==="__proto__"&&l.value._dot_throw(t,s))})}),X(Hi,function(t,s){return pa(t,s)&&!this.scope.resolve().new}),X(Ke,function(t){return this.tail_node()._dot_throw(t)}),X(K,function(t,s){if(this.is_undefined)return!0;if(pa(t,s)&&!(Hn(this)&&this.is_declared(t)||this.is_immutable())){if(s=this.definition(),Rs(s)&&!s.scope.rest&&le(s.scope.argnames,function(l){return l instanceof $t}))return 2<s.scope.uses_arguments;if(s=this.fixed_value(!0),!s)return!0;if(this._dot_throw=m,s._dot_throw(t))return delete this._dot_throw,!0;this._dot_throw=d}return!1}),X(Ve,function(){return this.operator=="void"}),X(Br,d),X(an,m),(X=function(t,s){t.DEFMETHOD("is_defined",s)})(V,d),X(yt,m),X(Ye,function(t){var s=this.operator;return s=="="?this.right.is_defined(t):em(t,s.slice(0,-1),this)}),X(he,function(t){return em(t,this.operator,this)}),X(lt,function(t){return this.consequent.is_defined(t)&&this.alternative.is_defined(t)}),X(nn,m),X(Bn,d),X(ht,m),X(tn,m),X(Ke,function(t){return this.tail_node().is_defined(t)}),X(K,function(t){if(this.is_undefined)return!1;if(Hn(this)&&this.is_declared(t)||this.is_immutable())return!0;var s=this.fixed_value();return s?(this.is_defined=d,s=s.is_defined(t),delete this.is_defined,s):!1}),X(Ve,function(){return this.operator!="void"}),X(Br,m),X(an,d),(X=function(t,s){t.DEFMETHOD("is_boolean",s)})(V,d),X(Ye,function(t){return this.operator=="="&&this.right.is_boolean(t)}),Op=Ee("in instanceof == != === !== < <= >= >"),X(he,function(t){return Op[this.operator]||gn[this.operator]&&this.left.is_boolean(t)&&this.right.is_boolean(t)}),X(oa,m),vp=Ee("every hasOwnProperty isPrototypeOf propertyIsEnumerable some"),X(ot,function(t){return!!t.option("unsafe")&&(t=this.expression)instanceof Lt&&(vp[t.property]||t.property=="test"&&t.expression instanceof Ji)}),X(lt,function(t){return this.consequent.is_boolean(t)&&this.alternative.is_boolean(t)}),X(Si,d),X(Ke,function(t){return this.tail_node().is_boolean(t)}),X(K,function(t){var s=this.fixed_value();return s?(this.is_boolean=d,s=s.is_boolean(t),delete this.is_boolean,s):!1}),yp=Ee("! delete"),X(Ve,function(){return yp[this.operator]}),(X=function(t,s){t.DEFMETHOD("is_number",s)})(V,d),Eu=Ee("- * / % ** & | ^ << >> >>>"),X(Ye,function(t){return Eu[this.operator.slice(0,-1)]||this.operator=="="&&this.right.is_number(t)}),X(he,function(t){return!!Eu[this.operator]||this.operator=="+"&&(this.left.is_boolean(t)||this.left.is_number(t))&&(this.right.is_boolean(t)||this.right.is_number(t))}),bp=Ee(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),X(ot,function(t){return!!t.option("unsafe")&&(t=this.expression)instanceof Lt&&(bp[t.property]||Hn(t.expression)&&t.expression.name=="Math")}),X(lt,function(t){return this.consequent.is_number(t)&&this.alternative.is_number(t)}),X(Si,d),X(dt,m),X(Ke,function(t){return this.tail_node().is_number(t)}),X(K,function(t,s){var l=this.fixed_value();return!l||s&&l instanceof Ve&&l.operator=="+"&&l.expression.equals(this)?!1:(this.is_number=d,s=l.is_number(t),delete this.is_number,s)}),wp=Ee("+ - ~ ++ --"),X(en,function(){return wp[this.operator]}),(X=function(t,s){t.DEFMETHOD("is_string",s)})(V,d),X(Ye,function(t){switch(this.operator){case"+=":if(this.left.is_string(t))return!0;case"=":return this.right.is_string(t)}}),X(he,function(t){return this.operator=="+"&&(this.left.is_string(t)||this.right.is_string(t))}),xp=Ee(["charAt","substr","substring","toExponential","toFixed","toLowerCase","toPrecision","toString","toUpperCase","trim"]),X(ot,function(t){return!!t.option("unsafe")&&(t=this.expression)instanceof Lt&&xp[t.property]}),X(lt,function(t){return this.consequent.is_string(t)&&this.alternative.is_string(t)}),X(Ke,function(t){return this.tail_node().is_string(t)}),X(wt,m),X(K,function(t){var s=this.fixed_value();return s?(this.is_string=d,s=s.is_string(t),delete this.is_string,s):!1}),X(Dn,function(t){return!this.tag||Yc(t,this.tag)}),X(Ve,function(){return this.operator=="typeof"}),gn=Ee("&& || ??"),X=function(t,s){t.DEFMETHOD("_find_defs",s)},yn.DEFMETHOD("resolve_defines",function(t){return t.option("global_defs")?(this.figure_out_scope({ie:t.option("ie")}),this.transform(new Gn(function(s){var l=s._find_defs(t,"");if(l){for(var u,h=0,p=s;(u=this.parent(h++))&&u instanceof at&&u.expression===p;)p=u;if(!Wi(p,u))return l;tm(s)}}))):this}),X(V,f),X(Lt,function(t,s){return this.expression._find_defs(t,"."+this.property+s)}),X(hn,function(t){this.definition().global&&Ae(t.option("global_defs"),this.name)&&tm(this)}),X(K,function(t,s){return this.definition().global&&Ae(t=t.option("global_defs"),s=this.name+s)?function l(u,h){if(u instanceof V)return u.clone(!0);if(Array.isArray(u))return b(yt,h,{elements:u.map(function(v){return l(v,h)})});if(u&&typeof u=="object"){var p,g=[];for(p in u)Ae(u,p)&&g.push(b(ii,h,{key:p,value:l(u[p],h)}));return b(tn,h,{properties:g})}return hs(u,h)}(t[s],this):void 0}),Bi.DEFMETHOD("first_statement",im),mr.DEFMETHOD("first_statement",im),ht.DEFMETHOD("first_statement",function(){return nm(this.body)}),ht.DEFMETHOD("length",function(){for(var t=this.argnames,s=0;s<t.length&&!(t[s]instanceof Ct);s++);return s}),Ki=zu({Array:["indexOf","join","lastIndexOf","slice"].concat(X=["constructor","toString","valueOf"]),Boolean:X,Function:X,Number:["toExponential","toFixed","toPrecision"].concat(X),Object:X,RegExp:["exec","test"].concat(X),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(X)}),yc=zu({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode","raw"]}),(X=function(t,s){t.DEFMETHOD("is_constant",s)})(V,d),X(nn,m),X(Ji,d),_p=Ee("! ~ - + void"),X(Ve,function(){return _p[this.operator]&&this.expression instanceof nn}),X=function(t,s){t.DEFMETHOD("_eval",s)},V.DEFMETHOD("evaluate",function(t,s){var l;return!t.option("evaluate")||(l=this._eval(t,s,t=[],1),t.forEach(function(u){delete u._eval}),!s&&l&&!(l instanceof RegExp)&&(typeof l=="function"||typeof l=="object"))?this:l}),Co=new rt(function(t){t instanceof Ye&&Us(t.left),t instanceof Vn&&Us(t.init),t instanceof en&&$o[t.operator]&&Us(t.expression)}),X(cn,function(){throw new Error(xe("Cannot evaluate a statement [{start}]",this))}),X(Vi,O),X(fc,O),X(En,O),X(V,O),X(nn,function(){return this.value}),X(Ye,function(t,s,l,u){var h=this.left;if(!s){if(!(h instanceof K))return this;if(!Ae(h,"_eval")){if(!h.fixed)return this;var p=h.definition();if(!p.fixed)return this;if(p.undeclared)return this;if(p.last_ref!==h)return this;if(p.single_use=="m")return this;if(this.right.has_side_effects(t))return this}}return p=this.operator,p=!Ae(h,"_eval")&&h instanceof K&&h.fixed&&h.definition().fixed?h:p=="="?this.right:b(he,this,{operator:p.slice(0,-1),left:h,right:this.right}),h.walk(Co),p=p._eval(t,s,l,u),typeof p=="object"?this:(Us(h),p)}),X(Ke,function(x,s,l,u){if(!s)return this;for(var h=this.expressions,p=0,g=h.length-1;p<g;p++)h[p].walk(Co);var v=h[g],x=v._eval(x,s,l,u);return x===v?this:x}),X(ht,function(t){return t.option("unsafe")?((t=function(){}).node=this,t.toString=function(){return"function(){}"},t):this}),X(yt,function(t,s,l,u){if(t.option("unsafe")){for(var h=[],p=0;p<this.elements.length;p++){var g=this.elements[p];if(g instanceof Bn)return this;var v=g._eval(t,s,l,u);if(g===v)return this;h.push(v)}return h}return this}),X(tn,function(t,s,l,u){if(t.option("unsafe")){for(var h={},p=0;p<this.properties.length;p++){var g=this.properties[p];if(!(g instanceof ii))return this;var v=g.key;if(v instanceof V&&(v=v._eval(t,s,l,u))===g.key)return this;switch(v){case"__proto__":case"toString":case"valueOf":return this}if(h[v]=g.value._eval(t,s,l,u),h[v]===g.value)return this}return h}return this}),kp=Ee("! typeof void"),X(Ve,function(t,s,l,u){var h=this.expression,p=this.operator;if(t.option("typeofs")&&p=="typeof"&&(h instanceof ht||h instanceof K&&h.fixed_value()instanceof ht))return"function";var g=h instanceof K&&h.definition(),v=(kp[p]||g&&g.fixed||u++,h.walk(Co),h._eval(t,s,l,u));if(v===h)return s&&p=="void"?void 0:this;switch(p){case"!":return!v;case"typeof":return v instanceof RegExp?this:typeof v;case"void":return;case"~":return~v;case"-":return-v;case"+":return+v;case"++":case"--":if(!g)return this;if(!s){if(g.undeclared)return this;if(g.last_ref!==h)return this}return Ae(h,"_eval")&&(v=+(p[0]+1)+ +v),Us(h),v}return this}),X(Br,function(t,s,l,u){var h=this.expression;if(h instanceof K){if(!Ae(h,"_eval")){if(!h.fixed)return this;if(!s){var p=h.definition();if(!p.fixed)return this;if(p.undeclared)return this;if(p.last_ref!==h)return this}}}else if(!s)return this;return h instanceof K&&h.definition().fixed||u++,h.walk(Co),p=h._eval(t,s,l,u),p===h?this:(Us(h),+p)}),Sp=Ee("&& || === !=="),X(he,function(t,s,l,u){Sp[this.operator]||u++;var h=this.left._eval(t,s,l,u);if(h===this.left)return this;if(this.operator==(h?"||":"&&"))return h;var p,g=this.right._eval(t,s&&!(h&&typeof h=="object"),l,u);if(g===this.right)return this;switch(this.operator){case"&&":p=h&&g;break;case"||":p=h||g;break;case"??":p=h==null?g:h;break;case"|":p=h|g;break;case"&":p=h&g;break;case"^":p=h^g;break;case"+":p=h+g;break;case"-":p=h-g;break;case"*":p=h*g;break;case"/":p=h/g;break;case"%":p=h%g;break;case"<<":p=h<<g;break;case">>":p=h>>g;break;case">>>":p=h>>>g;break;case"==":p=h==g;break;case"===":p=h===g;break;case"!=":p=h!=g;break;case"!==":p=h!==g;break;case"<":p=h<g;break;case"<=":p=h<=g;break;case">":p=g<h;break;case">=":p=g<=h;break;case"**":p=Math.pow(h,g);break;case"in":if(g&&typeof g=="object"&&Ae(g,h)){p=!0;break}default:return this}if(isNaN(p))return t.find_parent(Dr)?this:p;if(t.option("unsafe_math")&&!s&&p&&typeof p=="number"&&(this.operator=="+"||this.operator=="-")&&(l=Math.max(0,v(h),v(g)),l<16))return+p.toFixed(l);return p;function v(x){return x=/(\.[0-9]*)?(e[^e]+)?$/.exec(+x),(x[1]||".").length-1-(x[2]||"").slice(1)}}),X(lt,function(t,s,l,u){var h=this.condition._eval(t,s,l,u);return h===this.condition||(t=(h=h?this.consequent:this.alternative)._eval(t,s,l,u))===h?this:t}),X(K,function(t,s,l,u){var h,p=this.fixed_value();if(!p)return this;if(Ae(p,"_eval"))h=p._eval();else{if(this._eval=O,h=p._eval(t,s,l,u),delete this._eval,h===p)return this;p._eval=function(){return h},l.push(p)}return h&&typeof h=="object"&&!function(g,v){var x=g.definition().escaped;switch(x.length){case 0:return 1;case 1:var E=!1;return x[0].walk(new rt(function(w){return!!E||(w===g?E=!0:w instanceof nt||void 0)})),E;default:return v<=x.depth}}(this,u)?this:h}),Du={Array,Math,Number,Object,String},Qp=zu({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),$p=Ee("global ignoreCase multiline source"),X(at,function(t,s,l,u){if(t.option("unsafe")){var h,p=this.expression;if(!Hn(p)&&((h=p._eval(t,s,l,u+1))==null||h===p))return this;var g=this.property;if(g instanceof V&&(g=g._eval(t,s,l,u))===this.property)return this;if(h===void 0){if(t=Qp[p.name],!t||!t[g])return this;h=Du[p.name]}else if(h instanceof RegExp){if(!$p[g])return this}else if(typeof h=="object"){if(!Ae(h,g))return this}else if(typeof h=="function")switch(g){case"name":return h.node.name?h.node.name.name:"";case"length":return h.node.length();default:return this}return h[g]}return this}),X(ot,function(t,s,l,u){var h=this.expression,p=h instanceof K?h.fixed_value():h;if(p instanceof Bi||p instanceof Yi||p instanceof Pn){if(!p.evaluating&&!(p.name&&0<p.name.definition().recursive_refs||this.is_expr_pure(t))){var g=Iu(this.args,t,s,l,u);if(le(p.argnames,function(S,D){if(S instanceof Ct){if(!g)return;if(g[D]===void 0){var Z=S.value._eval(t,s,l,u);if(Z===S.value)return;g[D]=Z}S=S.name}return!(S instanceof Tt)})&&!(p.rest instanceof Tt)&&(g||s)){var v,x=p.first_statement();if(x instanceof Nt)return(w=x.value)?(v=[],g&&(!le(p.argnames,function(S,D){return k(S,g[D])})||p.rest&&!k(p.rest,g.slice(p.argnames.length)))&&!s||(s&&p.argnames.forEach(function(S){S instanceof Ct&&S.value.walk(Co)}),p.evaluating=!0,w=w._eval(t,s,l,u),p.evaluating=!1),v.forEach(function(S){delete S._eval}),w===x.value?this:w):void 0;if(s){p.walk(Co);var E=!1;if(p.evaluating=!0,Nn(p,new rt(function(S){return!!E||(S instanceof Nt?(S.value&&S.value._eval(t,!0,l,u)!==void 0&&(E=!0),!0):S instanceof nt&&S!==p||void 0)})),p.evaluating=!1,!E)return}}}}else if(t.option("unsafe")&&h instanceof at){var w,x=h.property;if(x instanceof V&&(x=x._eval(t,s,l,u))===h.property)return this;if(h=h.expression,Hn(h)){var T=yc[h.name];if(!T||!T[x])return this;w=Du[h.name]}else{if((w=h._eval(t,s,l,u+1))==null||w===h)return this;if(T=Ki[w.constructor.name],!T||!T[x])return this;if(w instanceof RegExp&&w.global&&!(h instanceof Ji))return this}if(!(g=Iu(this.args,t,s,l,u)))return this;if(x=="replace"&&typeof g[1]=="function")return this;try{return w[x].apply(w,g)}catch{V.warn("Error evaluating {this} [{start}]",this)}finally{w instanceof RegExp&&(w.lastIndex=0)}}return this;function k(S,D){var Z,G=(S=S instanceof Ct?S.name:S).definition();return G.orig[G.orig.length-1]===S&&(Z=D,G.references.forEach(function(pe){pe._eval=function(){return Z},v.push(pe)}),!0)}}),X(Si,O),X(Dn,function(t,s,l,u){if(t.option("templates")){if(this.tag){if(!Yc(t,this.tag))return this;x=function(E){return E}}var h=Iu(this.expressions,t,s,l,u);if(h){for(var p=!1,g=x(this.strings[0]),v=0;v<h.length;v++)g+=h[v]+x(this.strings[v+1]);if(!p)return g;this._eval=O}}return this;function x(E){return typeof(E=th(E))!="string"&&(p=!0),E}}),(X=function(t,s){t.DEFMETHOD("negate",function(l,u){return s.call(this,l,u)})})(V,function(){return ga(this)}),X(cn,function(){throw new Error("Cannot negate a statement")}),X(he,function(t,s){var l=this.clone(),u=this.operator;if(t.option("unsafe_comps"))switch(u){case"<=":return l.operator=">",l;case"<":return l.operator=">=",l;case">=":return l.operator="<",l;case">":return l.operator="<=",l}switch(u){case"==":return l.operator="!=",l;case"!=":return l.operator="==",l;case"===":return l.operator="!==",l;case"!==":return l.operator="===",l;case"&&":return l.operator="||",l.left=l.left.negate(t,s),l.right=l.right.negate(t),Vu(this,l,s);case"||":return l.operator="&&",l.left=l.left.negate(t,s),l.right=l.right.negate(t),Vu(this,l,s)}return ga(this)}),X(Zr,function(){return ga(this)}),X(lt,function(t,s){var l=this.clone();return l.consequent=l.consequent.negate(t),l.alternative=l.alternative.negate(t),Vu(this,l,s)}),X(bn,function(){return ga(this)}),X(Ke,function(t){var s=this.expressions.slice();return s.push(s.pop().negate(t)),Xe(this,s)}),X(Ve,function(){return this.operator=="!"?this.expression:ga(this)}),Zu=Ee("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError"),Pp=Ee("Map Set WeakMap WeakSet"),ot.DEFMETHOD("is_expr_pure",function(t){if(t.option("unsafe")){var s=this.expression;if(Hn(s)&&(Zu[s.name]||this instanceof Si&&Pp[s.name])||rm(s))return!0}return t.option("annotations")&&this.pure||!t.pure_funcs(this)}),Dn.DEFMETHOD("is_expr_pure",function(t){var s,l=this.tag;if(!l)return!0;if(t.option("unsafe")){if(Hn(l)&&Zu[l.name])return!0;if(l instanceof Lt&&Hn(l.expression))return(s=yc[l.expression.name])&&(s[l.property]||l.expression.name=="Math"&&l.property=="random")}return!t.pure_funcs(this)}),V.DEFMETHOD("is_call_pure",d),ot.DEFMETHOD("is_call_pure",function(t){if(!t.option("unsafe"))return!1;var s=this.expression;if(!(s instanceof Lt))return!1;var l,u=s.expression,h=s.property;if(u instanceof yt)l=Ki.Array;else if(u.is_boolean(t))l=Ki.Boolean;else if(u.is_number(t))l=Ki.Number;else if(u instanceof Ji)l=Ki.RegExp;else if(u.is_string(t)){if(l=Ki.String,h=="replace"&&(u=this.args[1],u&&!u.is_string(t)))return!1}else s.may_throw_on_access(t)||(l=Ki.Object);return l&&l[h]}),(X=function(t,s){t.DEFMETHOD("safe_to_spread",s)})(V,d),X(yt,m),X(Ye,function(){switch(this.operator){case"=":return this.right.safe_to_spread();case"&&=":case"||=":case"??=":return this.left.safe_to_spread()&&this.right.safe_to_spread()}return!0}),X(he,function(){return!gn[this.operator]||this.left.safe_to_spread()&&this.right.safe_to_spread()}),X(nn,m),X(ht,m),X(tn,function(){return le(this.properties,function(t){return!(t instanceof Hs||t instanceof Qt)})}),X(Ke,function(){return this.tail_node().safe_to_spread()}),X(K,function(){var t=this.fixed_value();return t&&t.safe_to_spread()}),X(en,m),(X=function(t,s){t.DEFMETHOD("has_side_effects",s)})(V,m),X(yt,function(t){return _r(this.elements,t,sm)}),X(Ye,function(t){var s,l=this.left;return!(l instanceof at)||!((s=l.expression)instanceof Hi)||!s.scope.resolve().new||l instanceof Kt&&l.property.has_side_effects(t)||this.right.has_side_effects(t)}),X(he,function(t){return this.left.has_side_effects(t)||this.right.has_side_effects(t)||!hl(this.operator,this.right,t)}),X(ei,function(t){return _r(this.body,t)}),X(ot,function(t){return!(this.is_expr_pure(t)||this.is_call_pure(t)&&!this.expression.has_side_effects(t))||_r(this.args,t,sm)}),X(sr,function(t){return this.expression.has_side_effects(t)||_r(this.body,t)}),X(En,function(t){var s=this.extends;return!(!s||wc(s=s instanceof K?s.fixed_value():s))||_r(this.properties,t)}),X(ir,function(t){return this.key instanceof V&&this.key.has_side_effects(t)||this.static&&this.value&&this.value.has_side_effects(t)}),X(lt,function(t){return this.condition.has_side_effects(t)||this.consequent.has_side_effects(t)||this.alternative.has_side_effects(t)}),X(nn,d),X(fn,function(t){return _r(this.definitions,t)}),X(wn,function(t){return _r(this.elements,t)}),X(An,function(t){return this.key instanceof V&&this.key.has_side_effects(t)||this.value.has_side_effects(t)}),X(si,function(t){return _r(this.properties,t)}),X(Lt,function(t){return this.expression.may_throw_on_access(t)||this.expression.has_side_effects(t)}),X(_t,d),X(Zt,function(t){return this.condition.has_side_effects(t)||this.body&&this.body.has_side_effects(t)||this.alternative&&this.alternative.has_side_effects(t)}),X(ti,function(t){return this.body.has_side_effects(t)}),X(ht,d),X(tn,function(t){return _r(this.properties,t,function(s,l){return s=s.expression,!s.safe_to_spread()||s.has_side_effects(l)})}),X(Hi,d),X(Qi,function(t){return this.key instanceof V&&this.key.has_side_effects(t)||this.value.has_side_effects(t)}),X(Ke,function(t){return _r(this.expressions,t)}),X(Re,function(t){return this.body.has_side_effects(t)}),X(Kt,function(t){return this.expression.may_throw_on_access(t)||this.expression.has_side_effects(t)||this.property.has_side_effects(t)}),X(Oi,function(t){return this.expression.has_side_effects(t)||_r(this.body,t)}),X(hn,d),X(K,function(t){return!this.is_declared(t)||!ar(this,t)}),X(Dn,function(t){return!this.is_expr_pure(t)||_r(this.expressions,t)}),X(ni,function(t){return _r(this.body,t)||this.bcatch&&this.bcatch.has_side_effects(t)||this.bfinally&&this.bfinally.has_side_effects(t)}),X(en,function(t){return Po[this.operator]||this.expression.has_side_effects(t)}),X(Wt,function(){return this.value}),(X=function(t,s){t.DEFMETHOD("may_throw",s)})(V,m),X(nn,d),X(_t,d),X(ht,d),X(Hi,d),X(hn,d),X(yt,function(t){return Yr(this.elements,t)}),X(Ye,function(t){return!!this.right.may_throw(t)||!(!t.has_directive("use strict")&&this.operator=="="&&this.left instanceof K)&&this.left.may_throw(t)}),X(pn,function(t){return this.expression.may_throw(t)}),X(he,function(t){return this.left.may_throw(t)||this.right.may_throw(t)||!hl(this.operator,this.right,t)}),X(ei,function(t){return Yr(this.body,t)}),X(ot,function(t){return Yr(this.args,t)?!0:this.is_expr_pure(t)?!1:(this.may_throw=m,t=om(this.expression,t),delete this.may_throw,t)}),X(sr,function(t){return this.expression.may_throw(t)||Yr(this.body,t)}),X(lt,function(t){return this.condition.may_throw(t)||this.consequent.may_throw(t)||this.alternative.may_throw(t)}),X(Ct,function(t){return this.name.may_throw(t)||this.value&&this.value.may_throw(t)}),X(fn,function(t){return Yr(this.definitions,t)}),X(Lt,function(t){return!this.optional&&this.expression.may_throw_on_access(t)||this.expression.may_throw(t)}),X(Vn,function(t){var s;return!!this.init.may_throw(t)||!!(s=this.object).may_throw(t)||!((s=s.tail_node())instanceof yt||s.is_string(t))||this.body.may_throw(t)}),X(Zt,function(t){return this.condition.may_throw(t)||this.body&&this.body.may_throw(t)||this.alternative&&this.alternative.may_throw(t)}),X(ti,function(t){return this.body.may_throw(t)}),X(tn,function(t){return Yr(this.properties,t)}),X(Qi,function(t){return this.value.may_throw(t)||this.key instanceof V&&this.key.may_throw(t)}),X(Nt,function(t){return this.value&&this.value.may_throw(t)}),X(Ke,function(t){return Yr(this.expressions,t)}),X(Re,function(t){return this.body.may_throw(t)}),X(Kt,function(t){return!this.optional&&this.expression.may_throw_on_access(t)||this.expression.may_throw(t)||this.property.may_throw(t)}),X(Oi,function(t){return this.expression.may_throw(t)||Yr(this.body,t)}),X(K,function(t){return!this.is_declared(t)||!ar(this,t)}),X(Dn,function(t){return Yr(this.expressions,t)?!0:this.is_expr_pure(t)||!this.tag?!1:(this.may_throw=m,t=om(this.tag,t),delete this.may_throw,t)}),X(ni,function(t){return(this.bcatch?this.bcatch.may_throw(t):Yr(this.body,t))||this.bfinally&&this.bfinally.may_throw(t)}),X(en,function(t){return this.expression.may_throw(t)&&!(this.operator=="typeof"&&this.expression instanceof K)}),X(Wt,function(t){return this.name.may_throw(t)||this.value&&this.value.may_throw(t)}),(X=function(t,s){t.DEFMETHOD("is_constant_expression",s)})(V,d),X(yt,function(t){return Lu(this.elements,t)}),X(he,function(t){return this.left.is_constant_expression(t)&&this.right.is_constant_expression(t)&&hl(this.operator,this.right)}),X(En,function(t){var s=this.extends;return!(s&&!wc(s))&&Lu(this.properties,t)}),X(ir,function(t){return typeof this.key=="string"&&(!this.value||this.value.is_constant_expression(t))}),X(nn,m),X(ht,function(t){var s=this,l=!0,u=[];return s.walk(new rt(function(h,p){if(!l)return!0;if(h instanceof Mn)return h===s?void 0:(u.push(h),p(),u.pop(),!0);if(h instanceof K){if(s.inlined||h.redef||h.in_arg)return!(l=!1);if(!s.variables.has(h.name)&&(p=h.definition(),!n(p.scope,u))){if(t&&!p.redefined()){var g=t.find_variable(h.name);if(g?g===p:p.undeclared)return l="f",!0}l=!1}return!0}return h instanceof Hi?($n(s)&&le(u,function(v){return!(v instanceof nt)||$n(v)})&&(l=!1),!0):void 0})),l}),X(tn,function(t){return Lu(this.properties,t)}),X(Qi,function(t){return typeof this.key=="string"&&this.value.is_constant_expression(t)}),X(en,function(t){return this.expression.is_constant_expression(t)}),(X=function(t,s){t.DEFMETHOD("aborts",s)})(cn,y),X(Ga,O),X(Be,am),X(vr,am),X(Zt,function(){return this.alternative&&cr(this.body)&&cr(this.alternative)&&this}),Cp=Ee(["use asm","use strict"]),Ie(vn,function(t,s){return!s.option("directives")||Cp[t.value]&&s.has_directive(t.value)===t?t:b(_t,t)}),Ie(In,function(t,s){return s.option("drop_debugger")?b(_t,t):t}),Ie(ti,function(t,s){if(t.body instanceof Zt||t.body instanceof rr){var l=Do([t.body],s);switch(l.length){case 0:t.body=b(_t,t);break;case 1:t.body=l[0];break;default:t.body=b(Be,t,{body:l})}}return s.option("unused")&&t.label.references.length==0?t.body:t}),Ie(Vr,function(t,s){var l,u;return s.option("dead_code")&&(l=t.label)&&(u=s.loopcontrol_target(t),t.label=null,s.loopcontrol_target(t)===u?je(l.thedef.references,t):t.label=l),t}),Ie(ei,function(t,s){return t.body=Do(t.body,s),t}),Ie(Be,function(t,s){return t.body=Do(t.body,s),Bu(t,s.parent())}),Ie(ht,function(t,s){return Fu(t,s),t.body=Do(t.body,s),t}),Ie(Bi,lm),Ie(mr,lm),Ie(Pn,function(t,s){Fu(t,s),t.body=Do(t.body,s);var l=s.parent();if(s.option("inline"))for(var u=0;u<t.body.length;u++){var h=t.body[u];if(!(h instanceof vn)){if(h instanceof Nt){if(u!=t.body.length-1)break;var p=h.value;if(!p||p.TYPE!="Call"||p.is_expr_pure(s))break;var g,h=p.expression;if(h instanceof K){if(t.name&&t.name.definition()===h.definition())break;g=h.fixed_value()}else g=h;if(!(g instanceof Yi||g instanceof Pn)||g.rest||g.uses_arguments||g===h&&(g.parent_scope!==t||!le(g.enclosed,function(T){return T.scope!==t}))||(g!==h||g.name)&&(l instanceof xo||l instanceof Zs)&&l.value===s.self()||g.contains_this())break;var v=g.argnames.length;if(0<v&&s.option("inline")<2||v>t.argnames.length||!le(t.argnames,function(T){return T instanceof $t})||!le(p.args,function(T){return!(T instanceof Qt)}))break;for(var x=0;x<v;x++){var E=p.args[x];if(!(E instanceof K)||E.definition()!==t.argnames[x].definition())break}if(x<v)break;for(;x<p.args.length&&!p.args[x].has_side_effects(s);x++);if(x<p.args.length)break;if(v<t.argnames.length&&!s.drop_fargs(t,l)){if(!s.drop_fargs(g,p))break;for(;g.argnames.push(g.make_var($t,g,"argument_"+v)),++v<t.argnames.length;);}return h}break}}return t}),Tp=Ee("arguments await yield"),nt.DEFMETHOD("merge_variables",function(t){if(t.option("merge_vars")){for(var s,l,u=[],h={},p=this,g=[],v=[],x=0,E=new we,w=Object.create(null),T=Object.create(null),k=new rt(function(A,ce){var ke,Qe,Se,oe,Te,tt;return A instanceof Ye?(Te=A.left,oe=A.right,Te instanceof Tt?(oe.walk(k),j(K,Y,Te),!0):gn[A.operator.slice(0,-1)]?(Te.walk(k),q(),oe.walk(k),Te instanceof K&&Y(Te),se(),!0):Te instanceof K?(A.operator!="="&&Y(Te,!0),oe.walk(k),Y(Te),!0):void 0):A instanceof he?gn[A.operator]?(At(A),!0):void 0:A instanceof rr?((tt=k.loopcontrol_target(A))instanceof Ei||U(tt),!0):A instanceof ot?((Qe=A.expression)instanceof bn?(A.args.forEach(function(Ue){Ue.walk(k)}),Qe.walk(k)):(ce(),St(Qe)),!0):A instanceof En?(A.name&&A.name.walk(k),A.extends&&A.extends.walk(k),A.properties.filter(function(Ue){return Ue.key instanceof V&&Ue.key.walk(k),Ue.value}).forEach(function(Ue){Ue.static?Ue.value.walk(k):(q(),h.block=A,Ue.value.walk(k),se())}),!0):A instanceof lt?(At(A.condition,A.consequent,A.alternative),!0):A instanceof Ds?((tt=k.loopcontrol_target(A))instanceof os&&U(tt),!0):A instanceof os?(q(),h.block=A,h.loop=!0,Se=h,A.body.walk(k),h.inserted===A&&(h=Se),A.condition.walk(k),se(),!0):A instanceof Tn?(A.init&&A.init.walk(k),q(),h.block=A,h.loop=!0,A.condition&&A.condition.walk(k),A.body.walk(k),A.step&&A.step.walk(k),se(),!0):A instanceof Vn?(A.object.walk(k),q(),h.block=A,h.loop=!0,A.init.walk(k),A.body.walk(k),se(),!0):A instanceof Zt?(At(A.condition,A.body,A.alternative),!0):A instanceof ti?(q(),h.block=A,Se=h,A.body.walk(k),h.inserted===A&&(h=Se),se(),!0):A instanceof nt?(q(),(h.block=A)===p&&(l=h),A instanceof ht&&(A.name&&(w[A.name.definition().id]=!1),ke=A.uses_arguments&&!k.has_directive("use strict")?function(Ue){w[Ue.definition().id]=!1}:function(Ue){Y(Ue)},u.push(A),A.argnames.forEach(function(Ue){j($t,ke,Ue)}),A.rest&&j($t,ke,A.rest),u.pop()),vu(A,k),se(),!0):A instanceof Kt?(Qe=A.expression,(A.optional?(Qe.walk(k),q(),A.property.walk(k),se):ce)(),St(Qe),!0):A instanceof Oi?(A.expression.walk(k),Se=h,A.body.forEach(function(Ue){Ue instanceof cs||(Ue.expression.walk(k),Se===h&&q())}),h=Se,A.body.forEach(function(Ue){q(),h.block=A;var It=h;Nn(Ue,k),h.inserted===A&&(h=It),se()}),!0):A instanceof ci||A instanceof Fr?!(w[A.definition().id]=!1):A instanceof K?(Y(A,!0),!0):A instanceof ni?(oe=s,Nn(s=A,k),A.bcatch&&(A.bcatch.argname&&A.bcatch.argname.mark_symbol(function(Ue){Ue instanceof Gi&&(Ue=Ue.definition(),w[Ue.id]=!1,Ue=Ue.redefined())&&(w[Ue.id]=!1)},k),A.bfinally||(s=oe)?Nn(A.bcatch,k):(q(),Nn(A.bcatch,k),se())),s=oe,A.bfinally&&A.bfinally.walk(k),!0):A instanceof en?$o[A.operator]&&(Te=A.expression)instanceof K?(Y(Te,!0),!0):void 0:A instanceof Wt?((tt=A.value)?tt.walk(k):tt=h.block instanceof Vn&&h.block.init===k.parent(),j(hn,tt?function(Ue){Ue instanceof oi?Y(Ue):Ue.walk(k)}:function(Ue){var It,Q;Ue instanceof oi?(It=Ue.definition().id,(Q=w[It])?Q.push(Ue):It in w||E.add(It,Ue)):Ue.walk(k)},A.name),!0):A instanceof Ns?(q(),h.block=A,h.loop=!0,ce(),se(),!0):void 0;function St(Ue){t.option("ie")&&(Ue=lc(Ue))instanceof K&&Ue.walk(k)}function At(Ue,It,Q){var L=h,Le=[L,L];if(Ue instanceof he)switch(Ue.operator){case"&&":Le[0]=At(Ue.left,Ue.right)[0];break;case"||":case"??":Le[1]=At(Ue.left,null,Ue.right)[1];break;default:Ue.walk(k)}else Ue instanceof lt?At(Ue.condition,Ue.consequent,Ue.alternative):Ue.walk(k);return h=Le[0],It&&(q(),It.walk(k)),Le[0]=h,h=Le[1],Q&&(q(),Q.walk(k)),Le[1]=h,h=L,Le}}),S=(k.directives=Object.create(t.directives),p.walk(k),!1),D=Object.create(null);g.length&&v.length;){var Z=v.shift();if(Z){var G=Z.definition,pe=w[G.id];if(pe){for(pe={end:pe.end};G.id in D;)G=D[G.id];pe.start=w[G.id].start;var ne=[];do{var ie=g.shift();if(!(Z.index>ie.index)){var Ce=ie.definition;if(Ce.id in T){var R=w[Ce.id];if(R){if(R.start.block===pe.start.block&&I(R,pe)&&(!R.start.loop&&ba(G)||I(pe,R))&&(!t.option("webkit")||Xr(G)===Xr(Ce))&&!Ce.const_redefs&&le(R.scopes,function(A){return A.find_variable(G.name)===G})){R.forEach(function(A){A.thedef=G,A.name=G.name,A instanceof K?(G.references.push(A),Ce.replaced++):(G.orig.push(A),Ce.eliminated++)}),Ce.fixed||(G.fixed=!1),D[Ce.id]=G,S=!0;break}ne.push(ie)}}}}while(g.length);ne.length&&(g=ne.concat(g))}}}return S}function q(){h=Object.create(h)}function se(){h=Object.getPrototypeOf(h)}function j(A,ce,ke){var Qe=new rt(function(Se){if(!(Se instanceof Tt))return Se instanceof Ct?(q(),Se.value.walk(k),se(),Se.name.walk(Qe)):Se instanceof An?Se.key instanceof V?Se.value instanceof at?(q(),(h.block=Se).key.walk(k),Se.value.walk(Qe),se()):(Se.key.walk(k),Se.value.walk(Qe)):Se.value.walk(Qe):Se instanceof A?ce(Se):Se.walk(k),!0});ke.walk(Qe)}function Y(A,ce){var ke,Qe=A.definition();if(ce&&!le(u,function(tt){return!(ke=tt.variables.get(A.name))||!Xr(ke)||ke!==Qe&&!Qe.undeclared&&tt.parent_scope.find_variable(A.name)!==Qe}))return w[Qe.id]=w[ke.id]=!1;var Se,oe=h;if(s&&(q(),oe=h,se()),Qe.id in w){if(!(Se=w[Qe.id]))return;if(Se.start.block!==oe.block)return w[Qe.id]=!1;if(Te(A),Se.end=oe,Qe.id in T)v[T[Qe.id]]=null;else if(!ce)return}else{if((ke=p.variables.get(Qe.name))!==Qe)return ke&&l===oe&&(w[ke.id]=!1),w[Qe.id]=!1;if(t.exposed(Qe)||Tp[A.name])return w[Qe.id]=!1;if((Se=E.get(Qe.id)||[]).scopes=[],Te(A),w[Qe.id]=Se,!ce)return Se.start=oe,g.push({index:x++,definition:Qe});if(oe.block!==p)return w[Qe.id]=!1;Se.start=l}function Te(tt){Se.push(tt),fe(Se.scopes,tt.scope);var St=Ao(k);St!==tt.scope&&fe(Se.scopes,St)}T[Qe.id]=v.length,v.push({index:x++,definition:Qe})}function U(A){for(var ce=[];;){if(Ae(h,"block")){var ke=h.block;if((ke=ke instanceof ti?ke.body:ke)===A)break}ce.push(h),se()}for(h.inserted=h.block,q();ce.length;){var Qe=ce.pop();q(),Ae(Qe,"block")&&(h.block=Qe.block),Ae(Qe,"loop")&&(h.loop=Qe.loop)}}function de(A,ce){return A===ce||A.isPrototypeOf(ce)}function I(A,ce){return de(A.start,A.end)||de(A.start,ce.start)}}),nt.DEFMETHOD("drop_unused",function(t){if(t.option("unused")){var s=this,l=!(s instanceof yn)||t.toplevel.funcs,u=!(s instanceof yn)||t.toplevel.vars,h=/keep_assign/.test(t.option("unused"))?d:function(Q,L){var Le,z=!1;if(Q instanceof Ye?!Q.write_only&&Q.operator!="="||(Le=B(Q.left,L)):Q instanceof en&&Q.write_only&&(Le=B(Q.expression,L)),Le instanceof K&&(Q=Le.definition(),!g[Q.id]&&!t.exposed(Q)&&ar(Le,t,z)))return Le;function B(F,ee){if(F instanceof at){var ve=F.expression;if(!ve.may_throw_on_access(t,!0))return z=!0,ee&&F instanceof Kt&&ee.unshift(F.property),B(ve,ee)}else if(F instanceof Ye&&F.operator=="=")return F.write_only="p",ve=B(F.right),!ee||(ee.assign=F,ve instanceof K)?ve:F.left;return F}},p=Object.create(null),g=Object.create(null),v=function(Q){return(v=function L(Le,z,B){var F=t.parent(z);return F?(Le=F instanceof ht&&n(Le,F.argnames),L(F,z+1,Le?function(ee){var ve=B(ee);if(ve||(ve=F.variables.get(ee))&&(ee=ve.orig[0],ee instanceof $t||ee instanceof fi))return ve}:F.variables?function(ee){return B(ee)||F.variables.get(ee)}:B)):B}(s,0,f))(Q)},x=Object.create(null),E=[],w=Object.create(null),T=Object.create(null),k=Object.create(null),S=Object.create(null),D=Object.create(null),Z=(s instanceof yn&&t.top_retain&&s.variables.each(function(Q){!t.top_retain(Q)||Q.id in w||(V.info("Retaining variable {name}",Q),w[Q.id]=!0,E.push(Q))}),new we),G=new we,pe=this,ne=((ie=new rt(function(Q,L){if(Q instanceof ht&&Q.uses_arguments&&!ie.has_directive("use strict")&&Q.each_argname(function(ve){ve=ve.definition(),ve.id in w||(w[ve.id]=!0,E.push(ve))}),Q!==s){if(pe===s){var Le,z,B,F;if(Q instanceof gi)return F=Q.name.definition(),(B=l&&!F.exported)||F.id in w||(w[F.id]=!0,E.push(F)),(Le=ie.parent()instanceof Ai)?g[F.id]=!0:!B||F.id in T||(T[F.id]=1),Q.extends&&Q.extends.walk(ie),z=[],Q.properties.forEach(function(ve){ve.key instanceof V&&ve.key.walk(ie);var ue=ve.value;ue&&(Cc(ve)?(!Le&&ue.contains_this()&&(Le=!0),ee(ue)):z.push(ue))}),z.forEach(B&&Le?ee:function(ve){G.add(F.id,ve)}),!0;if(Q instanceof dn)return F=Q.name.definition(),(B=l&&!F.exported)||F.id in w||(w[F.id]=!0,E.push(F)),G.add(F.id,Q),ie.parent()instanceof Ai?(g[F.id]=!0,St(Q,L,!0)):(!B||F.id in T||(T[F.id]=1),!0);if(Q instanceof fn)return Q.definitions.forEach(function(ve){var ue=ve.value,De=ue&&(ve.name instanceof Tt||ue.has_side_effects(t)),ze=De&&ue.tail_node().operator=="=";ve.name.mark_symbol(function(_e){var te,Me;if(_e instanceof hn)return te=_e.definition(),D[te.id]=(D[te.id]||0)+1,Q instanceof un&&te.orig[0]instanceof Gi&&(Me=te.redefined())&&(D[Me.id]=(D[Me.id]||0)+1),te.id in w||u&&!te.exported&&(Q instanceof Lr?!te.redefined():!te.const_redefs)&&(Q instanceof un||Zo(te))||(w[te.id]=!0,E.push(te)),ue&&(De?ze&&oe(te,_e,S[te.id]):G.add(te.id,ue),Z.add(te.id,ve)),Se(te),!0},ie),De&&ue.walk(ie)}),!0;if(Q instanceof $t)return F=Q.definition(),D[F.id]=(D[F.id]||0)+1,Z.add(F.id,Q),!0;if(Q instanceof or)return(F=Q.definition()).id in w||u&&Zo(F)||(w[F.id]=!0,E.push(F)),!0}return St(Q,L,!0)}function ee(ve){var ue=pe;pe=Q,ve.walk(ie),pe=ue}})).directives=Object.create(t.directives),s.walk(ie),t.option("keep_fnames")?d:t.option("ie")?function(Q){return!t.exposed(Q)&&Q.references.length==Q.replaced}:function(Q){return!(Q.id in w)||!(Q.orig.length-Q.eliminated<2)&&(Q.orig[1]instanceof $t||le(Q.references,function(L){return!L.in_arg}))});t.option("ie")&&G.each(function(Q,L){L in w||Q.forEach(function(Le){Le.walk(new rt(function(z){return z instanceof Pn&&z.name&&!ne(z.name.definition())?(z.walk(ie),!0):z instanceof nt||void 0}))})});for(var ie=new rt(St),Ce=0;Ce<E.length;Ce++){var R=G.get(E[Ce].id);R&&R.forEach(function(Q){Q.walk(ie)})}Object.keys(p).forEach(function(Q){var L,Le=p[Q];Le&&(Le=Le.reduce(function(z,B){return B.forEach(function(F){fe(z,F)}),z},[]),L=(Z.get(Q)||[]).filter(function(z){return i(z instanceof en?function(B){return B===z}:function(B){return B===z||!(B instanceof en)&&I(B)===I(z)},Le)}),Le.length==L.length)?p[Q]=L:delete p[Q]});var q=[],se=[],j=new Gn(function(Q){if(Q instanceof Ct)return Ue(j,Q);if(Q instanceof Tt&&Q.rest&&(Q.rest=Q.rest.transform(j)),Q instanceof wn){for(var L=!Q.rest,Le=Q.elements.length;0<=--Le;){var z=Q.elements[Le].transform(j);z?(Q.elements[Le]=z,L=!1):L?Q.elements.pop():Q.elements[Le]=b(Bn,Q.elements[Le])}return Q}var B;return Q instanceof si?(B=[],Q.properties.forEach(function(F){var ee=!1;F.key instanceof V&&(F.key=F.key.transform(Y),ee=F.key.has_side_effects(t)),(ee||Q.rest)&&((ee=F.value)instanceof Ct?ee.name:ee)instanceof hn?(F.value=F.value.transform(Y),B.push(F)):(ee=!(ee=F.value.transform(j))&&Q.rest?F.value instanceof wn?b(wn,F.value,{elements:[]}):b(si,F.value,{properties:[]}):ee)&&(F.value=ee,B.push(F))}),Q.properties=B,Q):Q instanceof hn?At(Q):void 0}),Y=new Gn(function(Q,L,Le){var z,B,F=Y.parent();if(u){var ee,ve,ue=[],De=h(Q,ue);if(De){if(B=Q,st=(z=De).definition(),ee=!(ve=w[st.id])||B[B instanceof Ye?"left":"expression"]===z&&(ve===z&&st.references.length-st.replaced==1||Qe(st,B)<0)?(ee=Q instanceof Ye&&(ee=Te(Q),Q.write_only===!0)?ee.drop_side_effect_free(t):ee)||b(dt,Q,{value:0}):ee)switch(ue.assign&&(ve=ue.assign.drop_side_effect_free(t))&&(ve.write_only=!0,ue.unshift(ve)),F instanceof Ke&&F.tail_node()!==Q&&!ee.has_side_effects(t)||ue.push(ee),ue.length){case 0:return C.skip;case 1:return lr(F,Q,ue[0].transform(Y));default:return Xe(Q,ue.map(function(be){return be.transform(Y)}))}}else if(Q instanceof Br&&Q.expression instanceof K&&Qe(Q.expression.definition(),Q)<0)return b(Ve,Q,{operator:"+",expression:Q.expression})}if(Q instanceof he&&Q.operator=="instanceof")return!((De=Q.right)instanceof K)||De.definition().id in w?void 0:(z=Q.left.drop_side_effect_free(t),ee=b(Gr,Q).optimize(t),z?Xe(Q,[z,ee]):ee);if(Q instanceof ot)return q.push(Q),Q.args=Q.args.map(function(be){return be.transform(Y)}),Q.expression=Q.expression.transform(Y),Q;if(pe===s){if(l&&Q!==s&&Q instanceof gi&&!((Me=Q.name.definition()).id in w))return U(Q.name,"Dropping unused class {name}"),Me.eliminated++,L(Q,Y),qe=Nu(Q,!0),F instanceof Ai?qe:(qe=qe.drop_side_effect_free(t,!0))?b(Re,Q,{body:qe}):Le?C.skip:b(_t,Q);if(Q instanceof Zr&&Q.name&&ne(Q.name.definition())&&(Q.name=null),Q instanceof ht){if(l&&Q!==s&&Q instanceof dn&&!((Me=Q.name.definition()).id in w))return U(Q.name,"Dropping unused function {name}"),Me.eliminated++,F instanceof Ai?(ft(),Ec(Q,!0)):Le?C.skip:b(_t,Q);if(ft(),Q instanceof bn&&Q.name&&ne(Q.name.definition())&&(Q.name=null),!(Q instanceof Vi)){var ze,_e,te=t.drop_fargs(Q,F);if(te&&F instanceof ot&&F.expression===Q)for(ze=F.args,_e=0;_e<ze.length&&!(ze[_e]instanceof Qt);_e++);for(var Me,qe,We,vt=Q.argnames,st=Q.rest,mt=!1,ut=!1,Rn=(st&&(ut=!0,!ze||_e<vt.length||st instanceof $t?st=st.transform(j):(st=(qe=It(st,b(yt,F,{elements:ze.slice(vt.length)}),At,!Q.uses_arguments,st)).name,ze.length=vt.length,qe.value.elements.length&&[].push.apply(ze,qe.value.elements)),st instanceof Tt&&!st.rest&&(st instanceof wn?st.elements.length==0&&(st=null):st.properties.length==0&&(st=null)),Q.rest=st)&&(mt=!(te=!1)),te?-1:Q.length()),Bt=ze&&!Q.uses_arguments&&F!==t.parent(),ri=vt.length;0<=--ri;)(De=vt[ri])instanceof $t?(Me=De.definition()).id in w?(te=!1,Qe(Me,De)<0&&(De.unused=null)):(te&&(U(De,"Dropping unused function argument {name}"),vt.pop(),Me.eliminated++),De.unused=!0):(ut=!0,!ze||_e<ri?We=De.transform(j):(We=(qe=It(De,ze[ri],At,Bt,De)).name,qe.value&&(ze[ri]=qe.value)),We?(te=!1,vt[ri]=We,mt=mt||!(We instanceof $t)):te?(de(De,"Dropping unused default argument {name}"),vt.pop()):Rn<ri?(de(De,"Dropping unused default argument assignment {name}"),De.name instanceof $t?De.name.unused=!0:mt=!0,vt[ri]=De.name):(de(De,"Dropping unused default argument value {name}"),vt[ri]=De=De.clone(),De.value=b(dt,De,{value:0}),mt=!0));ut&&!mt&&Q.uses_arguments&&!Y.has_directive("use strict")&&(Q.rest=b(wn,Q,{elements:[]})),se.push(Q)}return Q}if(Q instanceof Ni&&Q.argname instanceof Tt&&Q.argname.transform(j),!(Q instanceof fn)||F instanceof Vn&&F.init===Q)return Q instanceof Ye?(L(Q,Y),Q.left instanceof Tt?(qe=It(Q.left,Q.right,function(be){return be},Q.write_only===!0)).name?b(Ye,Q,{operator:Q.operator,left:qe.name,right:qe.value}):qe.value||(F instanceof Ke&&F.tail_node()!==Q?C.skip:b(dt,Q,{value:0})):Q):Q instanceof ti&&Q.body instanceof Tn?(L(Q,Y),Q.body instanceof Be?(B=Q.body,Q.body=B.body.pop(),B.body.push(Q),Le?C.splice(B.body):B):Q):Q instanceof nt?(ft(),Q):Q instanceof or?!t.option("imports")||Q.definition().id in w?Q:Le?C.skip:null:void 0;var kn=[],M=[],me=[],H=[],ye=0,Pe=Q instanceof un;switch(Q.definitions.forEach(function(be){be.value&&(be.value=be.value.transform(Y));var Je=be.value;if(be.name instanceof Tt)(Ui=It(be.name,Je,function(Cn){return!u||Cn.definition().id in w||kr(Cn)||Pe&&!ar(Cn)?Cn:null},!0)).name?(be=b(Wt,be,{name:Ui.name,value:Je=Ui.value}),ai()):Ui.value&&H.push(Ui.value);else{var Vt,Pt,Xt,zt,Un,Sn=be.name.definition(),Ui=Pe?ar(be.name):Zo(Sn);if(!Ui||!u||Sn.id in w)if(Je&&((zt=Qe(Sn,be))<0||(Un=Je.tail_node())instanceof K&&Un.definition()===Sn)&&(be=be.clone(),(Je=Je.drop_side_effect_free(t))&&V.warn("Side effects in definition of variable {name} [{start}]",be.name),Q instanceof Lr?be.value=Je||b(dt,be,{value:0}):(be.value=null,Je&&H.push(Je)),Je=null,0<=zt)&&(p[Sn.id][zt]=be),Je||Q instanceof yr)if(t.option("functions")&&!t.option("ie")&&Ui&&Je&&D[Sn.id]==1&&Sn.assignments==0&&(Un=Je.tail_node())instanceof bn&&!Rs(Sn)&&!$n(Un)&&(Xt=Un,(zt=Sn.references).length==0?Xt===be.name.fixed_value():le(zt,function(Cn){return Xt===Cn.fixed_value()}))&&(Pt=Un,Pe&&!t.has_directive("use strict")&&Pt instanceof Pn?F instanceof ei||F instanceof Tn&&F.init===Q||F instanceof Zt:F instanceof nt)&&(Pt=function(Cn,Sr){if(!Cn.name)return null;var Qr,Pi=Cn.name.definition();if(1<Pi.orig.length)return null;if(0<Pi.assignments)return!1;if(Pi.name==Sr)return Pi;if(t.option("keep_fnames"))return!1;switch(Sr){case"await":Qr=mi;break;case"yield":Qr=Li}return le(Pi.references,function(_){var N=_.scope;if(N.find_variable(Sr)===Sn){if(Qr)do if(N=N.resolve(),Qr(N))return;while(N!==Cn&&(N=N.parent_scope));return 1}})&&Pi}(Un,be.name.name))!==!1){switch(V.warn("Declaring {name} as function [{start}]",be.name),Un.CTOR){case gr:Vt=as;break;case Fi:Vt=Ir;break;case Pn:Vt=Yi;break;case Or:Vt=Es}var es=b(Vt,Un),ms=(es.name=b(br,be.name),be.name.scope.resolve().def_function(es.name));Pt&&Pt.forEach(function(Cn){Cn.name=ms.name,Cn.thedef=ms,Cn.reference()}),kn.push(es),Je!==Un&&[].push.apply(H,Je.expressions.slice(0,-1))}else Ui&&1<D[Sn.id]&&!(F instanceof vi)&&Sn.orig.indexOf(be.name)>Sn.eliminated&&(D[Sn.id]--,ye++),ai();else F instanceof vi?ai():Ui&&1<D[Sn.id]?(V.info("Dropping declaration of variable {name} [{start}]",be.name),D[Sn.id]--,Sn.eliminated++):M.push(be);else kr(be.name)?((Je=Je&&Je.drop_side_effect_free(t))&&H.push(Je),1<D[Sn.id]?(V.warn("Dropping duplicated declaration of variable {name} [{start}]",be.name),D[Sn.id]--,Sn.eliminated++):(be.value=null,M.push(be))):((Je=Je&&Je.drop_side_effect_free(t))?(V.warn("Side effects in initialization of unused variable {name} [{start}]",be.name),H.push(Je)):U(be.name,"Dropping unused variable {name}"),Sn.eliminated++)}function kr(Cn){var Sr=Cn.definition();return Sr.orig[0]instanceof Gi&&Sr.scope.resolve()===Cn.scope.resolve()}function ai(){0<H.length&&(me.length==0?kn.push(b(Re,Q,{body:Xe(Q,H)})):Je?(H.push(Je),be.value=Xe(Je,H)):be.value=b(Ve,be,{operator:"void",expression:Xe(be,H)}),H=[]),me.push(be)}}),M.length){case 0:if(me.length==0)break;if(me.length==ye){[].unshift.apply(H,me.map(function(Pt){V.info("Dropping duplicated definition of variable {name} [{start}]",Pt.name);var Je=Pt.name.definition(),Vt=b(K,Pt.name),Vt=(Je.references.push(Vt),b(Ye,Pt,{operator:"=",left:Vt,right:Pt.value})),Pt=Qe(Je,Pt);return 0<=Pt&&(p[Je.id][Pt]=Vt),Je.assignments++,Je.eliminated++,Vt}));break}case 1:if(me.length==0){var ct=M[0].name.definition().id;if(ct in x){Q.definitions=M,x[ct].init=Q;break}}default:0<me.length&&(ct=me[0].value)instanceof Ke&&(me[0].value=ct.tail_node(),kn.push(b(Re,Q,{body:Xe(ct,ct.expressions.slice(0,-1))}))),Q.definitions=M.concat(me),kn.push(Q)}return 0<H.length&&kn.push(b(Re,Q,{body:Xe(Q,H)})),A(kn,Q,Le)}function ft(){var be=pe;L(pe=Q,Y),pe=be}},function(Q,L){if(Q instanceof Be)return Bu(Q,Y.parent(),L);if(Q instanceof vi)return(z=Q.body)instanceof Be?(Q.body=z.body.pop(),z.body.push(Q),L?C.splice(z.body):z):void 0;if(Q instanceof Tn)return Jp(Q,L);if(Q instanceof wo){if(!u||!t.option("loops")||!eo(Q.body))return;var z=tt(Q);if(!z)return;var Le=z.definition();if(Le.id in w)return;U(z,"Dropping unused loop variable {name}"),x[Le.id]===Q&&delete x[Le.id];var z=[],B=Q.object.drop_side_effect_free(t);return B&&(V.warn("Side effects in object of for-in loop [{start}]",B),z.push(b(Re,Q,{body:B}))),Q.init instanceof fn&&Le.orig[0]instanceof Gi&&z.push(Q.init),A(z,Q,L)}return Q instanceof ea?(Q.properties&&Q.properties.length==0&&(Q.properties=null),Q):Q instanceof Ke&&!(1<Q.expressions.length)?lr(Y.parent(),Q,Q.expressions[0]):void 0});Y.push(t.parent()),Y.directives=Object.create(t.directives),s.transform(Y),s instanceof ht&&s.body.length==1&&s.body[0]instanceof vn&&s.body[0].value=="use strict"&&(s.body.length=0),q.forEach(function(Q){Ku(Q,t,se)})}function U(Q,L){V[0<Q.definition().references.length?"info":"warn"](L+" [{start}]",Q)}function de(Q,L){Q.name instanceof $t?U(Q.name,L):V.info(L+" [{start}]",Q)}function I(Q){return Q[Q instanceof Ye?"right":"value"]}function A(Q,L,Le){switch(Q.length){case 0:return Le?C.skip:b(_t,L);case 1:return Q[0];default:return Le?C.splice(Q):b(Be,L,{body:Q})}}function ce(Q,L){return Q.scope.resolve()===s&&(Q.fixed&&L.fixed||(p[Q.id]=!1),p[Q.id]!==!1)}function ke(Q,L){p[Q.id]||(p[Q.id]=[]),L.fixed.assigns&&fe(p[Q.id],L.fixed.assigns)}function Qe(Q,L){return Q=p[Q.id],Q&&Q.indexOf(L)}function Se(Q){1<T[Q.id]&&!(Q.id in w)&&(w[Q.id]=!0,E.push(Q)),T[Q.id]=0}function oe(Q,L,Le){Q.id in w||(L&&Le?(w[Q.id]=L,E.push(Q)):(k[Q.id]=L,S[Q.id]=Le))}function Te(Q){var L=Q.right;return!Q.write_only||!(L instanceof he&&gn[L.operator])||!(L.left instanceof K)||!(Q.left instanceof K)||(Q=Q.left.definition(),L.left.definition()!==Q)||L.right.has_side_effects(t)?L:(ce(Q,L.left)&&ke(Q,L.left),L.right)}function tt(Q){var L=Q.init;if(L instanceof fn)return(L=L.definitions[0].name)instanceof hn&&L;for(;L instanceof at;)L=L.expression.tail_node();return L instanceof K?L:void 0}function St(Q,L,Le){Q instanceof Ye&&Q.left instanceof K&&(B=Q.left.definition()).scope.resolve()===s&&Z.add(B.id,Q),Q instanceof K&&Q.in_arg&&(D[Q.definition().id]=0),Q instanceof en&&Q.expression instanceof K&&(B=Q.expression.definition()).scope.resolve()===s&&Z.add(B.id,Q);var z,B,F,ee=[],ve=h(Q,ee);if(ve)return(F=ve.definition()).scope.resolve()!==s&&s.variables.get(ve.name)!==F||Rs(F)&&!le(s.argnames,function(De){return!De.match_symbol(function(ze){if(ze instanceof $t)return(ze=ze.definition()).references.length>ze.replaced},!0)})||Q.write_only==="p"&&Q.right.may_throw_on_access(t,!0)?void 0:((ue=ee.assign)&&(ue.write_only=!0,ue.walk(ie)),ee.forEach(function(De){De.walk(ie)}),Q instanceof Ye&&(ue=Te(Q),ee=!1,Le&&Q.write_only===!0&&!ue.has_side_effects(t)?G.add(F.id,ue):(ue.walk(ie),ee=ue.tail_node().operator=="="),Q.left===ve?Q.write_only&&!ee||oe(F,ve,S[F.id]):(Le=ve.fixed_value())&&Le.is_constant()||oe(F,k[F.id],!0)),ce(F,ve)&&Wi(ve,Q)!==ve&&ke(F,ve),Se(F),!0);if(Q instanceof he)return Q.operator=="instanceof"&&(ve=Q.right)instanceof K&&(z=ve.definition().id,T[z])?(Q.left.walk(ie),T[z]++,!0):void 0;if(Q instanceof wo){if(Q.init instanceof K&&pe===s&&((z=Q.init.definition().id)in x||(x[z]=Q)),!u||!t.option("loops")||!eo(Q.body)||Q.init.has_side_effects(t)||!(ve=tt(Q)))return;if((B=ve.definition()).scope.resolve()!==s){var ue=v(ve.name);if(ue===B||ue&&ue.redefined()===B)return}return Q.object.walk(ie),!0}return Q instanceof K?((F=Q.definition()).id in w||(w[F.id]=!0,E.push(F)),!jp(F.scope,Q.scope)||!(ee=F.redefined())||ee.id in w||(w[ee.id]=!0,E.push(ee)),ce(F,Q)&&ke(F,Q),!0):Q instanceof nt?(Le=pe,pe=Q,L(),pe=Le,!0):void 0}function At(Q){return Q.definition().id in w?Q:(Q instanceof $t&&(Q.unused=!0),null)}function Ue(Q,L){if(L.value=L.value.transform(Y),!L.name.transform(Q)){if(L.name instanceof Tt||(Q=L.value.drop_side_effect_free(t),!Q))return null;U(L.name,"Side effects in default value of unused variable {name}"),(L=L.clone()).name.unused=null,L.value=Q}return L}function It(Q,L,Le,z,B){var F=new Gn(function(ue){if(ue instanceof Ct){if(!(t.option("default_values")&&L&&L.is_defined(t)))return _e=z,z=!1,ze=Ue(F,ue),z=_e,!ze&&z&&(L=L&&L.drop_side_effect_free(t)),ze;ue===B?B=ue=ue.name:ue=ue.name}if(ue instanceof wn){var De,ze,_e=z,te=L,Me=(L instanceof K&&(z=!1,L=L.fixed_value()),ut=L instanceof yt?(De=!0,L.elements):(De=L&&L.is_string(t),!1),[]),qe=z&&[],We=0;if(ue.elements.forEach(function(M,me){(L=ut&&ut[me])instanceof Bn?L=null:L instanceof Qt&&(z&&(qe.length=We,fl(te,qe),[].push.apply(qe,ut.slice(me)),te.elements=qe),L=ut=!1),(M=M.transform(F))&&(Me[We]=M),z&&L&&(qe[We]=L),!M&&!L&&z&&ut||We++}),L=ut&&b(yt,te,{elements:ut.slice(ue.elements.length)}),ue.rest&&(ze=z,z=!1,ue.rest=ue.rest.transform(t.option("rests")?F:Y),z=ze,ue.rest)&&(Me.length=We),z&&(L=(L=L&&!ue.rest?L.drop_side_effect_free(t):L)instanceof yt?L.elements:L instanceof Ke?L.expressions:L&&[L])&&L.length&&(qe.length=We,[].push.apply(qe,L)),L=te,z=_e,ut&&qe&&(fl(L,qe),(L=L.clone()).elements=qe),De){if(!ue.rest)switch(Me.length){case 0:if(ue===B)break;return z&&(L=L.drop_side_effect_free(t)),null;case 1:if(!z||ue===B)break;var vt=Me[0];if(vt.has_side_effects(t)||L.has_side_effects(t)&&vt.match_symbol(function(M){return M instanceof at}))break;return L=b(Kt,ue,{expression:L,property:b(dt,ue,{value:0})}),vt}}else Me.length=ue.elements.length;fl(ue,Me),ue.elements=Me}else if(ue instanceof si){var st,mt,ut,_e=z,te=L,Rn=(L instanceof K&&(z=!1,L=L.fixed_value()),L instanceof tn&&(st=[],mt=new we,ut=L.properties.map(function(H,ye){var Pe;return(H=H.clone())instanceof Qt?mt=!1:((Pe=(Pe=H.key)instanceof V?Pe.evaluate(t,!0):Pe)instanceof V?mt=!1:!mt||H instanceof Ms||mt.set(Pe,H),st[ye]=Pe),H})),ue.rest&&(L=!1,ue.rest=ue.rest.transform(t.option("rests")?F:Y)),new we),Bt=z&&new we,ri=[];if(ue.properties.map(function(H){var ye=H.key;return ye instanceof V&&(H.key=ye=ye.transform(Y),ye=ye.evaluate(t,!0)),ye instanceof V?Bt=!1:Rn.set(ye,!Rn.has(ye)),ye}).forEach(function(H,ft){var Pe,ct,ft=ue.properties[ft];H instanceof V?(L=z=!1,Pe=ft.value.transform(F)||ve(ft.value)):(z=Bt&&Rn.get(H),(!(ct=mt&&mt.get(H))||(L=ct.value)instanceof Vi)&&(L=!1),(Pe=ft.value.transform(F))?Bt&&Bt.set(H,!1):((ue.rest||ee(ft))&&(Pe=ve(ft.value)),Bt&&!Bt.has(H)&&(ct?(Bt.set(H,ct),L===null&&mt.set(H,ee(ct)&&b(ii,ct,{key:ct.key,value:b(dt,ct,{value:0})}))):Bt.set(H,!0))),L&&(ct.value=L)),Pe&&(ft.value=Pe,ri.push(ft))}),L=te,z=_e,Bt&&st&&((L=L.clone()).properties=C(ut,function(H,ye){if(H instanceof Qt||(ye=st[ye],ye instanceof V))return H;if(Bt.has(ye)){var Pe=Bt.get(ye);if(!Pe)return H;if(Pe===H)return mt.get(ye)||C.skip}else if(ue.rest)return H;return Pe=H.value.drop_side_effect_free(t),Pe?(H.value=Pe,H):ee(H)?b(ii,H,{key:H.key,value:b(dt,H,{value:0})}):C.skip})),L&&!ue.rest)switch(ri.length){case 0:if(ue===B||L.may_throw_on_access(t,!0))break;return z&&(L=L.drop_side_effect_free(t)),null;case 1:if(!z||ue===B)break;var kn=ri[0];if(kn.key instanceof V||kn.value.has_side_effects(t)||L.has_side_effects(t)&&kn.value.match_symbol(function(H){return H instanceof at}))break;return L=b(Kt,ue,{expression:L,property:hs(kn.key,kn)}),kn.value}ue.properties=ri}else!(ue=ue instanceof Bn?null:Le(ue))&&z&&(L=L&&L.drop_side_effect_free(t));return ue});return{name:Q.transform(F),value:L};function ee(ue){return ue.key instanceof V&&ue.key.has_side_effects(t)}function ve(ue){return ue instanceof Ct?ve(ue.name):ue instanceof Tt?(L===null?L=b(dt,ue,{value:0}):L&&(L.may_throw_on_access(t,!0)?L=b(yt,ue,{elements:L instanceof Ke?L.expressions:[L]}):function De(ze){ze instanceof Ye?(ze.write_only=!1,De(ze.right)):ze instanceof he?gn[ze.operator]&&(De(ze.left),De(ze.right)):ze instanceof lt?(De(ze.consequent),De(ze.alternative)):ze instanceof Ke?De(ze.tail_node()):ze instanceof en&&(ze.write_only=!1)}(L)),b(si,ue,{properties:[]})):(ue.unused=null,ue)}}}),nt.DEFMETHOD("hoist_declarations",function(t){var s,l,u,h,p,g,v,x,E,w;!t.has_directive("use asm")&&(s=t.option("hoist_funs"),l=t.option("hoist_vars"),u=this,l&&(h=0,u.walk(new rt(function(T){return 1<h||T instanceof vi||T instanceof nt&&T!==u||(T instanceof un?(h++,!0):void 0)})),h<=1)&&(l=!1),s||l)&&(p=new we,g=[],v=[],x=new we,E=new Gn(function(T,k,S){if(T!==u){if(T instanceof vn)return g.push(T),S?C.skip:b(_t,T);var D;if(T instanceof dn)return!s||(D=E.parent())instanceof vi||D instanceof Ai||D!==u&&t.has_directive("use strict")?T:(v.push(T),S?C.skip:b(_t,T));if(T instanceof un){if(!l||(D=E.parent())instanceof vi||!le(T.definitions,function(pe){return pe=pe.name,pe instanceof oi&&!p.has(pe.name)&&u.find_variable(pe.name)===pe.definition()}))return T;T.definitions.forEach(function(pe){x.set(pe.name.name,pe)});var Z,G=T.to_assignments();return D instanceof Vn&&D.init===T?G||(Z=T.definitions[0].name,b(K,Z)):D instanceof Tn&&D.init===T?G:G?b(Re,T,{body:G}):S?C.skip:b(_t,T)}return T instanceof nt?T:T instanceof ci?(p.set(T.name,!0),T):void 0}}),u.transform(E),0<x.size()&&(w=[],u instanceof ht&&u.each_argname(function(T){le(T.definition().references,function(k){return!k.in_arg})&&x.del(T.name)}),x.each(function(T,k){(T=T.clone()).name=T.name.clone(),T.value=null,w.push(T),x.set(k,T),T.name.definition().orig.unshift(T.name)}),0<w.length)&&v.push(b(un,u,{definitions:w})),u.body=g.concat(v,u.body))}),nt.DEFMETHOD("process_returns",f),Yi.DEFMETHOD("process_returns",function(t){if(t.option("booleans")&&!(t.parent()instanceof Ai))switch(fm(this.name.definition(),cm(this),t)){case"d":Ac(t,this,!0);break;case!0:um(this,t)}}),Pn.DEFMETHOD("process_returns",function(t){if(t.option("booleans")){var s=!0,l=cm(this);if(!this.name||E(this.name.definition())){var u=t.parent();if(u instanceof Ye){if(u.operator!="="||!((p=u.left)instanceof K)||!E(p.definition()))return}else if(u instanceof ot&&u.expression!==this){var h=u.expression;if(!((h=h instanceof K?h.fixed_value():h)instanceof ht)||h.uses_arguments||h.pinned())return;for(var p,g=u.args,v=0;v<g.length;v++){var x=g[v];if(x===this){if(!(p=h.argnames[v])&&h.rest)return;break}if(x instanceof Qt)return}if((p=p instanceof Ct?p.name:p)instanceof $t&&!E(p.definition()))return}else{if(u.TYPE!="Call")return;switch(t.pop(),u=t.in_boolean_context(),t.push(this),u){case!0:s=!1;case"d":break;default:return}}s?Ac(t,this,!0):um(this,t)}}function E(w){switch(fm(w,l,t)){case!0:s=!1;case"d":return 1}}}),Mn.DEFMETHOD("var_names",function(){var t=this._var_names;return t||(this._var_names=t=new we,this.enclosed.forEach(function(s){t.set(s.name,!0)}),this.variables.each(function(s,l){t.set(l,!0)})),t}),nt.DEFMETHOD("make_var",function(g,s,l){for(var u=[this],h=(s instanceof hn&&s.definition().references.forEach(function(x){var E=x.scope;do if(!fe(u,E))return;while((E=E.parent_scope)&&E!==this)}),l=l.replace(/^[^a-z_$]|[^a-z0-9_$]/gi,"_")),p=0;!le(u,function(x){return!x.var_names().has(h)});p++)h=l+"$"+p;var g=b(g,s,{name:h,scope:this}),v=this.def_variable(g);return u.forEach(function(x){x.enclosed.push(v),x.var_names().set(h,!0)}),g}),nt.DEFMETHOD("hoist_properties",function(t){var s,l,u,h;function p(g,v,x){var E;return!(g instanceof Xn)||(E=g.definition()).assignments!=x||E.references.length-E.replaced==x||E.single_use||s.find_variable(g.name)!==E||l(E)||g.fixed_value()!==v||(x=g.fixed||E.fixed).direct_access?void 0:(!x.escaped||x.escaped.depth!=1)&&v instanceof tn&&0<v.properties.length&&ar(g,t)&&le(v.properties,function(w){return jc(w)&&w.key!=="__proto__"})}!t.option("hoist_props")||t.has_directive("use asm")||$n(s=this)&&s.value||(l=s instanceof yn&&t.top_retain||d,u=Object.create(null),h=new Gn(function(g,v){if(g instanceof Ye){if(g.operator!="="||!g.write_only||!p(g.left,g.right,1))return;v(g,h);var x=new we,E=[],w=[];return g.right.properties.forEach(function(D){var Z=S(oi,g.left,D.key),Z=(w.push(b(Wt,g,{name:Z,value:null})),b(K,g,{name:Z.name,scope:s,thedef:Z.definition()}));Z.reference(),E.push(b(Ye,g,{operator:"=",left:Z,right:D.value}))}),x.value=g.right,u[g.left.definition().id]=x,s.body.splice(s.body.indexOf(h.stack[1])+1,0,b(un,g,{definitions:w})),Xe(g,E)}var T,k;if(g instanceof nt)return g===s||(k=h.parent()).TYPE=="Call"&&k.expression===g?void 0:g;if(g instanceof Wt&&p(g.name,g.value,0))return v(g,h),x=new we,T=[],(k=g.clone()).value=g.name instanceof ci?b(dt,g,{value:0}):null,T.push(k),g.value.properties.forEach(function(D){T.push(b(Wt,g,{name:S(g.name.CTOR,g.name,D.key),value:D.value}))}),x.value=g.value,u[g.name.definition().id]=x,C.splice(T);function S(D,Z,G){return D=s.make_var(D,Z,Z.name+"_"+G),x.set(G,D.definition()),D}}),s.transform(h),s.transform(new Gn(function(g,v){var x;if(g instanceof at)return g.expression instanceof K&&(E=u[g.expression.definition().id])&&g.expression.fixed_value()===E.value?(x=E.get(g.get_property()),(x=b(K,g,{name:x.name,scope:g.expression.scope,thedef:x})).reference(),x):void 0;if(g instanceof K){var E=u[g.definition().id];if(E&&g.fixed_value()===E.value)return b(tn,g,{properties:[]})}})))}),(X=function(t,s){t.DEFMETHOD("drop_side_effect_free",s)})(V,O),X(Vi,y),X(yt,function(t,s){return t=no(this.elements,t,s,Dc),t?t===this.elements&&le(t,function(l){return l instanceof Qt})?this:Xe(this,t.map(Zc)):null}),X(Ye,function(t){var s=this.left;if(s instanceof at){var l=s.expression;if(l.may_throw_on_access(t,!0))return this;if(t.has_directive("use strict")&&l.is_constant())return this}return!s.has_side_effects(t)&&!gn[this.operator.slice(0,-1)]&&(this.write_only=!0,lc(s).is_constant_expression(t.find_parent(nt)))?this.right.drop_side_effect_free(t):this}),X(pn,function(t){if(!t.option("awaits"))return this;var s=this.expression;if(!bi(t,s))return this;var l=(s=s instanceof Ve&&s.operator=="!"?s.expression:s).drop_side_effect_free(t);return l===s?this:(l?bi(t,l)||(l=l.negate(t)):l=b(dt,s,{value:0}),t=this.clone(),t.expression=l,t)}),X(he,function(t,s){var l,u,h,p,g=this.left,v=this.right,x=this.operator;return hl(x,v,t)?(l=v.drop_side_effect_free(t,s))?gn[x]&&l.has_side_effects(t)?(u=this,l!==v&&((u=u.clone()).right=l.drop_side_effect_free(t)),x=="??"?u:((v=u.clone()).operator=x=="&&"?"||":"&&",v.left=g.negate(t,s),(h=v.right.tail_node())instanceof he&&v.operator==h.operator&&Rc(v),h=s?Tc:Jr,x=="&&"?h(u,v):h(v,u))):(p=g.drop_side_effect_free(t,s))?(l=l.drop_side_effect_free(t))?Xe(this,[p,l]):p:l:g.drop_side_effect_free(t,s):(p=g.drop_side_effect_free(t,s))===g?this:((u=this.clone()).left=p||b(dt,g,{value:0}),u)}),X(ot,function(t,s){var l=this;if(l.is_expr_pure(t))return l.pure&&V.warn("Dropping __PURE__ call [{start}]",l),(u=no(l.args,t,s,Dc))&&Xe(l,u.map(Zc));var u=l.expression;if(l.is_call_pure(t))return(x=l.args.slice()).unshift(u.expression),(x=no(x,t,s,Dc))&&Xe(l,x.map(Zc));if(t.option("yields")&&Li(u)){var v=l.clone(),h=(v.expression=b(Pn,u),v.expression.body=[],v.transform(t));if(h!==v)return h.drop_side_effect_free(t,s)}var p,g,v=Ac(t,u);if(v&&((l=l.clone()).expression=v,u._squeezed)&&(l.expression._squeezed=!0),l instanceof Si){var x,h=u;if((h=h instanceof K?h.fixed_value():h)instanceof ht){if(p=t,(v=h).new=!0,g=le(v.body,function(w){return!w.has_side_effects(p)})&&le(v.argnames,function(w){return!w.match_symbol(d)})&&!(v.rest&&v.rest.match_symbol(d)),v.new=!1,g)return(x=l.args.slice()).unshift(u),(x=no(x,t,s,Dc))&&Xe(l,x.map(Zc));h.contains_this()||((l=b(ot,l)).expression=l.expression.clone(),l.args=l.args.slice())}}return l.call_only=!0,l}),X(Zr,function(t,s){for(var l=this,u=[],h=[],p=0,g=l.properties,v=0;v<g.length;v++){var x=g[v];if(x.key instanceof V&&u.push(x.key),Cc(x)){var E=x.value;if(E.has_side_effects(t)){if(E.contains_this())return l;x instanceof As?(p++,h.push(x)):h.push(E)}}}var w=l.extends;if(!w||(w=!wc(w=w instanceof K?w.fixed_value():w))||u.unshift(l.extends),u=no(u,t,s),h=no(h,t,s=u?!1:s),!u){if(!w&&!h&&!l.name)return null;u=[]}return w||l.name||!t.has_directive("use strict")?(s=Nu(l),w||(s.extends=null),s.properties=[],h?h.length==p?(u.length&&h.unshift(b(ls,l,{key:Xe(l,u),value:null})),s.properties=h):s.properties.push(b(ls,l,{static:!0,key:u.length?Xe(l,u):"c",value:T()})):u.length&&s.properties.push(b(xo,l,{key:Xe(l,u),value:b(Pn,l,{argnames:[],body:[]}).init_vars(s)})),s):(h&&u.push(b(ot,l,{expression:b(Bi,l,{argnames:[],body:[],value:T()}).init_vars(l.parent_scope),args:[]})),Xe(l,u));function T(){return Xe(l,h.map(function(k){var S;return k instanceof As?((S=b(Bi,k.value)).argnames=[],b(ot,k,{expression:S,args:[]})):k}))}}),X(lt,function(t){var s,l,u=this.consequent.drop_side_effect_free(t),h=this.alternative.drop_side_effect_free(t);return u===this.consequent&&h===this.alternative?this:(t.option("ie")&&(s=[],u instanceof Pn&&(s.push(u),u=null),h instanceof Pn)&&(s.push(h),h=null),u?h?((l=this.clone()).consequent=u,l.alternative=h):l=b(he,this,{operator:"&&",left:this.condition,right:u}):l=h?b(he,this,{operator:"||",left:this.condition,right:h}):this.condition.drop_side_effect_free(t),s?(l&&s.push(l),s.length==0?null:Xe(this,s)):l)}),X(nn,y),X(Lt,function(t,s){var l=this.expression;return l.may_throw_on_access(t)?this:l.drop_side_effect_free(t,s)}),X(Pn,function(t){return hm(this,t)?null:this}),X(bn,y),X(tn,function(u,s){var l=[],u=(this.properties.forEach(function(h){h instanceof Qt?l.push(h):(h.key instanceof V&&l.push(h.key),l.push(h.value))}),no(l,u,s,function(h,p,g){var v=h.expression;return v.safe_to_spread()?v.drop_side_effect_free(p,g):h}));return u?u!==l||le(u,function(h){return!(h instanceof Qt)})?Xe(this,u.map(function(h){return h instanceof Qt?b(tn,h,{properties:[h]}):h})):this:null}),X(Hi,y),X(Ke,function(t,s){var l,u,h,p=no(this.expressions,t,s);return p?(l=p[h=p.length-1],t.option("awaits")&&0<h&&l instanceof pn&&l.expression.is_constant()&&(u=(p=p.slice(0,-1))[--h],l.expression=bi(t,u)?u:u.negate(t),p[h]=l),t.option("conditionals")&&0<h&&(u=p[h-1])instanceof Ye&&u.operator=="="&&(h=u.left)instanceof K&&(h=eh(t,h.definition(),u.right,l))&&((u=u.clone()).right=h,(p=p.slice(0,-2)).push(u.drop_side_effect_free(t,s))),p===this.expressions?this:Xe(this,p)):null}),X(Kt,function(t,s){var l,u=this.expression;return u.may_throw_on_access(t)?this:(l=this.property,(u=u.drop_side_effect_free(t,s))?(l=l.drop_side_effect_free(t))?Xe(this,[u,l]):u:l.drop_side_effect_free(t,s))}),X(K,function(t){return this.is_declared(t)&&ar(this,t)?null:this}),X(Dn,function(t,s){var l,u=this;return u.is_expr_pure(t)?(l=u.expressions).length==0?null:Xe(u,l).drop_side_effect_free(t,s):((s=Ac(t,l=u.tag))&&((u=u.clone()).tag=s,l._squeezed)&&(u.tag._squeezed=!0),u)}),X(en,function(t,s){var l,u=this.expression;return Po[this.operator]?(this.write_only=!u.has_side_effects(t),this):this.operator=="typeof"&&u instanceof K&&ar(u,t)?null:(l=u.drop_side_effect_free(t,s),s&&l&&Uu(l)?l===u&&this.operator=="!"?this:l.negate(t,s):l)}),Ie(Re,function(t,s){if(s.option("side_effects")){var l=t.body,s=l.drop_side_effect_free(s,!0);if(!s)return V.warn("Dropping side-effect-free statement [{start}]",t),b(_t,t);if(s!==l)return b(Re,t,{body:s})}return t}),Ie(Ns,function(t,s){return s.option("loops")?b(Tn,t).optimize(s):t}),Ie(os,function(t,s){if(!s.option("loops"))return t;var l=Kr(s,t.condition);if(!(l instanceof V)){if(l&&!ul(t,s.parent(),Ds))return b(Tn,t,{body:b(Be,t.body,{body:[t.body,b(Re,t.condition,{body:t.condition})]})}).optimize(s);if(!ul(t,s.parent()))return b(Be,t.body,{body:[t.body,b(Re,t.condition,{body:t.condition})]}).optimize(s)}if(t.body instanceof Be&&!ul(t,s.parent(),Ds)){for(var u=t.body.body,h=u.length;0<=--h;){var p=u[h];if(p instanceof Zt&&!p.alternative&&p.body instanceof rr&&s.loopcontrol_target(p.body)===t){if(g(p.condition))break;t.condition=b(he,t,{operator:"&&",left:p.condition.negate(s),right:t.condition}),u.splice(h,1)}else if(p instanceof Re){if(g(p.body))break;t.condition=Xe(t,[p.body,t.condition]),u.splice(h,1)}else if(!to(p,!0))break}t.body=Bu(t.body,s.parent())}return t.body instanceof _t?b(Tn,t).optimize(s):t.body instanceof Re?b(Tn,t,{condition:Xe(t.condition,[t.body.body,t.condition]),body:b(_t,t)}).optimize(s):t;function g(v){var x=!1;return v.walk(new rt(function(E){return!!x||(E instanceof K?(n(E.definition(),t.enclosed)||(x=!0),!0):void 0)})),x}}),Ie(Tn,function(t,s){if(!s.option("loops"))return t;if(s.option("side_effects")&&(t.init&&(t.init=t.init.drop_side_effect_free(s)),t.step)&&(t.step=t.step.drop_side_effect_free(s)),t.condition){var l=Kr(s,t.condition);if(l)l instanceof V||(t.body=b(Be,t.body,{body:[b(Re,t.condition,{body:t.condition}),t.body]}),t.condition=null);else if(s.option("dead_code"))return l=[],on(t.init)?l.push(t.init):t.init&&l.push(b(Re,t.init,{body:t.init})),l.push(b(Re,t.condition,{body:t.condition})),js(s,t.body,l),b(Be,t,{body:l}).optimize(s)}return function u(h,p){var g=E(h.body);if(p.option("dead_code")&&(g instanceof rr||g instanceof Ds&&w(g)||g instanceof Ln))return v=[],on(h.init)?v.push(h.init):h.init&&v.push(b(Re,h.init,{body:h.init})),x=w(g)||g instanceof Ln,h.condition&&x?v.push(b(Zt,h,{condition:h.condition,body:g,alternative:null})):h.condition?v.push(b(Re,h.condition,{body:h.condition})):x&&v.push(g),js(p,h.body,v),b(Be,h,{body:v});if(g instanceof Zt){var v,x=E(g.body);if(x instanceof rr&&!w(x))return h.condition?h.condition=b(he,h.condition,{left:h.condition,operator:"&&",right:g.condition.negate(p)}):h.condition=g.condition.negate(p),v=cl(g.alternative),js(p,g.body,v),T(v);if((x=E(g.alternative))instanceof rr&&!w(x))return h.condition?h.condition=b(he,h.condition,{left:h.condition,operator:"&&",right:g.condition}):h.condition=g.condition,v=cl(g.body),js(p,g.alternative,v),T(v)}return h;function E(k){return k instanceof Be?k.body[0]:k}function w(k){return p.loopcontrol_target(k)!==p.self()}function T(k){return h.body instanceof Be?(h.body=h.body.clone(),h.body.body=k.concat(h.body.body.slice(1)),h.body=h.body.transform(p)):h.body=b(Be,h.body,{body:k}).transform(p),u(h,p)}}(t,s)}),Ie(Vn,function(t,s){var l;return s.option("varify")&&ll(t.init)&&((l=t.init.definitions[0].name)instanceof Tt||l instanceof Fr)&&!l.match_symbol(function(u){if(u instanceof hn)return!ba(u=u.definition())||dm(s,u)},!0)&&(t.init=pm(t.init,t.resolve())),t}),Ie(Zt,function(t,s){if(eo(t.alternative)&&(t.alternative=null),s.option("conditionals")){if(s.option("booleans")&&!t.condition.has_side_effects(s)&&Gu(s,t.condition),s.option("dead_code")){var l=Kr(s,t.condition);if(!l)return V.warn("Condition always false [{start}]",t.condition),D=[b(Re,t.condition,{body:t.condition}).transform(s)],js(s,t.body,D),t.alternative&&D.push(t.alternative),b(Be,t,{body:D}).optimize(s);if(!(l instanceof V))return V.warn("Condition always true [{start}]",t.condition),D=[b(Re,t.condition,{body:t.condition}).transform(s),t.body],t.alternative&&js(s,t.alternative,D),b(Be,t,{body:D}).optimize(s)}var l=t.condition.negate(s),u=t.condition.print_to_string().length,h=l.print_to_string().length,p=h<u,g=(t.alternative&&p&&(p=!1,t.condition=l,g=t.body,t.body=t.alternative,t.alternative=eo(g)?null:g),[]),v=[],x=[],E=I(t.body,g,v,x),w=[],T=[],k=[],S=I(t.alternative,w,T,k);if(E instanceof Be||S instanceof Be){var D=[],Z=[];if(E&&([].push.apply(D,g),[].push.apply(Z,v),E instanceof Be?t.body=E:E.length==0?t.body=b(_t,t.body):t.body=b(Re,t.body,{body:Xe(t.body,E)}),x.forEach($c)),S&&([].push.apply(D,w),[].push.apply(Z,T),S instanceof Be?t.alternative=S:S.length==0?t.alternative=null:t.alternative=b(Re,t.alternative,{body:Xe(t.alternative,S)}),k.forEach($c)),0<Z.length&&D.push(b(un,t,{definitions:Z})),0<D.length)return D.push(t.transform(s)),b(Be,t,{body:D}).optimize(s)}else if(E&&S)return D=g.concat(w),(0<v.length||0<T.length)&&D.push(b(un,t,{definitions:v.concat(T)})),E.length==0?D.push(b(Re,t.condition,{body:0<S.length?b(he,t,{operator:"||",left:t.condition,right:Xe(t.alternative,S)}).transform(s):t.condition.clone()}).optimize(s)):S.length==0?(u===h&&!p&&t.condition instanceof he&&t.condition.operator=="||"&&(p=!0),D.push(b(Re,t,{body:b(he,t,{operator:p?"||":"&&",left:p?l:t.condition,right:Xe(t.body,E)}).transform(s)}).optimize(s))):D.push(b(Re,t,{body:b(lt,t,{condition:t.condition,consequent:Xe(t.body,E),alternative:Xe(t.alternative,S)})}).optimize(s)),x.forEach($c),k.forEach($c),b(Be,t,{body:D}).optimize(s);if((t=eo(t.body)?b(Zt,t,{condition:l,body:t.alternative,alternative:null}):t).alternative instanceof Ln&&t.body.TYPE==t.alternative.TYPE){if(Z=t.body.value,g=t.alternative.value,!Z&&!g)return b(Be,t,{body:[b(Re,t,{body:t.condition}),t.body]}).optimize(s);if(Z&&g||!function(){var A=!1,ce=0,ke=s.self();do if(ke instanceof Ni)s.parent(ce).bfinally&&(A=!0),ce++;else if(ke instanceof Gs)ce++;else{if(ke instanceof nt)return A&&Eo(ke);ke instanceof ni&&ke.bfinally&&(A=!0)}while(ke=s.parent(ce++))}())return(w=b(t.body.CTOR,t,{value:b(lt,t,{condition:t.condition,consequent:Z||b(an,t.body).transform(s),alternative:g||b(an,t.alternative).transform(s)})}))instanceof Nt&&(w.in_bool=t.body.in_bool||t.alternative.in_bool),w}if(cr((t=t.body instanceof Zt&&!t.body.alternative&&!t.alternative?b(Zt,t,{condition:b(he,t.condition,{operator:"&&",left:t.condition,right:t.body.condition}),body:t.body.body,alternative:null}):t).body)&&t.alternative)return v=t.alternative,t.alternative=null,b(Be,t,{body:[t,v]}).optimize(s);if(cr(t.alternative))return D=t.body,t.body=t.alternative,t.condition=p?l:t.condition.negate(s),t.alternative=null,b(Be,t,{body:[t,D]}).optimize(s);if(t.alternative){for(var G=Y(t.body),pe=U(G),ne=Y(t.alternative),ie=U(ne),Ce=[];0<=pe&&0<=ie;){var R=G[pe],q=ne[ie];if(R.equals(q))G.splice(pe--,1),ne.splice(ie--,1),Ce.unshift(Hr(R,q));else{if(!(R instanceof Re)||!(q instanceof Re))break;var se=R.body.tail_node(),j=q.body.tail_node();if(!se.equals(j))break;pe=de(G,R.body,pe),ie=de(ne,q.body,ie),Ce.unshift(b(Re,se,{body:Hr(se,j)}))}}if(0<Ce.length)return t.body=0<G.length?b(Be,t,{body:G}):b(_t,t),t.alternative=0<ne.length?b(Be,t,{body:ne}):null,Ce.unshift(t),b(Be,t,{body:Ce}).optimize(s)}s.option("typeofs")&&ps(t.condition,t.body,t.alternative)}return t;function Y(A){return A instanceof Be?A.body:[A]}function U(A){for(var ce=A.length;0<=--ce&&to(A[ce],!0););return ce}function de(A,ce,ke){return ce instanceof Ke?A[ke]=b(Re,ce,{body:Xe(ce,ce.expressions.slice(0,-1))}):A.splice(ke--,1),ke}function I(A,ce,ke,Qe){if(A==null)return[];if(A instanceof Be){for(var Se=[],oe=0;oe<A.body.length;oe++){var Te=A.body[oe];if(!(Te instanceof _t)){if(Te instanceof Ln){if(oe==0)return;0<Se.length&&(Te=Te.clone(),Se.push(Te.value||b(an,Te).transform(s)),Te.value=Xe(A,Se));var tt=A.clone();return tt.body=tt.body.slice(oe+1),tt.body.unshift(Te),tt}if(Te instanceof dn)ce.push(Te);else if(Te instanceof Re){if(!s.option("sequences")&&0<Se.length)return;Se.push(Te.body)}else{if(!(Te instanceof un)||!s.option("sequences")&&0<Se.length)return;Te.remove_initializers(s,ke),Te.definitions.forEach(St)}}}return Se}return A instanceof dn?(ce.push(A),[]):A instanceof _t?[]:A instanceof Re?[A.body]:A instanceof un?(Se=[],A.remove_initializers(s,ke),A.definitions.forEach(St),Se):void 0;function St(At){At.value&&Se.push(b(Ye,At,{operator:"=",left:At.name.convert_symbol(K,function(Ue){Qe.push(Ue)}),right:At.value}))}}}),Ie(Oi,function(t,s){if(s.option("switches")&&s.option("dead_code")){for(var l,u,h,p=[],g=[],v=[],x=0,E=t.body.length;x<E;x++){if((l=t.body[x])instanceof cs){var w=p[p.length-1];if(u||Ce(l.body[0],s)&&(!w||cr(w))){q(l,w);continue}u=l}else{var T=l.expression,k=b(he,t,{operator:"===",left:t.expression,right:T}).evaluate(s,!0);if(!k){T.has_side_effects(s)&&v.push(T),q(l,p[p.length-1]);continue}if(!(k instanceof V))for(u&&(k=p.indexOf(u),p.splice(k,1),q(u,p[k-1]),u=null),T.has_side_effects(s)?h=l:u=l=b(cs,l);++x<E;)q(t.body[x],l)}if(E<=x+1||cr(l)){var S,w=p[p.length-1],D=l.body;if(cr(w))switch(w.body.length-D.length){case 1:if(!Ce(S=w.body[w.body.length-1],s))break;D=D.concat(S);case 0:var Z=b(Be,w),G=b(Be,l,{body:D});Z.equals(G)&&(w.body=[])}}v.length&&(l instanceof cs?p.push(b(sr,t,{expression:Xe(t,v),body:[]})):(v.push(l.expression),l.expression=Xe(t,v)),v=[]),p.push(l)}for(v.length&&!h&&p.push(b(sr,t,{expression:Xe(t,v),body:[]}));l=p[p.length-1];){if(Ce(S=l.body[l.body.length-1],s)&&l.body.pop(),l===u){if(!da(l))break}else{if(l.expression.has_side_effects(s))break;if(u){if(!da(u)||p[p.length-2]!==u)break;u.body=u.body.concat(l.body),l.body=[]}else if(!da(l))break}q(l),p.pop()===u&&(u=null)}if(!l)return g.push(b(Re,t.expression,{body:t.expression})),v.length&&g.push(b(Re,t,{body:Xe(t,v)})),b(Be,t,{body:g}).optimize(s);if(l===u)for(;(l=p[p.length-2])&&!(l instanceof cs)&&da(l);){if((T=l.expression).has_side_effects(s)){if((w=p[p.length-3])&&!cr(w))break;u.body.unshift(b(Re,t,{body:T}))}q(l),p.splice(-2,1)}if(p[0].body=g.concat(p[0].body),t.body=p,s.option("conditionals"))switch(p.length){case 1:if(R(p[0]))return T=p[0].expression,D=p[0].body.slice(),(p[0]!==u&&p[0]!==h?b(Zt,t,{condition:b(he,t,{operator:"===",left:t.expression,right:T}),body:b(Be,t,{body:D}),alternative:null}):(T&&D.unshift(b(Re,T,{body:T})),D.unshift(b(Re,t.expression,{body:t.expression})),b(Be,t,{body:D}))).optimize(s);break;case 2:if(n(u,p)&&R(p[1])){var pe,ne,ie=(D=p[0].body.slice()).length&&Ce(D[D.length-1],s);if(ie&&D.pop(),le(D,R))return pe=p[1].body.length&&b(Be,p[1]),ne=b(Zt,t,{condition:b(he,t,p[0]===u?{operator:"!==",left:t.expression,right:p[1].expression}:{operator:"===",left:t.expression,right:p[0].expression}),body:b(Be,p[0],{body:D}),alternative:ie&&pe||null}),(ne=!ie&&pe?b(Be,t,{body:[ne,pe]}):ne).optimize(s)}}}return t;function Ce(se,j){return se instanceof rr&&j.loopcontrol_target(se)===t}function R(se){var j=!1,Y=new rt(function(U){if(j||U instanceof ht||U instanceof Re)return!0;Ce(U,Y)&&(j=!0)});return Y.push(t),se.walk(Y),!j}function q(se,j){j&&!cr(j)?j.body=j.body.concat(se.body):js(s,se,g)}}),Ie(ni,function(t,s){if(t.body=Do(t.body,s),s.option("dead_code")){if(da(t)&&!(t.bcatch&&t.bcatch.argname&&t.bcatch.argname.match_symbol(function(u){return u instanceof Gi&&!ar(u)},!0)))return l=[],t.bcatch&&(js(s,t.bcatch,l),l.forEach(function(u){u instanceof un&&u.definitions.forEach(function(h){var p=h.name.definition().redefined();p&&(h.name=h.name.clone(),h.name.thedef=p)})})),l.unshift(b(Be,t).optimize(s)),t.bfinally&&l.push(b(Be,t.bfinally).optimize(s)),b(Be,t,{body:l}).optimize(s);if(t.bfinally&&da(t.bfinally)){var l=b(Be,t.bfinally).optimize(s);if(l=t.body.concat(l),!t.bcatch)return b(Be,t,{body:l}).optimize(s);t.body=l,t.bfinally=null}}return t}),Lr.DEFMETHOD("remove_initializers",Hu(function(t,s){return b(an,s).optimize(t)})),yr.DEFMETHOD("remove_initializers",Hu(y)),un.DEFMETHOD("remove_initializers",Hu(y)),fn.DEFMETHOD("to_assignments",function(){var t=this.definitions.reduce(function(s,l){var u,h,p,g=l.name.definition(),v=l.value;return v&&(v instanceof Ke&&(v=v.clone()),u=b(K,l.name),h=b(Ye,l,{operator:"=",left:u,right:v}),s.push(h),(p=function(){return h.right}).assigns=[h],p.direct_access=g.direct_access,p.escaped=g.escaped,u.fixed=p,g.references.forEach(function(x){var E;x.fixed&&(E=x.fixed.assigns)&&E[0]===l&&(1<E.length||x.fixed.to_binary||x.fixed.to_prefix?E[0]=h:(x.fixed=p,g.fixed===x.fixed&&(g.fixed=p)))}),g.references.push(u)),g.assignments++,g.eliminated++,g.single_use=!1,s},[]);return t.length==0?null:Xe(this,t)}),Ie(Lr,gm),Ie(yr,gm),Ie(ot,function(t,s){var l=t.expression,G=Ju(t,s);if(G)return G;if(s.option("sequences")){if(l instanceof at){if((ne=qs(l))!==l)return(ie=t.clone()).expression=ne.expressions.pop(),ne.expressions.push(ie),ne.optimize(s)}else if(!Wu(l.tail_node())&&(ne=qs(t))!==t)return ne.optimize(s)}if(s.option("unused")&&Ku(t,s),s.option("unsafe")){if(Hn(l))switch(l.name){case"Array":if(t.args.length==1){if((E=t.args[0])instanceof dt)try{var u=E.value;if(6<u)break;for(var h=Array(u),p=0;p<u;p++)h[p]=b(Bn,t);return b(yt,t,{elements:h})}catch{V.warn("Invalid array length: {length} [{start}]",{length:u,start:t.start});break}if(!E.is_boolean(s)&&!E.is_string(s))break}return b(yt,t,{elements:t.args});case"Object":if(t.args.length==0)return b(tn,t,{properties:[]});break;case"String":if(t.args.length==0)return b(wt,t,{value:""});if(t.args.length==1)return b(he,t,{operator:"+",left:b(wt,t,{value:""}),right:t.args[0]}).optimize(s);break;case"Number":if(t.args.length==0)return b(dt,t,{value:0});if(t.args.length==1)return b(Ve,t,{operator:"+",expression:b(he,t,{operator:"+",left:b(wt,t,{value:""}),right:t.args[0]})}).optimize(s);break;case"Boolean":if(t.args.length==0)return b(Gr,t).optimize(s);if(t.args.length==1)return b(Ve,t,{operator:"!",expression:b(Ve,t,{operator:"!",expression:t.args[0]})}).optimize(s);break;case"RegExp":var g=[];if(le(t.args,function(B){var F=B.evaluate(s);return g.unshift(F),B!==F}))try{return ma(s,t,b(Ji,t,{value:RegExp.apply(RegExp,g)}))}catch{V.warn("Error converting {this} [{start}]",t)}}else if(l instanceof Lt)switch(l.property){case"toString":var v=l.expression;if(t.args.length!=0||v.may_throw_on_access(s)||v instanceof ko)break;return b(he,t,{operator:"+",left:b(wt,t,{value:""}),right:v}).optimize(s);case"join":if(l.expression instanceof yt&&t.args.length<2)e:{var x=t.args[0];if(l.expression.elements.length==0&&!(x instanceof Qt))return x?Xe(t,[x,b(wt,t,{value:""})]).optimize(s):b(wt,t,{value:""});if(!(x&&(x=x.evaluate(s))instanceof V)){for(var E,h=[],w=[],p=0;p<l.expression.elements.length;p++){var T=l.expression.elements[p];if((Y=T.evaluate(s))!==T)w.push(Y);else{if(T instanceof Qt)break e;0<w.length&&(h.push(b(wt,t,{value:w.join(x)})),w.length=0),h.push(T)}}return 0<w.length&&h.push(b(wt,t,{value:w.join(x)})),h.length==1?h[0].is_string(s)?h[0]:b(he,h[0],{operator:"+",left:b(wt,t,{value:""}),right:h[0]}):x==""?(E=h[0].is_string(s)||h[1].is_string(s)?h.shift():b(wt,t,{value:""}),h.reduce(function(B,F){return b(he,F,{operator:"+",left:B,right:F})},E).optimize(s)):((tt=t.clone()).expression=tt.expression.clone(),tt.expression.expression=tt.expression.expression.clone(),tt.expression.expression.elements=h,ma(s,t,tt))}}break;case"charAt":if(t.args.length<2)return(tt=b(he,t,{operator:"||",left:b(Kt,t,{expression:l.expression,property:t.args.length?b(he,t.args[0],{operator:"|",left:b(dt,t,{value:0}),right:t.args[0]}):b(dt,t,{value:0})}).optimize(s),right:b(wt,t,{value:""})})).is_string=m,tt.optimize(s);break;case"apply":if(t.args.length==2&&t.args[1]instanceof yt)return(Se=t.args[1].elements.slice()).unshift(t.args[0]),b(ot,t,{expression:b(Lt,l,{expression:l.expression,property:"call"}),args:Se}).optimize(s);break;case"call":if(v=l.expression,(v=v instanceof K?v.fixed_value():v)instanceof ht&&!v.contains_this())return(t.args.length?Xe(t,[t.args[0],b(ot,t,{expression:l.expression,args:t.args.slice(1)})]):b(ot,t,{expression:l.expression,args:[]})).optimize(s)}else if(s.option("side_effects")&&l instanceof ot&&l.args.length==1&&Hn(l.expression)&&l.expression.name=="Object")return(ie=t.clone()).expression=lr(t,l,l.args[0]),ie.optimize(s)}if(s.option("unsafe_Function")&&Hn(l)&&l.name=="Function"){if(t.args.length==0)return b(Pn,t,{argnames:[],body:[]}).init_vars(l.scope);if(le(t.args,function(B){return B instanceof wt}))try{var k,S=la(D="n(function("+t.args.slice(0,-1).map(function(ee){return ee.value}).join()+"){"+t.args[t.args.length-1].value+"})"),j={ie:s.option("ie")},se=(S.figure_out_scope(j),new To(s.options)),D=((S=S.transform(se)).figure_out_scope(j),S.compute_char_frequency(j),S.mangle_names(j),S.walk(new rt(function(ee){return!!k||(ee instanceof ht?(k=ee,!0):void 0)})),zc());return Be.prototype._codegen.call(k,D),t.args=[b(wt,t,{value:k.argnames.map(function(ee){return ee.print_to_string()}).join()}),b(wt,t.args[t.args.length-1],{value:D.get().replace(/^\{|\}$/g,"")})],t}catch(B){if(!(B instanceof tl))throw B;V.warn("Error parsing code passed to new Function [{start}]",t.args[t.args.length-1]),V.warn(B.toString())}}var Z=l instanceof K?l.fixed_value():l,G=s.parent(),pe=s.self(),ne=Z instanceof ht&&(!mi(Z)||s.option("awaits")&&G instanceof pn)&&(!Li(Z)||s.option("yields")&&pe instanceof yi&&pe.nested),ie=ne&&Z.first_statement(),Ce=0,R=!1,q=!le(t.args,function(B){return!(B instanceof Qt)}),se=ne&&le(Z.argnames,function(B,F){if(Ce==1&&t.args[F]instanceof Qt&&(Ce=2),B instanceof Ct){if(Di((Ce=Ce||1)==1&&t.args[F])||(Ce=2),wa(Z,B.value))return;B=B.name}return!(B instanceof Tt&&(R=!0,wa(Z,B)))})&&!(Z.rest instanceof Tt&&wa(Z,Z.rest)),j=se&&s.option("inline")&&!t.is_expr_pure(s)&&(l===Z||Om(Z,s));if(j&&ie instanceof Nt){var Y=ie.value;if(l===Z&&!Z.name&&(!Y||Y.is_constant_expression())&&Mc(Z,va(s)))return Xe(t,Ue(Y)).optimize(s)}if(ne&&!Z.contains_this()){var U,de=!1;if(j&&!Z.uses_arguments&&!Z.pinned()&&!(Z.name&&Z instanceof bn)&&(l===Z||!pl(s,U=l.definition(),Z)&&Z.is_constant_expression(Ao(s)))&&(Y=function(B){var F=Z.body.length;if(F<2&&(B=Q(B)))return B;if(s.option("inline")<3)return!1;B=null;for(var ee=0;ee<F;ee++){var ve=Z.body[ee];if(ve instanceof un){if(de){if(B){if(!(B instanceof Re))return!1;Ws(ve)||(B=null)}}else if(!Ws(ve)){if(B&&!(B instanceof Re))return!1;de=!(B=null)}}else if(!(ve instanceof as||ve instanceof Yi||ve instanceof _t)){if(B)return!1;B=ve}}return Q(B)}(ie))){var I,A,ce,ke,Qe=l===Z||U.single_use&&U.references.length-U.replaced==1;if(function(){if(!(Ce||R||q||de||Z.rest)&&!(s.option("inline")<2&&Z.argnames.length)&&Z.variables.all(function(te){return te.references.length-te.replaced<2&&te.orig[0]instanceof $t})){var B,F=s.find_parent(nt),ee=!1,ve=va(s,F),ue=[],De=!1,ze=new rt(function(te,Me){var qe;return!!ee||(te instanceof he&&gn[te.operator]||te instanceof lt?void(ue=null):te instanceof nt||ve&&te instanceof Xn&&ve[te.name]?ee=!0:te instanceof K?(qe=te.definition(),Z.variables.get(te.name)!==qe?void(ue=null):qe.init instanceof dn||Wi(te,ze.parent())?ee=!0:(qe=L(qe),B<qe||(B=qe),ue?void(De?ue=null:ue.push(Z.argnames[qe])):void 0)):De?void 0:te instanceof Ye&&te.left instanceof at?(te.left.expression.walk(ze),te.left instanceof Kt&&te.left.property.walk(ze),te.right.walk(ze),De=!0):te.has_side_effects(s)?(Me(),De=!0):void 0)});if(Y.walk(ze),!ee){var _e=t.args.length;if(ue&&Z.argnames.length>=_e){for(_e=Z.argnames.length;_e-- >B&&Z.argnames[_e]===ue.pop(););_e++}return _e<=B||le(t.args.slice(B,_e),De&&!ue?function(te){return te.is_constant_expression(F)}:function(te){return!te.has_side_effects(s)})}}}()){var Se=t.args.slice(),oe=[],S=Y.clone(!0).transform(new Gn(function(ee){if(ee instanceof K){var ve=ee.definition();if(Z.variables.get(ee.name)!==ve)return oe.push(ee),ee;var ve=L(ve),ue=Se[ve];return ue?(Se[ve]=null,ve=this.parent(),ve?lr(ve,ee,ue):ue):b(an,t)}})),D=Z.inlined,Te=(l!==Z&&(Z.inlined=!0),[]),tt=(Se.forEach(function(ee){ee&&((ee=ee.clone(!0)).walk(new rt(function(ve){ve instanceof K&&oe.push(ve)})),Te.push(ee))},[]),Te.push(S),Xe(t,Te).optimize(s));if(Z.inlined=D,tt=lr(G,pe,tt),Qe||Jr(tt,t)===tt)return oe.forEach(function(ee){ee.scope=l===Z?Z.parent_scope:l.scope,ee.reference(),ee=ee.definition(),Qe&&ee.replaced++,ee.single_use=!1}),tt;tt.has_side_effects(s)||(t.drop_side_effect_free=function(ee,ve){var ue=this.args.slice();return ue.unshift(this.expression),Xe(this,ue).drop_side_effect_free(ee,ve)})}if(Qe&&function(){var B,F=new we,ee=0;ke=pe;do if(ke.variables&&ke.variables.each(function(De){F.set(De.name,!0)}),B=ke,(ke=s.parent(ee++))instanceof ls){if(!ke.static)return}else ke instanceof bo?ce=[]:ke instanceof Tn?ke.init!==B&&(ce=[]):ke instanceof Vn&&ke.init!==B&&ke.object!==B&&(ce=[]);while(!(ke instanceof nt));if(!!(A=ke.body.indexOf(B)+1)&&!!Mc(Z,va(s,ke))){var ve=(l!==Z||Z.parent_scope.resolve()===ke)&&!ke.pinned();ke instanceof yn&&(s.toplevel.vars?F.set("arguments",!0):ve=!1),I=new we;var ue=s.option("inline");return function(De,ze){var _e=!1;return Z.each_argname(function(te){if(!_e&&!te.unused){if(!ze||Le(De,te.name))return _e=!0;I.set(te.name,!0),ce&&ce.push(te.definition())}}),!_e}(F,2<=ue&&ve)&&!(!function(De,ze){for(var _e=0;_e<Z.body.length;_e++){var te=Z.body[_e];if(te instanceof dn){var Me=te.name;if(!ze||I.has(Me.name)||Le(De,Me.name)||!le(te.enclosed,function(We){return We.scope===ke||We.scope===te||!De.has(We.name)}))return;ce&&ce.push(Me.definition())}else if(te instanceof un){if(!ze)return;for(var qe=te.definitions.length;0<=--qe;){if(Me=te.definitions[qe].name,Le(De,Me.name))return;ce&&ce.push(Me.definition())}}}return 1}(F,3<=ue&&ve)||ce&&ce.length!=0&&Wc(Z,ce))}}())return Z._squeezed=!0,l!==Z&&(Z.parent_scope=l.scope),tt=Xe(t,function(){var B=[],F=[];(1<Ce||R||q||Z.rest?function(ve,ue){function De(Me,_e){if(_e.unused)return At(_e);var te=_e.definition(),Me=(te.assignments++,te.references.push(Me),b(oi,_e));te.orig.push(Me),te.eliminated++,z(ve,ue,Me)}ue.push(b(Ye,t,{operator:"=",left:b(wn,t,{elements:Z.argnames.map(function(ze){return ze.unused?b(Bn,ze):ze.convert_symbol(K,De)}),rest:Z.rest&&Z.rest.convert_symbol(K,De)}),right:b(yt,t,{elements:t.args.slice()})}))}:function(ve,ue){for(var De=Z.argnames.length,ze=t.args.length;--ze>=De;)ue.push(t.args[ze]);var _e,te=[];for(ze=De;0<=--ze;){var Me,qe,We=Z.argnames[ze],vt=(_e=We instanceof Ct?(te.push(We),We.name):We,t.args[ze]);_e.unused||ke.var_names().has(_e.name)?vt&&ue.push(vt):(Me=b(oi,_e),(qe=_e.definition()).orig.push(Me),qe.eliminated++,_e.unused!==void 0?(z(ve,ue,Me),vt&&ue.push(vt)):(!vt&&We===_e&&(ce||_e.name=="arguments"&&!$n(Z)&&$n(ke))&&(vt=b(an,t)),z(ve,ue,Me,vt)))}for(ve.reverse(),ue.reverse(),ze=te.length;0<=--ze;){var st,mt=te[ze];mt.name.unused!==void 0?ue.push(mt.value):(st=b(K,mt.name),mt.name.definition().references.push(st),ue.push(b(Ye,mt,{operator:"=",left:st,right:mt.value})))}})(B,F);var ee=function(ve,ue){var De=[A,0],ze=[],_e=[],te=[],Me=[],qe=[];return Z.body.filter(ce?function(We){var vt,st;return!(We instanceof dn&&((st=(vt=b(oi,Uc(We.name))).definition()).fixed=!1,st.orig.push(vt),st.eliminated++,z(ve,_e,vt,Ec(We,!0)),1))}:function(We){var vt;return!(We instanceof dn&&(vt=We.name.definition(),ke.functions.set(vt.name,vt),ke.variables.set(vt.name,vt),ke.enclosed.push(vt),ke.var_names().set(vt.name,!0),De.push(We),1))}).forEach(function(We){if(We instanceof un)for(var vt=0;vt<We.definitions.length;vt++){var st=We.definitions[vt],mt=Uc(st.name),ut=st.value;ut&&0<qe.length&&(qe.push(ut),ut=Xe(st,qe),qe=[]),z(ze,te,mt,ut),!ce||I.has(mt.name)||mt.definition().orig.length==1&&Z.functions.has(mt.name)||Me.push(bm(s,mt))}else We instanceof Re&&qe.push(We.body)}),[].push.apply(ve,ze),[].push.apply(ue,Me),[].push.apply(ue,_e),[].push.apply(ue,te),De}(B,F);return F.push(Y),B.length&&ee.push(b(un,Z,{definitions:B})),[].splice.apply(ke.body,ee),Z.enclosed.forEach(function(ve){ke.var_names().has(ve.name)||(ke.enclosed.push(ve),ke.var_names().set(ve.name,!0))}),F}()).optimize(s),lr(G,pe,tt)}if(s.option("side_effects")&&se&&le(Z.body,eo)&&(Z===l?hm(Z,s):!Ce&&!R&&!Z.rest)&&(!$n(Z)||!Z.value)&&Mc(Z,va(s)))return Xe(t,Ue()).optimize(s)}if(s.option("drop_console")&&l instanceof at){for(var St=l.expression;St.expression;)St=St.expression;if(Hn(St)&&St.name=="console")return b(an,t).optimize(s)}return s.option("negate_iife")&&G instanceof Re&&Uu(pe)?t.negate(s,!0):ds(s,t);function At(B){return b(Kt,B,{expression:b(yt,B,{elements:[]}),property:b(dt,B,{value:0})})}function Ue(B){var F,ee,ve=t.args.slice(),ue=1<Ce||R||Z.rest;return(ue||q)&&(ve=[b(yt,t,{elements:ve})]),ue?(F=new Gn(function(De,ze){var _e,te,Me;return De instanceof Ct?b(Ct,De,{name:De.name.transform(F)||At(De),value:De.value}):De instanceof wn?(_e=[],De.elements.forEach(function(qe,We){(qe=qe.transform(F))&&(_e[We]=qe)}),fl(De,_e),b(wn,De,{elements:_e})):De instanceof si?(te=[],Me=[],De.properties.forEach(function(qe){var We=qe.key,vt=qe.value.transform(F);vt?(Me.length&&(We instanceof V||(We=hs(We,qe)),Me.push(We),We=Xe(De,Me),Me=[]),te.push(b(An,qe,{key:We,value:vt}))):We instanceof V&&Me.push(We)}),Me.length&&te.push(b(An,De,{key:Xe(De,Me),value:At(De)})),b(si,De,{properties:te})):De instanceof $t?null:void 0}),ee=[],Z.argnames.forEach(function(De,ze){(De=De.transform(F))&&(ee[ze]=De)}),(ue=Z.rest&&Z.rest.transform(F))&&(ee.length=Z.argnames.length),fl(Z,ee),ve[0]=b(Ye,t,{operator:"=",left:b(wn,Z,{elements:ee,rest:ue}),right:ve[0]})):Z.argnames.forEach(function(De){De instanceof Ct&&ve.push(De.value)}),ve.push(B||b(an,t)),ve}function It(){return t.call_only?b(dt,t,{value:0}):b(an,t)}function Q(B){return B?B instanceof Nt?B.value||It():B instanceof Re?t.call_only?B.body:b(Ve,B,{operator:"void",expression:B.body}):void 0:It()}function L(B){for(var F=Z.argnames.length;0<=--F;)if(Z.argnames[F].definition()===B)return F}function Le(B,F){return B.has(F)||Tu[F]||ke.var_names().has(F)}function z(B,F,ee,ve){var ue=ee.definition();ke.var_names().has(ee.name)||(ke.var_names().set(ee.name,!0),B.push(b(Wt,ee,{name:ee,value:null}))),ke.variables.set(ee.name,ue),ke.enclosed.push(ue),ve&&(B=b(K,ee),ue.assignments++,ue.references.push(B),F.push(b(Ye,t,{operator:"=",left:B,right:ve})))}}),Ie(Si,function(t,s){if(s.option("unsafe")){var l=t.expression;if(Hn(l))switch(l.name){case"Array":case"Error":case"Function":case"Object":case"RegExp":return b(ot,t).transform(s)}}return s.option("sequences")&&(l=qs(t),l!==t)?l.optimize(s):(s.option("unused")&&Ku(t,s),t)}),Ie(Ke,function(t,s){for(var l,u,h,p=s.option("side_effects")?(l=[],u=it(s),h=t.expressions.length-1,t.expressions.forEach(function(S,D){(S=D<h?S.drop_side_effect_free(s,u):S)&&(ju(l,S),u=!1)}),l):t.expressions,g=p.length-1,v=1;v<g;v++){var x=p[v-1],E=k(x);if(E){var w=p[v];if(s.option("conditionals")){var T=eh(s,E,x.right,w);if(T){x.right=T,p.splice(v--,1),g--;continue}}s.option("dead_code")&&k(w)===E&&w.right.is_constant_expression(E.scope.resolve())&&(p[--v]=x.right)}}if(s.option("side_effects")){for(;0<g&&Di(p[g],s);)g--;g<p.length-1&&(p[g]=b(Ve,t,{operator:"void",expression:p[g]}),p.length=g+1)}return g==0?(t=lr(s.parent(),s.self(),p[0]))instanceof Ke?t:t.optimize(s):(t.expressions=p,t);function k(S){return S instanceof Ye&&S.operator=="="&&S.left instanceof K&&S.left.definition()}}),Ie(Br,function(t,s){if(s.option("sequences")){var l=qs(t);if(l!==t)return l.optimize(s)}return ds(s,t)}),Ep=Ee("+ -"),Ap=Ee("* / %"),Ie(Ve,function(t,s){var l=t.operator,u=t.expression;if(s.option("sequences")&&function(){switch(l){case"delete":return!g(u.tail_node());case"typeof":return!Hn(u.tail_node());default:return 1}}()){var h=qs(t);if(h!==t)return h.optimize(s)}switch(l){case"+":if(!s.option("evaluate")||!u.is_number(s,!0))break;var p=s.parent();if(p instanceof Ve&&p.operator=="delete")break;return u;case"-":if((u=u instanceof fs?u.transform(s):u)instanceof dt||u instanceof fs)return t;break;case"!":if(s.option("booleans")){if(u.is_truthy())return Xe(t,[u,b(Gr,t)]).optimize(s);if(s.in_boolean_context()){if(u instanceof Ve&&u.operator=="!")return u.expression;u instanceof he&&(t=((p=it(s))?Tc:Jr)(t,u.negate(s,p)))}}break;case"delete":if(!s.option("evaluate")||g(u))break;return Xe(t,[u,b(us,t)]).optimize(s);case"typeof":if(!s.option("booleans")||!s.in_boolean_context())break;return V.warn("Boolean expression always true [{start}]",t),p=[b(us,t)],u instanceof K&&ar(u,s)||p.unshift(u),Xe(t,p).optimize(s);case"void":if(s.option("side_effects"))return(u=u.drop_side_effect_free(s))?(t.expression=u,t):b(an,t).optimize(s)}return s.option("evaluate")&&u instanceof he&&Ep[l]&&Ap[u.operator]&&(u.left.is_constant()||!u.right.has_side_effects(s))?b(he,t,{operator:u.operator,left:b(Ve,u.left,{operator:l,expression:u.left}),right:u.right}):ds(s,t);function g(v){return v instanceof fs||v instanceof sa||v instanceof Ka||v instanceof at||v instanceof K||v instanceof an}}),Ie(pn,function(t,s){if(s.option("awaits")){if(s.option("sequences")){var l=qs(t);if(l!==t)return l.optimize(s)}if(s.option("side_effects")){var u=t.expression;if(u instanceof pn||u instanceof Ve&&u.expression instanceof pn)return u.optimize(s);for(var h,p=0,g=t;h=s.parent(p++);g=h){if($n(h)){if(h.value===g)return u.optimize(s)}else if(h instanceof Nt){var v=!0;do if(g=h,(h=s.parent(p++))instanceof ni&&(h.bfinally||h.bcatch)!==g){v=!1;break}while(h&&!(h instanceof nt));if(v)return u.optimize(s)}else if(h instanceof Ke&&h.tail_node()===g)continue;break}}}return t}),Ie(yi,function(t,s){if(s.option("yields")){if(s.option("sequences")){var l=qs(t);if(l!==t)return l.optimize(s)}if(l=t.expression,t.nested&&l.TYPE=="Call"&&(l=l.clone().optimize(s),l.TYPE!="Call"))return l}return t}),he.DEFMETHOD("lift_sequences",function(t){if(this.left instanceof at)return this.left.expression instanceof Ke?(s=this.left.expression.expressions.slice(),(l=this.clone()).left=l.left.clone(),l.left.expression=s.pop(),s.push(l),Xe(this,s)):this;if(this.left instanceof Ke)return s=this.left.expressions.slice(),(l=this.clone()).left=s.pop(),s.push(l),Xe(this,s);if(this.right instanceof Ke){if(this.left.has_side_effects(t))return this;for(var s,l,u=this.operator=="="&&this.left instanceof K,h=(s=this.right.expressions).length-1,p=0;p<h&&(u||!s[p].has_side_effects(t));p++);if(p==h)return s=s.slice(),(l=this.clone()).right=s.pop(),s.push(l),Xe(this,s);if(0<p)return(l=this.clone()).right=Xe(this.right,s.slice(p)),(s=s.slice(0,p)).push(l),Xe(this,s)}return this}),Dp=Ee("indexOf lastIndexOf"),Zp=Ee("== === != !== * & | ^"),Ie(he,function(t,s){if(!Zp[t.operator]||!t.right.is_constant()||t.left.is_constant()||t.left instanceof he&&wr[t.left.operator]>=wr[t.operator]||j(),s.option("sequences")){var l=t.lift_sequences(s);if(l!==t)return l.optimize(s)}if(s.option("assignments")&&gn[t.operator]){var u,h=Xc(t.left,s),l=t.right;if(h instanceof K&&l instanceof Ye&&l.operator=="="&&h.equals(l.left))return h=h.clone(),u=b(Ye,t,{operator:"=",left:h,right:b(he,t,{operator:t.operator,left:t.left,right:l.right})}),h.fixed&&(h.fixed=function(){return u.right},h.fixed.assigns=[u]),(l=h.definition()).references.push(h),l.replaced++,u.optimize(s)}if(s.option("comparisons"))switch(t.operator){case"===":case"!==":if(Di(t.left,s)&&t.right.is_defined(s))return V.warn("Expression always defined [{start}]",t),Xe(t,[t.right,b(t.operator=="==="?Gr:us,t)]).optimize(s);var g=!0;(t.left.is_string(s)&&t.right.is_string(s)||t.left.is_number(s)&&t.right.is_number(s)||t.left.is_boolean(s)&&t.right.is_boolean(s)||dl(s,t.left)&&t.left.equals(t.right))&&(t.operator=t.operator.slice(0,2));case"==":case"!=":if(!g&&Di(t.left,s))t.left=b(Nr,t.left);else if(s.option("typeofs")&&t.left instanceof wt&&t.left.value=="undefined"&&t.right instanceof Ve&&t.right.operator=="typeof")((p=t.right.expression)instanceof K?!p.is_declared(s):p instanceof at&&s.option("ie"))||(t.right=p,t.left=b(an,t.left).optimize(s),t.operator.length==2&&(t.operator+="="));else if(t.left instanceof K&&t.right instanceof K&&t.left.definition()===t.right.definition()&&ya(t.left))return b(t.operator[0]=="="?us:Gr,t).optimize(s);break;case"&&":case"||":var p,g=t.left;if(g instanceof he&&g.operator==(t.operator=="&&"?"!==":"===")&&t.right instanceof he&&g.operator==t.right.operator&&(Di(g.left,s)&&t.right.left instanceof Nr||g.left instanceof Nr&&Di(t.right.left,s))){if((p=(p=g.right)instanceof Ye&&p.operator=="="?p.left:p).has_side_effects(s))break;if(p.equals(t.right.right))return g.operator=g.operator.slice(0,-1),g.left=b(Nr,t),g}}var v,x,E=!1,w=s.parent();if(s.option("booleans")){if(h=Xc(t.left,s),gn[t.operator]&&!h.has_side_effects(s)){if(h.equals(t.right))return lr(w,s.self(),t.left).optimize(s);Gu(s,h)}E=s.in_boolean_context()}if(E)switch(t.operator){case"+":var T=t.left.evaluate(s,!0);if(T&&typeof T=="string"||(T=t.right.evaluate(s,!0))&&typeof T=="string"){if(V.warn("+ in boolean context always true [{start}]",t),T=[],t.left.evaluate(s)instanceof V&&T.push(t.left),t.right.evaluate(s)instanceof V&&T.push(t.right),T.length<2)return T.push(b(us,t)),Xe(t,T).optimize(s);t.truthy=!0}break;case"==":if(t.left instanceof wt&&t.left.value==""&&t.right.is_string(s))return b(Ve,t,{operator:"!",expression:t.right}).optimize(s);break;case"!=":if(t.left instanceof wt&&t.left.value==""&&t.right.is_string(s))return t.right.optimize(s)}if(s.option("comparisons")&&t.is_boolean(s)){if(w.TYPE!="Binary"&&(l=b(Ve,t,{operator:"!",expression:t.negate(s)}),ma(s,t,l)===l))return l;switch(t.operator){case">":j("<");break;case">=":j("<=")}}if(s.option("conditionals")&&gn[t.operator]&&(t.left instanceof he&&t.operator==t.left.operator&&(v=(l=b(he,t,{operator:t.operator,left:t.left.right,right:t.right})).transform(s),l!==v)&&(t.left=t.left.left,t.right=v),(k=t.right.tail_node())instanceof he)&&t.operator==k.operator&&Rc(t,s),s.option("strings")&&t.operator=="+"){if(t.right instanceof wt&&t.right.value==""&&t.left.is_string(s))return t.left.optimize(s);if(t.left instanceof wt&&t.left.value==""&&t.right.is_string(s))return t.right.optimize(s);if(t.left instanceof he&&t.left.operator=="+"&&t.left.left instanceof wt&&t.left.left.value==""&&t.right.is_string(s)&&(t.left.right.is_constant()||!t.right.has_side_effects(s)))return t.left=t.left.right,t.optimize(s);(k=t.right.tail_node())instanceof he&&t.operator==k.operator&&(t.left.is_string(s)&&k.is_string(s)||k.left.is_string(s)&&(t.left.is_constant()||!k.right.has_side_effects(s)))&&Rc(t,s)}if(s.option("evaluate")){var k,S=!0;switch(t.operator){case"&&":if(!(G=Kr(s,t.left)))return V.warn("Condition left of && always false [{start}]",t),lr(w,s.self(),t.left).optimize(s);if(!(G instanceof V))return V.warn("Condition left of && always true [{start}]",t),Xe(t,[t.left,t.right]).optimize(s);if(t.right.evaluate(s,!0)){if((E||w.operator=="&&"&&w.left===s.self())&&!(t.right.evaluate(s)instanceof V))return V.warn("Dropping side-effect-free && [{start}]",t),t.left.optimize(s)}else{if(E&&!(t.right.evaluate(s)instanceof V))return V.warn("Boolean && always false [{start}]",t),Xe(t,[t.left,b(Gr,t)]).optimize(s);t.falsy=!0}if(t.left.operator=="||"&&!(Z=Kr(s,t.left.right)))return b(lt,t,{condition:t.left.left,consequent:t.right,alternative:t.left.right}).optimize(s);break;case"??":var D=!0;case"||":var Z,G=Kr(s,t.left,D);if(D?G==null:!G)return V.warn("Condition left of {operator} always {value} [{start}]",{operator:t.operator,value:D?"nullish":"false",start:t.start}),Xe(t,[t.left,t.right]).optimize(s);if(!(G instanceof V))return V.warn("Condition left of {operator} always {value} [{start}]",{operator:t.operator,value:D?"defined":"true",start:t.start}),lr(w,s.self(),t.left).optimize(s);if(D||!(G=t.right.evaluate(s,!0))||G instanceof V){if((E||w.operator=="||"&&w.left===s.self())&&!t.right.evaluate(s))return V.warn("Dropping side-effect-free {operator} [{start}]",t),t.left.optimize(s)}else{if(E&&!(t.right.evaluate(s)instanceof V))return V.warn("Boolean || always true [{start}]",t),Xe(t,[t.left,b(us,t)]).optimize(s);t.truthy=!0}if(!D&&t.left.operator=="&&"&&(Z=Kr(s,t.left.right))&&!(Z instanceof V))return b(lt,t,{condition:t.left.left,consequent:t.left.right,alternative:t.right}).optimize(s);break;case"+":if((t=(t=t.left instanceof nn&&t.right instanceof he&&t.right.operator=="+"&&t.right.left instanceof nn&&t.right.is_string(s)?b(he,t,{operator:"+",left:b(wt,t.left,{value:""+t.left.value+t.right.left.value,start:t.left.start,end:t.right.left.end}),right:t.right.right}):t).right instanceof nn&&t.left instanceof he&&t.left.operator=="+"&&t.left.right instanceof nn&&t.left.is_string(s)?b(he,t,{operator:"+",left:t.left.left,right:b(wt,t.right,{value:""+t.left.right.value+t.right.value,start:t.left.right.start,end:t.right.end})}):t).right instanceof Ve&&t.right.operator=="-"&&t.left.is_number(s)){t=b(he,t,{operator:"-",left:t.left,right:t.right.expression});break}if(t.left instanceof Ve&&t.left.operator=="-"&&se()&&t.right.is_number(s)){t=b(he,t,{operator:"-",left:t.right,right:t.left.expression});break}if(s.option("unsafe_math")&&t.left instanceof he&&wr[t.left.operator]==wr[t.operator]&&t.right.is_constant()&&(t.right.is_boolean(s)||t.right.is_number(s))&&t.left.is_number(s)&&!t.left.right.is_constant()&&(t.left.left.is_boolean(s)||t.left.left.is_number(s))){t=b(he,t,{operator:t.left.operator,left:b(he,t,{operator:t.operator,left:t.right,right:t.left.left}),right:t.left.right});break}case"-":if(t.right instanceof Ve&&t.right.operator=="-"&&t.left.is_number(s)&&t.right.expression.is_number(s)){t=b(he,t,{operator:"+",left:t.left,right:t.right.expression});break}case"*":case"/":S=s.option("unsafe_math"),t.operator!="+"&&["left","right"].forEach(function(Y){var U=t[Y];U instanceof Ve&&U.operator=="+"&&((U=U.expression).is_boolean(s)||U.is_number(s)||U.is_string(s))&&(t[Y]=U)});case"&":case"|":case"^":t.operator=="-"||t.operator=="/"||!t.left.is_boolean(s)&&!t.left.is_number(s)||!t.right.is_boolean(s)&&!t.right.is_number(s)||!se()||t.left instanceof he&&t.left.operator!=t.operator&&wr[t.left.operator]>=wr[t.operator]||(t=ma(s,t,b(he,t,{operator:t.operator,left:t.right,right:t.left}),t.right instanceof nn&&!(t.left instanceof nn))),S&&t.is_number(s)&&(!(t.right instanceof he&&t.right.operator!="%"&&wr[t.right.operator]==wr[t.operator]&&t.right.is_number(s)&&(t.operator!="+"||t.right.left.is_boolean(s)||t.right.left.is_number(s)))||t.operator=="-"&&t.left.is_negative_zero()||!t.right.left.is_constant_expression()&&t.right.right.has_side_effects(s)||(G=t.right.right,x=!1,G.walk(new rt(function(Y){if(x)return!0;if(Y instanceof Ye){if(Y.left instanceof at)return x=!0}else if(Y instanceof en&&Po[Y.operator]&&Y.expression instanceof at)return x=!0})),x)||(t=b(he,t,{operator:Ce(t.operator,t.right.operator),left:b(he,t.left,{operator:t.operator,left:t.left,right:t.right.left,start:t.left.start,end:t.right.left.end}),right:t.right.right})).operator!="+"||t.right.is_boolean(s)||t.right.is_number(s)||(t.right=b(Ve,t.right,{operator:"+",expression:t.right})),t.right instanceof nn)&&t.left instanceof he&&t.left.operator!="%"&&wr[t.left.operator]==wr[t.operator]&&t.left.is_number(s)&&(t.left.left instanceof nn?(h=R(t.operator,t.left.left,t.right,{start:t.left.left.start,end:t.right.end}),t=R(t.left.operator,ds(s,h),t.left.right,t)):t.left.right instanceof nn&&(D=Ce(t.left.operator,t.operator),!(k=ds(s,R(D,t.left.right,t.right,t.left))).is_constant()||t.left.operator=="-"&&t.right.value!=0&&+k.value==0&&t.left.left.is_negative_zero()||(t=R(t.left.operator,t.left.left,k,t))));break;case"instanceof":if(Xs(t.right))return Xe(t,[t,b(Gr,t)]).optimize(s)}if(!(w instanceof Ve&&w.operator=="delete")){if(t.left instanceof dt&&!t.right.is_constant())switch(t.operator){case"+":if(t.left.value==0){if(t.right.is_boolean(s))return b(Ve,t,{operator:"+",expression:t.right}).optimize(s);if(t.right.is_number(s)&&!t.right.is_negative_zero())return t.right}break;case"*":if(t.left.value==1)return b(Ve,t,{operator:"+",expression:t.right}).optimize(s)}if(t.right instanceof dt&&!t.left.is_constant())switch(t.operator){case"+":if(t.right.value==0){if(t.left.is_boolean(s))return b(Ve,t,{operator:"+",expression:t.left}).optimize(s);if(t.left.is_number(s)&&!t.left.is_negative_zero())return t.left}break;case"-":if(t.right.value==0)return b(Ve,t,{operator:"+",expression:t.left}).optimize(s);break;case"/":if(t.right.value==1)return b(Ve,t,{operator:"+",expression:t.left}).optimize(s)}}}if(s.option("typeofs"))switch(t.operator){case"&&":ps(t.left,t.right,null);break;case"||":ps(t.left,null,t.right)}if(s.option("unsafe")){var pe=q(t.right);if(E&&pe&&(t.operator=="=="||t.operator=="!=")&&t.left instanceof dt&&t.left.value==0)return(t.operator=="=="?b(Ve,t,{operator:"!",expression:t.right}):t.right).optimize(s);var ne=q(t.left);if(s.option("comparisons")&&function(){switch(t.operator){case"<=":return pe&&t.left instanceof dt&&t.left.value==0;case"<":if(ne&&t.right instanceof dt&&t.right.value==0)return 1;case"==":case"!=":return pe?t.left instanceof dt&&t.left.value==-1||t.left instanceof Ve&&t.left.operator=="-"&&t.left.expression instanceof dt&&t.left.expression.value==1:void 0}}()){var ie=b(Ve,t,{operator:"!",expression:b(Ve,t,{operator:"~",expression:ne?t.left:t.right})});switch(t.operator){case"<":if(ne)break;case"<=":case"!=":ie=b(Ve,t,{operator:"!",expression:ie})}return ie.optimize(s)}}return ds(s,t);function Ce(Y,U){switch(Y){case"-":return U=="+"?"-":"+";case"/":return U=="*"?"/":"*";default:return U}}function R(Y,U,de,I){return Y=="+"&&(U.is_boolean(s)||U.is_number(s)||(U=b(Ve,U,{operator:"+",expression:U})),de.is_boolean(s)||de.is_number(s)||(de=b(Ve,de,{operator:"+",expression:de}))),b(he,I,{operator:Y,left:U,right:de})}function q(Y){return Y.TYPE=="Call"&&Y.expression instanceof Lt&&Dp[Y.expression.property]}function se(){return t.left.is_constant()||t.right.is_constant()||!t.left.has_side_effects(s)&&!t.right.has_side_effects(s)}function j(Y){se()&&(Y&&(t.operator=Y),Y=t.left,t.left=t.right,t.right=Y)}}),Ie(ia,function(t){return t}),Ie(K,function(t,s){if(!s.option("ie")&&Hn(t)&&(!t.scope.resolve().uses_with||!s.find_parent(Dr)))switch(t.name){case"undefined":return b(an,t).optimize(s);case"NaN":return b(sa,t).optimize(s);case"Infinity":return b(fs,t).optimize(s)}var l=s.parent();if(s.option("reduce_vars")&&Wi(s.self(),l)!==s.self()){var u,h,p,g,v,x,E,w,T,k=t.definition(),S=t.fixed_value(),l=k.single_use&&!(l instanceof ot&&l.is_expr_pure(s));if(l)if(Xs(S)){if(k.scope===t.scope.resolve(!0)&&!k.in_loop||s.option("reduce_funcs")&&k.escaped.depth!=1&&!S.inlined)if(k.redefined())l=!1;else if(pl(s,k,S))l=!1;else if(S.name&&S.name.definition()!==k)l=!1;else if(S.parent_scope!==t.scope||Xr(k))if(Om(S,s)){if((l=S.is_constant_expression(t.scope))=="f")for(var D=t.scope;(D instanceof dn||D instanceof bn)&&(D.inlined=!0),D=D.parent_scope;);}else l=!1;else(S.name&&(S.name.name=="await"&&mi(S)||S.name.name=="yield"&&Li(S))||S.has_side_effects(s)||s.option("ie")&&S instanceof En)&&(l=!1);else l=!1;l&&(S.parent_scope=t.scope)}else(!S||0<k.recursive_refs||!S.is_constant_expression()||S.drop_side_effect_free(s))&&(l=!1);if(l){if(k.single_use=!1,S._squeezed=!0,S.single_use=!0,Xs(S=(S=S instanceof gi?Nu(S):S)instanceof dn?Ec(S):S)){var Z=[],D=t.scope;do if(Z.push(D),D===k.scope)break;while(D=D.parent_scope);S.enclosed.forEach(function(ie){if(!S.variables.has(ie.name))for(var Ce=0;Ce<Z.length;Ce++){var R=Z[Ce];if(!fe(R.enclosed,ie))return;R.var_names().set(ie.name,!0)}})}return 0<k.recursive_refs?(u=(T=S.clone(!0)).name.definition(),h=T.variables.get(T.name.name),p=h&&h.orig[0],l=T instanceof En?(g="def_function",ta):(g="def_variable",fi),p instanceof l||(((p=b(l,T.name)).scope=T).name=p,(h=T[g](p)).recursive_refs=k.recursive_refs),T.walk(new rt(function(ne){var ie,Ce;ne instanceof hn?ne!==p&&((ie=ne.definition()).orig.push(ne),ie.eliminated++):ne instanceof K&&((ie=ne.definition())===u?ne.thedef=ie=h:(ie.single_use=!1,Xs(Ce=ne.fixed_value())&&Ce.name&&Ce.name.definition()===ie&&ie.scope===Ce.name.scope&&S.variables.get(Ce.name.name)===ie&&(Ce.name=Ce.name.clone(),ne.thedef=ie=T.variables.get(Ce.name.name)||T[g](Ce.name))),ie.references.push(ne))}))):(S instanceof nt?(s.push(S),T=S.optimize(s),s.pop()):T=S.optimize(s),T=T.transform(new Gn(function(ne,ie){return ne instanceof nt||ie(ne=ne.clone(),this),ne}))),k.replaced++,T}if(S&&(v=t.fixed||k.fixed).should_replace!==!1&&(S instanceof ra?Xr(k)||!ba(k)||function(ne){for(var ie=t.scope;ie!==ne.scope;){if(ie instanceof En)return 1;ie=ie.parent_scope}}(k)||(x=S):(l=S.evaluate(s,!0))!==S&&typeof l!="function"&&(l===null||typeof l!="object"||s.option("unsafe_regexp")&&l instanceof RegExp&&!k.cross_loop&&ba(k))&&(x=hs(l,S)),x&&(v.should_replace===void 0&&(l=x.optimize(s).print_to_string().length,G(S)||(l=Math.min(l,S.print_to_string().length)),E=k.name.length,s.option("unused")&&!s.exposed(k)&&(w=k.references.length-k.replaced-k.assignments,w=Math.min(w,k.references.filter(function(ne){return ne.fixed===v}).length),E+=(E+2+l)/Math.max(1,w)),v.should_replace=l-Math.floor(E)<s.eval_threshold),v.should_replace)))return G(S)?(T=x.optimize(s))===x&&(T=T.clone(!0)):(T=Jr(x.optimize(s),S))!==x&&T!==S||(T=T.clone(!0)),k.replaced++,T}return t;function G(pe){var ne;return pe.walk(new rt(function(ie){if(ne=ie instanceof K?!0:ne)return!0})),ne}}),Ie(Dn,function(t,s){if(!s.option("templates"))return t;var l=t.tag;if(!l||Yc(s,l)){for(var u,h=[],p=[],g=0;g<t.strings.length;g++){var v,x=t.strings[g];if(l||(v=th(x))&&(x=S(v)),0<g){var E=t.expressions[g-1],w=function(D){var Z=D.evaluate(s);if(Z!==D&&!(l&&/\r|\\|`/.test(Z)||(Z=S(""+Z)).length>D.print_to_string().length+3))return Z}(E);if(w){var T,w=p[p.length-1]+w+x;if(l||typeof(T=th(w))==u){p[p.length-1]=T?S(T):w;continue}}h.push(E)}p.push(x),l||(u=typeof v)}if(!l&&1<p.length){if(p[p.length-1]=="")return b(he,t,{operator:"+",left:b(Dn,t,{expressions:h.slice(0,-1),strings:p.slice(0,-1)}).transform(s),right:h[h.length-1]}).optimize(s);if(p[0]==""){for(var k=b(he,t,{operator:"+",left:b(wt,t,{value:""}),right:h[0]}),g=1;p[g]==""&&g<h.length;g++)k=b(he,t,{operator:"+",left:k,right:h[g]});return ma(s,t,b(he,t,{operator:"+",left:k.transform(s),right:b(Dn,t,{expressions:h.slice(g),strings:p.slice(g)}).transform(s)}).optimize(s))}}t.expressions=h,t.strings=p}return ds(s,t);function S(D){return D.replace(/\r|\\|`|\${/g,function(Z){return"\\"+(Z=="\r"?"r":Z)})}}),Ie(an,function(t,s){if(s.option("unsafe_undefined")){var l=Ao(s).find_variable("undefined");if(l)return(l=b(K,t,{name:"undefined",scope:l.scope,thedef:l})).is_undefined=!0,l}return l=Wi(s.self(),s.parent()),l&&nh(l,t)?t:b(Ve,t,{operator:"void",expression:b(dt,t,{value:0})})}),Ie(fs,function(t,s){var l=Wi(s.self(),s.parent());return(!l||!nh(l,t))&&(!s.option("keep_infinity")||l||Ao(s).find_variable("Infinity"))?b(he,t,{operator:"/",left:b(dt,t,{value:1}),right:b(dt,t,{value:0})}):t}),Ie(sa,function(t,s){var l=Wi(s.self(),s.parent());return(!l||!nh(l,t))&&(l||Ao(s).find_variable("NaN"))?b(he,t,{operator:"/",left:b(dt,t,{value:0}),right:b(dt,t,{value:0})}):t}),Mp=Ee("+ - * / % >> << >>> | ^ &"),Xp=Ee("* | ^ &"),Ie(Ye,function(t,s){if(s.option("dead_code")){if(t.left instanceof at){if(t.operator=="="){if(t.redundant)return l=[t.left.expression],t.left instanceof Kt&&l.push(t.left.property),l.push(t.right),Xe(t,l).optimize(s);if(t.left.equals(t.right)&&!t.left.has_side_effects(s))return t.right;var l=t.left.expression;if(l instanceof ht||!s.has_directive("use strict")&&l instanceof nn&&!l.may_throw_on_access(s))return t.left instanceof Lt?t.right:Xe(t,[t.left.property,t.right]).optimize(s)}}else if(t.left instanceof K&&ar(t.left,s)){if(t.operator=="="&&t.left.equals(t.right)&&!((x=s.parent())instanceof Ve&&x.operator=="delete"))return t.right;if(t.left.is_immutable())return S();var u,h=t.left.definition(),p=h.scope.resolve(),g=p===s.find_parent(ht),v=0,x=s.self();if(!p.uses_arguments||!Xr(h)||s.has_directive("use strict"))do if(u=x,(x=s.parent(v++))instanceof Ye){if(x.left instanceof K&&x.left.definition()===h){if(T(v,x,!g))break;return S(h)}if(x.left.match_symbol(function(D){if(D instanceof at)return!0}))break}else{if(x instanceof Ln){if(!g||T(v,x)||Wc(p,[h]))break;return S(h)}if(x instanceof Re){if(!g||Wc(p,[h]))break;do if(E=x,(x=s.parent(v++))===p&&qu(x.body,E))return S(h);while(E=E,(w=x)instanceof Be||w instanceof Ni||w instanceof Gs?qu(w.body,E):w instanceof Zt?w.body===E||w.alternative===E:w instanceof ni?w.bfinally?w.bfinally===E:w.bcatch===E:void 0);break}if(x instanceof Wt&&x.name instanceof hn&&x.name.definition()===h){if(T(v,x))break;return S(h)}}while(function(D,Z){if(Z instanceof he)switch(D){case Z.left:return Z.right.is_constant_expression(p);case Z.right:return 1;default:return}if(Z instanceof lt)switch(D){case Z.condition:return Z.consequent.is_constant_expression(p)&&Z.alternative.is_constant_expression(p);case Z.consequent:case Z.alternative:return 1;default:return}if(Z instanceof Ke){var G=Z.expressions,pe=G.indexOf(D);if(pe<0)return;for(var ne=G.length;--ne>pe;)if(!G[ne].is_constant_expression(p))return;return 1}return Z instanceof Ve}(u,x))}}var E,w;if(s.option("sequences")){var l=t.lift_sequences(s);if(l!==t)return l.optimize(s)}if(s.option("assignments")){if(t.operator=="="&&t.left instanceof K&&t.right instanceof he){if(t.right.left instanceof K&&t.right.left.name==t.left.name&&Mp[t.right.operator])return k(t.right.right);if(t.right.right instanceof K&&t.right.right.name==t.left.name&&Xp[t.right.operator]&&!t.right.left.has_side_effects(s))return k(t.right.left)}if((t.operator=="-="||t.operator=="+="&&(t.left.is_boolean(s)||t.left.is_number(s)))&&t.right instanceof dt&&t.right.value==1)return l=t.operator.slice(0,-1),b(Ve,t,{operator:l+l,expression:t.left})}return ds(s,t);function T(D,Z,G){var pe=t.right,ne=(t.right=b(Nr,pe),Z.may_throw(s));return t.right=pe,Np(s,D,Z,p,ne,G)}function k(D){var Z=t.left.fixed;return Z&&(Z.to_binary=Xu(function(G){return G.left},Z)),b(Ye,t,{operator:t.right.operator+"=",left:t.left,right:D})}function S(D){return D&&(D.fixed=!1),(t.operator!="="?b(he,t,{operator:t.operator.slice(0,-1),left:t.left,right:t.right}):lr(s.parent(),t,t.right)).optimize(s)}}),Ie(lt,function(t,s){if(s.option("sequences")&&t.condition instanceof Ke)return h=t.condition.expressions.slice(),(x=t.clone()).condition=h.pop(),h.push(x),Xe(t,h).optimize(s);if(s.option("conditionals")){var l=t.condition;if(s.option("booleans")&&!l.has_side_effects(s)&&Gu(s,l),!(l=Kr(s,l)))return V.warn("Condition always false [{start}]",t),Xe(t,[t.condition,t.alternative]).optimize(s);if(!(l instanceof V))return V.warn("Condition always true [{start}]",t),Xe(t,[t.condition,t.consequent]).optimize(s);var h=it(s),u=l.negate(s,h),h=((h?Tc:Jr)(l,u)===u&&(t=b(lt,t,{condition:u,consequent:t.alternative,alternative:t.consequent}),u=l,l=t.condition),t.consequent),p=t.alternative,g=Xc(l,s);if(dl(s,g)){if(g.equals(h))return b(he,t,{operator:"||",left:l,right:p}).optimize(s);if(g.equals(p))return b(he,t,{operator:"&&",left:l,right:h}).optimize(s)}if(g=h.tail_node(),g instanceof Ye){var w=g.operator=="=",v=w?p.tail_node():p;if((w||h===g)&&v instanceof Ye&&g.operator==v.operator&&g.left.equals(v.left)&&(w&&g.left instanceof K||!l.has_side_effects(s)&&ne(h)&&ne(p)))return b(Ye,t,{operator:g.operator,left:g.left,right:b(lt,t,{condition:l,consequent:ie(h),alternative:ie(p)})})}if(v=p.tail_node(),g.equals(v))return Xe(t,h.equals(p)?[l,h]:[b(lt,t,{condition:l,consequent:Ce(h),alternative:Ce(p)}),v]).optimize(s);var x,E,w=function R(q,se,j){var Y=q.tail_node(),U=se.tail_node();return pe(Y,U)?(j=Y.clone(),q=G(q,Y,"expression"),se=G(se,U,"expression"),U=R(q,se),Y.expression instanceof Ke&&(U=lr(Y,Y.expression,U)),j.expression=U,j):!j&&b(lt,t,{condition:l,consequent:q,alternative:se})}(h,p,!0);if(w)return w;if(h instanceof ot&&p.TYPE==h.TYPE&&0<=(w=Z(h,p))&&h.expression.equals(p.expression)&&!l.has_side_effects(s)&&!h.expression.has_side_effects(s))return x=h.clone(),E=h.args[w],x.args[w]=E instanceof Qt?b(Qt,t,{expression:b(lt,t,{condition:l,consequent:E.expression,alternative:p.args[w].expression})}):b(lt,t,{condition:l,consequent:E,alternative:p.args[w]}),x;if(g instanceof lt&&g.alternative.equals(p))return b(lt,t,{condition:b(he,t,{left:l,operator:"&&",right:G(h,g,"condition")}),consequent:g.consequent,alternative:Hr(g.alternative,p)});if(g instanceof lt&&g.consequent.equals(p))return b(lt,t,{condition:b(he,t,{left:u,operator:"||",right:G(h,g,"condition")}),consequent:Hr(g.consequent,p),alternative:g.alternative});if(v instanceof lt&&h.equals(v.consequent))return b(lt,t,{condition:b(he,t,{left:l,operator:"||",right:G(p,v,"condition")}),consequent:Hr(h,v.consequent),alternative:v.alternative});if(v instanceof lt&&h.equals(v.alternative))return b(lt,t,{condition:b(he,t,{left:u,operator:"&&",right:G(p,v,"condition")}),consequent:v.consequent,alternative:Hr(h,v.alternative)});if(g instanceof he&&g.operator=="&&"&&g.right.equals(p))return b(he,t,{operator:"&&",left:b(he,t,{operator:"||",left:u,right:G(h,g,"left")}),right:Hr(g.right,p)}).optimize(s);if(g instanceof he&&g.operator=="||"&&g.right.equals(p))return b(he,t,{operator:"||",left:b(he,t,{operator:"&&",left:l,right:G(h,g,"left")}),right:Hr(g.right,p)}).optimize(s);if(v instanceof he&&v.operator=="&&"&&v.right.equals(h))return b(he,t,{operator:"&&",left:b(he,t,{operator:"||",left:l,right:G(p,v,"left")}),right:Hr(h,v.right)}).optimize(s);if(v instanceof he&&v.operator=="||"&&v.right.equals(h))return b(he,t,{operator:"||",left:b(he,t,{operator:"&&",left:u,right:G(p,v,"left")}),right:Hr(h,v.right)}).optimize(s);var T=s.option("booleans")&&s.in_boolean_context();if(S(h))return D(p)?k(l):b(he,t,{operator:"||",left:k(l),right:p}).optimize(s);if(D(h))return S(p)?k(l.negate(s)):b(he,t,{operator:"&&",left:k(l.negate(s)),right:p}).optimize(s);if(S(p))return b(he,t,{operator:"||",left:k(l.negate(s)),right:h}).optimize(s);if(D(p))return b(he,t,{operator:"&&",left:k(l),right:h}).optimize(s);s.option("typeofs")&&ps(l,h,p)}return t;function k(R){return R.is_boolean(s)?R:b(Ve,R,{operator:"!",expression:R.negate(s)})}function S(R){return R instanceof us||T&&R instanceof nn&&R.value||R instanceof Ve&&R.operator=="!"&&R.expression instanceof nn&&!R.expression.value}function D(R){return R instanceof Gr||T&&(R instanceof nn&&!R.value||R instanceof Ve&&R.operator=="void"&&!R.expression.has_side_effects(s))||R instanceof Ve&&R.operator=="!"&&R.expression instanceof nn&&R.expression.value}function Z(R,q){var se=R.args,j=q.args,Y=se.length;if(Y!=j.length)return-2;for(var U=0;U<Y;U++)if(!se[U].equals(j[U])){if(se[U]instanceof Qt!=j[U]instanceof Qt)return-3;for(var de=U+1;de<Y;de++)if(!se[de].equals(j[de]))return-2;return U}return-1}function G(R,q,se){var j;return R===q?q[se]:((j=R.expressions.slice(0,-1)).push(q[se]),Xe(R,j))}function pe(R,q){var se,j;if(R.TYPE==q.TYPE&&R.optional==q.optional)return R instanceof ot?Z(R,q)!=-1?void 0:R.TYPE!="Call"||!(R.expression instanceof at||q.expression instanceof at)||pe(R.expression,q.expression):R instanceof at?(se=R.property,j=q.property,(se instanceof V?se.equals(j):se==j)&&!(R.expression instanceof ko||q.expression instanceof ko)):void 0}function ne(R){return R===R.tail_node()||le(R.expressions.slice(0,-1),function(q){return!q.has_side_effects(s)})}function ie(R){var q;return R instanceof Ke?((q=R.expressions.slice()).push(q.pop().right),Xe(R,q)):R.right}function Ce(R){return R instanceof Ke?Xe(R,R.expressions.slice(0,-1)):b(dt,R,{value:0})}}),Ie(oa,function(t,s){return s.option("booleans")?s.in_boolean_context()?b(dt,t,{value:+t.value}):(s=s.parent())instanceof he&&(s.operator=="=="||s.operator=="!=")?(V.warn("Non-strict equality against boolean: {operator} {value} [{start}]",{operator:s.operator,value:t.value,start:s.start}),b(dt,t,{value:+t.value})):b(Ve,t,{operator:"!",expression:b(dt,t,{value:1-t.value})}):t}),Ie(Qt,function(t,s){var l=t.expression;return s.option("spreads")&&l instanceof yt&&!(s.parent()instanceof tn)?C.splice(l.elements.map(function(u){return u instanceof Bn?b(an,u).optimize(s):u})):t}),Ie(Kt,function(t,s){var l=t.expression,u=t.property,w=Ju(t,s);if(w)return w;if(s.option("properties")){var h=u.evaluate(s);if(h!==u){typeof h=="string"&&(h=="undefined"?h=void 0:(Z=parseFloat(h)).toString()==h&&(h=Z)),u=t.property=Jr(u,hs(h,u).transform(s));var p=""+h;if(aa(p)&&p.length<=u.print_to_string().length+1)return b(Lt,t,{optional:t.optional,expression:l,property:p,quoted:!0}).optimize(s)}}var g,v,x,E,w=s.parent(),T=Wi(s.self(),w);if(s.option("arguments")&&l instanceof K&&Rs(g=l.definition())&&!l.in_arg&&u instanceof dt&&Math.floor(D=u.value)==D&&(v=g.scope)===function(){for(var R,q=0;R=s.parent(q++);)if(R instanceof ht){if(R instanceof Vi)return;if(!$n(R))return x=s.parent(q),R}}()&&v.uses_arguments<(T?2:3)){w instanceof Ve&&w.operator=="delete"&&(g.deleted||(g.deleted=[]),g.deleted[D]=!0);var k=v.argnames[D];if(g.deleted&&g.deleted[D])k=null;else if(k)(!(k instanceof $t&&k.name!="await"&&l.scope.find_variable(k.name)===(S=k.definition()))||(s.has_directive("use strict")||v.name||v.rest||!(x instanceof ot&&D<x.args.length&&le(x.args.slice(0,D+1),function(R){return!(R instanceof Qt)}))||!le(v.argnames,function(R){return R instanceof $t}))&&(Ce()||S.assignments||1<S.orig.length))&&(k=null);else if((T||!Ce())&&D<v.argnames.length+5&&s.drop_fargs(v,x)&&!v.rest)for(;D>=v.argnames.length;)k=v.make_var($t,v,"argument_"+v.argnames.length),v.argnames.push(k);if(k&&i(function(R){return R.name===k.name},v.argnames)===k)return T&&g.reassigned--,(S=b(K,k)).reference(),k.unused=void 0,S}if(T)return t;if(s.option("sequences")&&w.TYPE!="Call"&&!(w instanceof Vn&&w.init===t)){var S=qs(t);if(S!==t)return S.optimize(s)}if(h!==u&&(T=t.flatten_object(p,s))&&(l=t.expression=T.expression,u=t.property=T.property),s.option("properties")&&s.option("side_effects")&&u instanceof dt&&l instanceof yt&&le(E=l.elements,function(R){return!(R instanceof Qt)})){var D,w=E[D=u.value];if(vm(w,s)){for(var Z,G=w instanceof Bn,pe=!G,ne=[],ie=E.length;--ie>D;)(Z=E[ie].drop_side_effect_free(s))&&(ne.unshift(Z),pe)&&Z.has_side_effects(s)&&(pe=!1);for(pe||ne.unshift(w);0<=--ie;)(Z=E[ie].drop_side_effect_free(s))?ne.unshift(Z):G?ne.unshift(b(Bn,E[ie])):D--;return pe?(ne.push(w),Xe(t,ne).optimize(s)):b(Kt,t,{expression:b(yt,l,{elements:ne}),property:b(dt,u,{value:D})})}}return ds(s,t);function Ce(){return!s.option("reduce_vars")||g.reassigned}}),bn.DEFMETHOD("contains_super",function(){var t=!1,s=this;return s.walk(new rt(function(l){return!!t||(l instanceof ko?t=!0:l!==s&&l instanceof nt&&!$n(l)||void 0)})),t}),(X=function(t,s){t.DEFMETHOD("contains_this",s)})(Bi,d),X(mr,d),X(V,function(){var t=!1,s=this;return s.walk(new rt(function(l){return!!t||(l instanceof ra?t=!0:l!==s&&l instanceof nt&&!$n(l)||void 0)})),t}),at.DEFMETHOD("flatten_object",function(t,s){if(s.option("properties")&&t!=="__proto__"){var l=this.expression;if(l instanceof tn)for(var u=l.properties,h=u.length;0<=--h;){var p=u[h];if(p.key===t){if(!le(u,jc)||!vm(p.value,s))return;for(var g,v=[],x=0;x<u.length;x++){var E=u[x].value;if(u[x]instanceof Zs){var w,T,k,S=!(E.uses_arguments||Li(E)||E.contains_this());if(S&&(w=w||s.find_parent(nt),T=va(s,w),E.each_argname(function(D){T[D.name]&&(S=!1)})),S)k=mi(E)?mr:Bi;else{if(!(h!=x||(g=s.parent())instanceof ot&&g.expression===this))return;k=E.CTOR}E=b(k,E)}v.push(E)}return b(Kt,this,{expression:b(yt,l,{elements:v}),property:b(dt,this,{value:h})})}}}}),Ie(Lt,function(t,s){t.property!="arguments"&&t.property!="caller"||V.warn("Function.prototype.{property} not supported [{start}]",t);var l=s.parent();if(Wi(s.self(),l))return t;var u=Ju(t,s);if(u)return u;if(s.option("sequences")&&l.TYPE!="Call"&&!(l instanceof Vn&&l.init===t)&&(u=qs(t),u!==t))return u.optimize(s);if(s.option("unsafe_proto")&&t.expression instanceof Lt&&t.expression.property=="prototype"){var h=t.expression.expression;if(Hn(h))switch(h.name){case"Array":t.expression=b(yt,t.expression,{elements:[]});break;case"Function":t.expression=b(Pn,t.expression,{argnames:[],body:[]}).init_vars(h.scope);break;case"Number":t.expression=b(dt,t.expression,{value:0});break;case"Object":t.expression=b(tn,t.expression,{properties:[]});break;case"RegExp":t.expression=b(Ji,t.expression,{value:/t/});break;case"String":t.expression=b(wt,t.expression,{value:""})}}return l=t.flatten_object(t.property,s),l?l.optimize(s):ds(s,t)}),Ie(wn,function(t,s){return s.option("rests")&&t.rest instanceof wn?b(wn,t,{elements:t.elements.concat(t.rest.elements),rest:t.rest.rest}):t}),Ie(An,function(t,s){var l;return s.option("objects")&&(l=t.key)instanceof V&&(l=l.evaluate(s))!==t.key&&(t.key=""+l),t}),Ie(tn,function(t,s){var l,u,h,p,g,v,x,E;return s.option("objects")&&(h=u=l=!1,p=s.has_directive("use strict"),g=[],v=new we,x=[],t.properties.forEach(function(k){if(!(k instanceof Qt))return T(k);u=!0;var S=k.expression;s.option("spreads")&&S instanceof tn&&le(S.properties,function(D){return!(D instanceof Hs||D instanceof Qt||!(D.key!=="__proto__"||D instanceof Ms)&&D.value.has_side_effects(s))})?(l=!0,S.properties.forEach(function(D){var Z=D.key,G=D instanceof Ms;if(Z==="__proto__"){if(!G)return;Z=hs(Z,D)}T(G?b(ii,D,{key:Z,value:b(an,D).optimize(s)}):D)})):(h=!0,w(),x.push(k))}),w(),l)?(u&&h&&x.length==1&&(E=x[0])instanceof Qi&&E.key instanceof dt&&(E.key=""+E.key.value),b(tn,t,{properties:x})):t;function w(){g.forEach(function(k){var S=v.get(k);switch(S.length){case 0:return;case 1:return x.push(S[0])}l=!0,k=p&&!h&&S.pop(),x.push(S.length==1?S[0]:b(ii,t,{key:S[0].key,value:Xe(t,S.map(function(D){return D.value}))})),k&&x.push(k),S.length=0}),g=[],v=new we}function T(k){var S=k.key;S instanceof V&&(u=!0,(S=S.evaluate(s))===k.key||S==="__proto__"?h=!0:S=k.key=""+S),jc(k)?(k.value.has_side_effects(s)&&w(),g.push(S),v.add(S,k)):(w(),x.push(k)),u&&!h&&typeof S=="string"&&Cu.test(S)&&(h=!0,(k=v.has(S)?v.get(S)[0]:k).key=b(dt,k,{value:+S}))}}),(X=function(t,s){t.DEFMETHOD("try_inline",s)})(V,f),X(Ye,f),X(pn,function(t,s,l,u){if(t.option("awaits")){var h=this,s=h.expression.try_inline(t,s,l,u,!0);if(s)return l||Oa(s,function(g){g.in_bool=!1;var v=g.value;v instanceof pn||(g.value=b(pn,h,{expression:v||b(an,g).transform(t)}))}),cr(s)?s:b(Be,h,{body:[s,b(Re,h,{body:b(pn,h,{expression:b(dt,h,{value:0})})})]})}}),X(he,function(t,s,l,u,h){if(l!==void 0){var p=this,g=p.operator;if(gn[g]&&(s=p.right.try_inline(t,s,l,u,h),s))return b(Zt,p,{condition:function(v){switch(g){case"&&":return v;case"||":return v.negate(t);case"??":return b(he,p,{operator:"==",left:b(Nr,p),right:v})}}(p.left),body:s,alternative:l?null:b(Nt,p,{value:b(an,p).transform(t)})})}}),X(Be,function(t,s,l,u){if(!l&&this.variables){var h=this.body,p=h.length-1;if(!(p<0)&&(t=h[p].try_inline(t,this,l,u),t))return h[p]=t,this}}),X(ot,function(t,s,l,u,h){if(!(t.option("inline")<4)){var p=this;if(!p.is_expr_pure(t)){var g=p.expression;if(g instanceof bn&&!(g.name||g.uses_arguments||g.pinned()||Li(g))){var v=$n(g);if(!(v&&g.value||g.body[0]instanceof vn||g.contains_this())){s=s||Ao(t);var x=new we;for(x.set("NaN",!0);!(s instanceof nt);)s.variables.each(function(ne){x.set(ne.name,!0)}),s=s.parent_scope;if(n(s,t.stack)&&!(s.pinned()&&g.variables.size()>(v?0:1))){if(s instanceof yn){if(g.variables.size()>(v?0:1)&&(!t.toplevel.vars||0<g.functions.size()&&!t.toplevel.funcs))return;x.set("arguments",!0)}var E=!h&&mi(g);if(E&&(!t.option("awaits")||!mi(s)||p.may_throw(t)))return;var w=s.var_names();if(u=u&&[],g.variables.all(function(ne,ie){return u&&u.push(ne),!x.has(ie)&&!w.has(ie)||!v&&ie=="arguments"&&ne.orig.length==1})&&!(u&&0<u.length&&Wc(g,u))){var T,k,S,D,Z,G=!0;if(le(g.argnames,function(ne){var ie=!1,Ce=new rt(function(R){return!!ie||(R instanceof Ct?wa(g,R.value)?ie=!0:(R.name.walk(Ce),!0):R instanceof An?R.key instanceof V&&wa(g,R.key)?ie=!0:(R.value.walk(Ce),!0):R instanceof $t&&!le(R.definition().orig,function(q){return!(q instanceof br)})?ie=!0:void 0)});return ne.walk(Ce),!ie&&(ne instanceof $t||(G=!1),1)})){if(g.rest){if(wa(g,g.rest))return;G=!1}if(l?T=function(ne){var ie=!1;return ne.walk(new rt(function(Ce){return!!ie||(E&&(Ce instanceof pn||Ce instanceof Jo)||Ce instanceof Nt?ie=!0:Ce instanceof nt||void 0)})),!ie}:(h||mi(g)||Eo(s))&&(T=function(ne){var ie=!1,Ce=new rt(function(R){return!!ie||(R instanceof Nt?ie=!0:R instanceof nt||void 0)});return ne.walk(new rt(function(R){return!!ie||(R instanceof ni?(R.bfinally&&le(R.body,function(q){return q.walk(Ce),!ie})&&R.bcatch&&R.bcatch.walk(Ce),!0):R instanceof nt||void 0)})),!ie}),(!T||le(g.body,T))&&Mc(g,va(t,s)))return g.functions.each(function(ne,ie){s.functions.set(ie,ne)}),k=[],g.variables.each(function(ne,ie){var Ce;!v&&ie=="arguments"&&ne.orig.length==1||(w.set(ie,!0),s.enclosed.push(ne),s.variables.set(ie,ne),ne.single_use=!1,!u)||ne.references.length==ne.replaced||ne.orig.length==ne.eliminated||ne.orig.length==1&&g.functions.has(ie)||!le(ne.orig,function(R){return!(R instanceof ci||(R instanceof $t?R.unused||ne.scope.resolve()===g:R instanceof Fr))})||(Ce=ne.orig[0])instanceof Gi||k.push(b(Re,Ce,{body:bm(t,Uc(Ce))}))}),S=Object.create(null),D=new we,G&&le(p.args,function(ne){return!(ne instanceof Qt)})?(Z=p.args.slice(),g.argnames.forEach(function(ne){var ie=Z.shift();ne.unused?ie&&k.push(b(Re,p,{body:ie})):(ie=b(Wt,p,{name:ne.convert_symbol(oi,pe),value:ie||b(an,p).transform(t)}),ne instanceof $t&&ym(ne.definition(),ie),k.push(b(un,p,{definitions:[ie]})))}),Z.length&&k.push(b(Re,p,{body:Xe(p,Z)}))):k.push(b(un,p,{definitions:[b(Wt,p,{name:b(wn,p,{elements:g.argnames.map(function(ne){return ne.unused?b(Bn,ne):ne.convert_symbol(oi,pe)}),rest:g.rest&&g.rest.convert_symbol(oi,pe)}),value:b(yt,p,{elements:p.args.slice()})})]})),D.each(function(ne,ie){ie=S[ie],[].unshift.apply(ie.orig,ne),ie.eliminated+=ne.length}),[].push.apply(k,u?g.body.filter(function(ne){var ie,Ce;return!(ne instanceof dn&&((Ce=(ie=b(oi,Uc(ne.name))).definition()).fixed=!1,Ce.orig.push(ie),Ce.eliminated++,k.push(b(un,ne,{definitions:[b(Wt,ne,{name:ie,value:Ec(ne,!0)})]})),1))}):g.body),h=b(Be,p,{body:k}),l||(E&&Oa(h,function(ne){var ie=ne.value;Di(ie)||(ne.value=b(pn,p,{expression:ie}))}),k.push(b(Nt,p,{value:Eo(s)?b(an,p).transform(t):null}))),h}}}}}}}function pe(ne,ie){ie=ie.definition(),S[ie.id]=ie,D.add(ie.id,ne)}}),X(lt,function(g,s,l,u,h){var p=this.consequent.try_inline(g,s,l,u,h),g=this.alternative.try_inline(g,s,l,u,h);if(p||g)return b(Zt,this,{condition:this.condition,body:p||v(this.consequent),alternative:g||v(this.alternative)});function v(x){return l?b(Re,x,{body:x}):b(Nt,x,{value:x})}}),X(Tn,function(t,s,l,u){var h=this.body.try_inline(t,s,!0,!0),p=(h&&(this.body=h),this.init);return(p=p&&p.try_inline(t,s,!0,u))?(this.init=null,p instanceof Be?(p.body.push(this),p):b(Be,p,{body:[p,this]})):h&&this}),X(Vn,function(t,s,l,u){var h=this.body.try_inline(t,s,!0,!0),p=(h&&(this.body=h),this.object);return p instanceof Ke&&(t=qc(t,s,!0,u,!1,p,1),t)?(this.object=p.tail_node(),t.body.push(this),t):h&&this}),X(Zt,function(t,s,g,u){var h=this.body.try_inline(t,s,g,u),p=(h&&(this.body=h),this.alternative),g=((p=p&&p.try_inline(t,s,g,u))&&(this.alternative=p),this.condition);return g instanceof Ke&&(t=qc(t,s,!0,u,!1,g,1),t)?(this.condition=g.tail_node(),t.body.push(this),t):(h||p)&&this}),X(Ei,function(t,s,l,u){if(t=this.body.try_inline(t,s,!0,!0),t)return this.body=t,this}),X(ti,function(t,s,l,u){if(t=this.body.try_inline(t,s,l,u),t)return this.body instanceof Ei&&t instanceof Be?(s=t.body.pop(),this.body=s,t.body.push(this),t):(this.body=t,this)}),X(Si,f),X(Nt,function(t,s,l,u){var h=this.value;return h&&h.try_inline(t,s,void 0,u==="try")}),X(Ke,function(t,s,l,u,h){return qc(t,s,l,u,h,this)}),X(Re,function(t,s,l,u){for(var h=this.body;h instanceof Ve;){var p=h.operator;if(Po[p]||p=="void")break;h=h.expression}return(h=l||Di(h)?h:b(Ve,this,{operator:"void",expression:h})).try_inline(t,s,l||!1,u)}),X(Ve,function(t,s,l,u,h){var p=this,g=p.operator;if(!Po[g]&&(s=p.expression.try_inline(t,s,l=l||g!="void"?l:!1,u,h),s))return l||Oa(s,function(v){v.in_bool=!1;var x=v.value;g=="void"&&Di(x)||(v.value=b(Ve,p,{operator:g,expression:x||b(an,v).transform(t)}))}),s}),X(Dr,function(t,s,h,u){var h=this.body.try_inline(t,s,h,u),p=(h&&(this.body=h),this.expression);return p instanceof Ke&&(t=qc(t,s,!0,u,!1,p,1),t)?(this.expression=p.tail_node(),t.body.push(this),t):h&&this}),X(yi,function(t,s,l,u){if(t.option("yields")&&this.nested){var h=this.expression;if(h.TYPE=="Call"){var p=h.expression;switch(p.CTOR){case Fi:p=b(gr,p);break;case Or:p=b(Pn,p);break;default:return}return(h=h.clone()).expression=p,h.try_inline(t,s,l,u)}}}),Ie(Nt,function(t,s){var l=t.value;return l&&s.option("side_effects")&&Di(l,s)&&!Eo(s.find_parent(nt))&&(t.value=null),t}),nl=!1,V.DEFMETHOD("print",function(t,s){var l=this;function u(){t.prepend_comments(l),l.add_source_map(t),l._codegen(t),t.append_comments(l)}t.push_node(l),s||l.needs_parens(t)?t.with_parens(u):u(),t.pop_node()}),Mu=zc({inline_script:!1,shebang:!1,width:!1}),V.DEFMETHOD("print_to_string",function(t){return t?(t=zc(t),this.print(t),t.get()):(this.print(Mu),Mu.reset())}),hi(V,d),hi(gr,ml),hi(Fi,ml),hi(Zr,ml),hi(Pn,ml),hi(Or,ml),hi(tn,wm),hi(pn,xm),hi(en,xm),hi(Ke,function(t){return t=t.parent(),t instanceof yt||$n(t)&&t.value===this||t instanceof pn||t instanceof he||t instanceof ot||t instanceof En||t instanceof ir||t instanceof lt||t instanceof Ct||t instanceof An||t instanceof Ai||t instanceof Ho||t instanceof Qi||t instanceof at&&t.expression===this||t instanceof Qt||t instanceof Dn&&t.tag===this||t instanceof en||t instanceof Wt||t instanceof yi}),hi(he,function(p){var s,l,u,h,p=p.parent();return p instanceof pn||(p instanceof he?(s=p.operator,l=wr[s],u=this.operator,(h=wr[u])<l||s=="??"&&(u=="&&"||u=="||")||l==h&&this===p[s=="**"?"left":"right"]):p instanceof ot?p.expression===this:p instanceof En||(p instanceof at?p.expression===this:p instanceof Dn?p.tag===this:p instanceof en||void 0))}),hi(at,function(t){return t=t.parent(),t instanceof Si&&t.expression===this&&lc(this).TYPE=="Call"||_m(this,t)}),hi(ot,function(t){var s=t.parent();return s instanceof Si?s.expression===this:t.option("webkit")&&this.expression instanceof Pn&&s instanceof at&&s.expression===this&&(t=t.parent(1),t instanceof Ye&&t.left===s)?!0:_m(this,s)}),hi(Si,function(t){return!Mm(this,t)&&((t=t.parent())instanceof ot?t.expression===this:t instanceof at||(t instanceof Dn?t.tag===this:void 0))}),hi(dt,function(t){return!!t.option("galio")&&(t=t.parent())instanceof at&&t.expression===this&&/^0/.test(sh(this.value))}),hi(Bi,function(t){return gl(this,t)}),hi(Ye,function(t){return!!gl(this,t)||(t.option("v8")?this.left instanceof Tt:this.left instanceof si?wm(t):void 0)}),hi(mr,function(t){return gl(this,t)}),hi(lt,function(t){return gl(this,t)||t.option("extendscript")&&t.parent()instanceof lt}),hi(yi,function(t){return gl(this,t)}),Fe(vn,function(t){var s=this.quote,l=this.value;switch(t.option("quote_style")){case 0:case 2:l.indexOf('"')==-1&&(s='"');break;case 1:l.indexOf("'")==-1&&(s="'")}t.print(s+l+s),t.semicolon()}),Fe(In,function(t){t.print("debugger"),t.semicolon()}),Fe(yn,function(t){km(this.body,!0,t,!0),t.print("")}),Fe(ti,function(t){this.label.print(t),t.colon(),this.body.print(t)}),Fe(Re,function(t){this.body.print(t),t.semicolon()}),Fe(Be,function(t){Mo(this,t)}),Fe(_t,function(t){t.semicolon()}),Fe(os,function(t){var s=this;t.print("do"),Fc(s.body,t),t.space(),t.print("while"),t.space(),t.with_parens(function(){s.condition.print(t)}),t.semicolon()}),Fe(Ns,function(t){var s=this;t.print("while"),t.space(),t.with_parens(function(){s.condition.print(t)}),Xo(s.body,t)}),Fe(Tn,function(t){var s=this;t.print("for"),t.space(),t.with_parens(function(){s.init?(s.init instanceof fn?s.init.print(t):Am(s.init,t,!0),t.print(";"),t.space()):t.print(";"),s.condition?(s.condition.print(t),t.print(";"),t.space()):t.print(";"),s.step&&s.step.print(t)}),Xo(s.body,t)}),Fe(Jo,ih("for await","of")),Fe(wo,ih("for","in")),Fe(Ho,ih("for","of")),Fe(Dr,function(t){var s=this;t.print("with"),t.space(),t.with_parens(function(){s.expression.print(t)}),Xo(s.body,t)}),Fe(vi,function(t){t.print("export"),t.space(),this.body.print(t)}),Fe(Ai,function(t){t.print("export"),t.space(),t.print("default"),t.space();var s=this.body;s.print(t),s instanceof Zr&&!s.name||s instanceof gi||s instanceof dn||s instanceof bn&&!s.name&&!$n(s)||t.semicolon()}),Fe(Ko,function(t){var s=this,l=(t.print("export"),t.space(),s.keys.length);function u(g){var p=s.aliases[g],g=s.keys[g];Ic(g,t),p.value!=g.value&&(t.space(),t.print("as"),t.space(),Ic(p,t))}l==0?xa(s,t):s.keys[0].value=="*"?u(0):t.with_block(function(){t.indent(),u(0);for(var h=1;h<l;h++)t.print(","),t.newline(),t.indent(),u(h);t.newline()},s.end),t.space(),t.print("from"),t.space(),s.path.print(t),t.semicolon()}),Fe(_o,function(t){t.print("export"),t.space(),Lc(this,t),t.semicolon()}),Fe(ea,function(t){var s=this;t.print("import"),t.space(),s.default&&s.default.print(t),s.all&&(s.default&&t.comma(),s.all.print(t)),s.properties&&(s.default&&t.comma(),Lc(s,t)),(s.all||s.default||s.properties)&&(t.space(),t.print("from"),t.space()),s.path.print(t),t.semicolon()}),Fe(Bi,function(t){Qm(this,t)}),Fe(mr,function(t){t.print("async"),t.space(),Qm(this,t)}),Fe(ht,function(t){t.print("function"),_a(this,t)}),Fe(as,$m),Fe(gr,$m),Fe(Ir,Pm),Fe(Fi,Pm),Fe(Es,Cm),Fe(Or,Cm),Fe(En,function(t){t.print("class"),this.name&&(t.space(),this.name.print(t)),this.extends&&(t.space(),t.print("extends"),t.space(),this.extends.print(t)),t.space(),Lc(this,t,!0)}),Fe(ls,function(t){this.static&&(t.print("static"),t.space()),Ol(this,t),this.value&&(t.space(),t.print("="),t.space(),this.value.print(t)),t.semicolon()}),Fe(Fa,Bc("get")),Fe(Na,Bc("set")),Fe(xo,function(t){this.static&&(t.print("static"),t.space()),Tm(this,t)}),Fe(As,function(t){t.print("static"),t.space(),Mo(this.value,t)}),Fe(Nt,Vc("return","value")),Fe(Ha,Vc("throw","value")),Fe(rr,Vc("break","label")),Fe(Ds,Vc("continue","label")),Fe(Zt,function(t){var s=this;t.print("if"),t.space(),t.with_parens(function(){s.condition.print(t)}),s.alternative?(function(l,u){var h=l.body;if(u.option("braces")&&!(h instanceof Lr||h instanceof yr)||u.option("ie")&&h instanceof os)return Fc(h,u);if(!h)return u.force_semicolon();for(;;)if(h instanceof Zt){if(!h.alternative)return Fc(l.body,u);h=h.alternative}else{if(!(h instanceof Go))break;h=h.body}Xo(l.body,u)}(s,t),t.space(),t.print("else"),s.alternative instanceof Zt?(t.space(),s.alternative.print(t)):Xo(s.alternative,t)):Xo(s.body,t)}),Fe(Oi,function(t){var s=this,l=(t.print("switch"),t.space(),t.with_parens(function(){s.expression.print(t)}),t.space(),s.body.length-1);l<0?xa(s,t):t.with_block(function(){s.body.forEach(function(u,h){t.indent(!0),u.print(t),h<l&&0<u.body.length&&t.newline()})},s.end)}),Fe(cs,function(t){t.print("default:"),Em(this,t)}),Fe(sr,function(t){t.print("case"),t.space(),this.expression.print(t),t.print(":"),Em(this,t)}),Fe(ni,function(t){t.print("try"),t.space(),Mo(this,t),this.bcatch&&(t.space(),this.bcatch.print(t)),this.bfinally&&(t.space(),this.bfinally.print(t))}),Fe(Ni,function(t){var s=this;t.print("catch"),s.argname&&(t.space(),t.with_parens(function(){s.argname.print(t)})),t.space(),Mo(s,t)}),Fe(Gs,function(t){t.print("finally"),t.space(),Mo(this,t)}),Fe(Lr,rh("const")),Fe(yr,rh("let")),Fe(un,rh("var")),Fe(Wt,function(t){var s;this.name.print(t),this.value&&(t.space(),t.print("="),t.space(),s=(s=t.parent(1))instanceof Tn||s instanceof Vn,Am(this.value,t,s))}),Fe(Ct,function(t){this.name.print(t),t.space(),t.print("="),t.space(),this.value.print(t)}),Fe(ot,function(t){Dm(this,t),this.expression.print(t),this.optional&&t.print("?."),Zm(this,t)}),Fe(Si,function(t){Dm(this,t),t.print("new"),t.space(),this.expression.print(t),Mm(this,t)&&Zm(this,t)}),Fe(Ke,function(t){this.expressions.forEach(function(s,l){0<l&&(t.comma(),t.should_break())&&(t.newline(),t.indent()),s.print(t)})}),Fe(Lt,function(t){var s=this,l=s.expression,u=(l.print(t),s.property);t.option("ie")&&So[u]||s.quoted&&t.option("keep_quoted_props")?(s.optional&&t.print("?."),t.with_square(function(){t.add_mapping(s.end),t.print_string(u)})):(l instanceof dt&&!/[ex.)]/i.test(t.last())&&t.print("."),t.print(s.optional?"?.":"."),t.add_mapping(s.end),t.print_name(u))}),Fe(Kt,function(t){var s=this;s.expression.print(t),s.optional&&t.print("?."),t.with_square(function(){s.property.print(t)})}),Fe(Qt,function(t){t.print("..."),this.expression.print(t)}),Fe(Ve,function(t){var s=this.operator,l=this.expression;t.print(s),(/^[a-z]/i.test(s)||/[+-]$/.test(s)&&l instanceof Ve&&/^[+-]/.test(l.operator))&&t.space(),l.print(t)}),Fe(Br,function(t){this.expression.print(t),t.add_mapping(this.end),t.print(this.operator)}),Fe(he,function(t){this.left.print(t),t.space(),t.print(this.operator),t.space(),this.right.print(t)}),Fe(lt,function(t){this.condition.print(t),t.space(),t.print("?"),t.space(),this.consequent.print(t),t.space(),t.colon(),this.alternative.print(t)}),Fe(pn,function(t){t.print("await"),t.space(),this.expression.print(t)}),Fe(yi,function(t){t.print(this.nested?"yield*":"yield"),this.expression&&(t.space(),this.expression.print(t))}),Fe(yt,function(t){var s=this.elements,l=s.length;t.with_square(0<l?function(){t.space(),s.forEach(function(u,h){h&&t.comma(),u.print(t),h===l-1&&u instanceof Bn&&t.comma()}),t.space()}:f)}),Fe(wn,function(t){var s=this.elements,l=s.length,u=this.rest;t.with_square(l||u?function(){t.space(),s.forEach(function(h,p){p&&t.comma(),h.print(t)}),u?(l&&t.comma(),t.print("..."),u.print(t)):s[l-1]instanceof Bn&&t.comma(),t.space()}:f)}),Fe(An,function(t){var s=Ol(this,t),l=this.value;if(s){if(l instanceof Ct){if(l.name instanceof Xn&&s==vl(l.name))return t.space(),t.print("="),t.space(),void l.value.print(t)}else if(l instanceof Xn&&s==vl(l))return}t.colon(),l.print(t)}),Fe(si,function(t){var s=this.properties,l=s.length,u=this.rest;l||u?t.with_block(function(){s.forEach(function(h,p){p&&(t.print(","),t.newline()),t.indent(),h.print(t)}),u&&(l&&(t.print(","),t.newline()),t.indent(),t.print("..."),u.print(t)),t.newline()},this.end):xa(this,t)}),Fe(tn,function(t){Lc(this,t)}),Fe(ii,function(t){Ol(this,t),t.colon(),this.value.print(t)}),Fe(Zs,function(t){Tm(this,t)}),Fe(Hs,Bc("get")),Fe(Ms,Bc("set")),Fe(Xn,function(t){t.print_name(vl(this))}),Fe(ia,function(t){var s=vl(this),l=(t.print_name(s),this.alias);l.value!=s&&(t.space(),t.print("as"),t.space(),Ic(l,t))}),Fe(or,function(t){var s=vl(this),l=this.key;l.value&&l.value!=s&&(Ic(l,t),t.space(),t.print("as"),t.space()),t.print_name(s)}),Fe(Bn,f),Fe(Dn,function(t){this.tag&&this.tag.print(t),t.print("`");for(var s=0;s<this.expressions.length;s++)t.print(this.strings[s]),t.print("${"),this.expressions[s].print(t),t.print("}");t.print(this.strings[s]),t.print("`")}),Fe(nn,function(t){t.print(""+this.value)}),Fe(wt,function(t){t.print_string(this.value,this.quote)}),Fe(dt,function(t){var s=this.start;nl&&s&&s.raw!=null?t.print(s.raw):t.print(sh(this.value))}),Fe(Ji,function(t){var s=this.value,l=s.toString(),u=l.lastIndexOf("/");s.raw_source?l="/"+s.raw_source+l.slice(u):u==1?l="/(?:)"+l.slice(u):l.indexOf("/",1)<u&&(l="/"+l.slice(1,u).replace(/\\\\|[^/]?\//g,function(h){return h[0]=="\\"?h:h.slice(0,-1)+"\\/"})+l.slice(u)),t.print(t.to_utf8(l).replace(/\\(?:\0(?![0-9])|[^\0])/g,function(h){switch(h[1]){case`
`:return"\\n";case"\r":return"\\r";case"	":return"	";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return h}}).replace(/[\n\r\u2028\u2029]/g,function(h){switch(h){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))}),oh([V,ti],f),oh([yt,pn,Be,Ni,nn,In,fn,Tt,vn,Gs,Ga,ht,Si,tn,Qt,Go,Xn,Oi,vr,ni,Ve,yi],function(t){t.add_mapping(this.start)}),oh([ir,An,Qi],function(t){typeof this.key=="string"&&t.add_mapping(this.start,this.key)});var yl,ji,Nc,Xm,Rm=e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),lb=Rm.reduce(function(t,s,l){return t[s]=l,t},Object.create(null));function bl(t){var s="";t=Math.abs(t)<<1|t>>>31;do var l=31&t;while((t>>>=5)&&(l|=32),s+=Rm[l],t);return s}function Ym(){var t=new we,s=[];return s.index=function(l){var u=t.get(l);return 0<=u||(u=s.length,s.push(l),t.set(l,u)),u},s}function cb(t){var s,l=Ym(),u=t.includeSources&&new we,h=Ym(),p="",g=(t.orig&&Object.keys(t.orig).forEach(function(S){var D=t.orig[S],Z=[0,0,1,0,0];if(t.orig[S]={names:D.names,mappings:D.mappings.split(/;/).map(function(ne){return Z[0]=0,ne.split(/,/).map(function(ie){return Z.slice(0,function(Ce,R){for(var q=0,se=0,j=0,Y=0;j<R.length;j++){var U=lb[R[j]];q+=(31&U)<<se,32&U?se+=5:(Ce[Y++]+=1&q?2147483648|-(q>>1):q>>1,q=se=0)}return Y}(Z,ie))})}),sources:D.sources},u&&D.sourcesContent)for(var G=0;G<D.sources.length;G++){var pe=D.sourcesContent[G];pe&&u.set(D.sources[G],pe)}}),1),v=0,x=0,E=1,w=0,T=0;return{add:t.orig?function(S,D,Z,G,pe,ne){var ie=t.orig[S];if(ie){var Ce,R=ie.mappings[G-1];if(!R)return;for(var q=0;q<R.length;q++){var se=R[q][0];if(se<=pe&&(Ce=R[q]),pe<=se)break}!Ce||Ce.length<4?S=null:(S=ie.sources[Ce[1]],G=Ce[2],pe=Ce[3],4<Ce.length&&(ne=ie.names[Ce[4]]))}k(S,D,Z,G,pe,ne)}:k,setSourceContent:u?function(S,D){u.has(S)||u.set(S,D)}:f,toString:function(){return JSON.stringify({version:3,file:t.filename||void 0,sourceRoot:t.root||void 0,sources:l,sourcesContent:u?l.map(function(S){return u.get(S)||null}):void 0,names:h,mappings:p})}};function k(S,D,Z,G,pe,ne){if(s!=null||S!=null){if(s=S,g<D)for(v=0;p+=";",++g<D;);else p&&(p+=",");p+=bl(Z-v),v=Z,S!=null&&(Z=l.index(S),p+=bl(Z-x),x=Z,p+=bl(G-E),E=G,p+=bl(pe-w),w=pe,t.names)&&ne!=null&&(S=h.index(ne),p+=bl(S-T),T=S)}}}function ah(t){return function(s){var l=s.key instanceof V,u=l?xt(s.key):s.private?{type:"PrivateIdentifier",name:s.key.slice(1)}:{type:"Literal",value:s.key};return{type:"MethodDefinition",kind:t,computed:l,key:u,static:s.static,value:xt(s.value)}}}function Wm(t){return function(s){return{type:"ForOfStatement",await:t,left:xt(s.init),right:xt(s.object),body:xt(s.body)}}}function lh(t){var s=t.value;return typeof s=="number"&&(s<0||s===0&&1/s<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-s,raw:t.start.raw}}:{type:"Literal",value:s,raw:t.start.raw}}function wl(t){for(var s=0;s<t.length;s++){var l=t[s];if(!(l instanceof Re))break;var u=l.body;if(!(u instanceof wt)||l.start.pos!==u.start.pos)break;t[s]=new vn(u)}return t}function jm(t){if(t.type=="Literal")return t.raw!=null?t.raw:t.value+""}function Gt(t){var s=t.loc,l=s&&s.start,u=t.range;return new Rt({file:s&&s.source,line:l&&l.line,col:l&&l.column,pos:u?u[0]:t.start,endline:l&&l.line,endcol:l&&l.column,endpos:u?u[0]:t.start,raw:jm(t)})}function Ht(t){var s=t.loc,l=s&&s.end,u=t.range;return new Rt({file:s&&s.source,line:l&&l.line,col:l&&l.column,pos:u?u[1]:t.end,endline:l&&l.line,endcol:l&&l.column,endpos:u?u[1]:t.end,raw:jm(t)})}function xl(t){return""+t[t.type=="Identifier"?"name":"value"]}function xn(t,s,l){var u=["start: my_start_token(M)","end: my_end_token(M)"],h=["type: "+JSON.stringify(t)];l&&l.split(/\s*,\s*/).forEach(function(p){var g=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(p);if(!g)throw new Error("Can't understand property map: "+p);var v=g[1],x=g[2],E=g[3];switch(x){case"@":u.push(E+": M."+v+".map(from_moz)"),h.push(v+": M."+E+".map(to_moz)");break;case">":u.push(E+": from_moz(M."+v+")"),h.push(v+": to_moz(M."+E+")");break;case"=":u.push(E+": M."+v),h.push(v+": M."+E);break;case"%":u.push(E+": from_moz(M."+v+").body"),h.push(v+": to_moz_block(M)");break;default:throw new Error("Can't understand operator in propmap: "+p)}}),yl[t]=new Function("U2","my_start_token","my_end_token","from_moz",["return function From_Moz_"+t+"(M) {","    return new U2.AST_"+s.TYPE+"({",u.join(`,
`),"    });","};"].join(`
`))(r,Gt,Ht,bt),qt(s,new Function("to_moz","to_moz_block","to_moz_scope",["return function To_Moz_"+t+"(M) {","    return {",h.join(`,
`),"    };","};"].join(`
`))(xt,ch,ka))}function bt(t){ji.push(t);var s=null;if(t){if(!Ae(yl,t.type))throw new Error("Unsupported type: "+t.type);s=yl[t.type](t)}return ji.pop(),s}function _l(t){return new wt({start:Gt(t),value:xl(t),end:Ht(t)})}function io(u,s){var l=u.start,u=u.end;return l.pos!=null&&u.endpos!=null&&(s.range=[l.pos,u.endpos]),l.line&&(s.loc={start:{line:l.line,column:l.col},end:u.endline?{line:u.endline,column:u.endcol}:null},l.file)&&(s.loc.source=l.file),s}function qt(t,s){t.DEFMETHOD("to_mozilla_ast",function(){return io(this,s(this))})}function xt(t){return t!=null?t.to_mozilla_ast():null}function kl(t){return aa(t.value)?io(t,{type:"Identifier",name:t.value}):xt(t)}function ch(t){return{type:"BlockStatement",body:t.body.map(xt)}}function ka(t,s){var l=s.body.map(xt);return s.body[0]instanceof Re&&s.body[0].body instanceof wt&&l.unshift(xt(new _t(s.body[0]))),{type:t,body:l}}function Um(){var t=new we,s=(["NaN","null","true","false","Infinity","-Infinity","undefined"].forEach(l),["encodeURI","encodeURIComponent","escape","eval","decodeURI","decodeURIComponent","isFinite","isNaN","parseFloat","parseInt","unescape"].forEach(l),Function("return this")());return["Array","ArrayBuffer","Atomics","BigInt","Boolean","console","DataView","Date","Error","Function","Int8Array","Intl","JSON","Map","Math","Number","Object","Promise","Proxy","Reflect","RegExp","Set","String","Symbol","WebAssembly"].forEach(function(u){if(l(u),u=s[u],u&&(Object.getOwnPropertyNames(u).map(l),typeof u=="function")){u.__proto__&&Object.getOwnPropertyNames(u.__proto__).map(l),u.prototype&&Object.getOwnPropertyNames(u.prototype).map(l);try{Object.getOwnPropertyNames(new u).map(l)}catch{try{Object.getOwnPropertyNames(u()).map(l)}catch{}}}}),(Um=function(){return t.clone()})();function l(u){t.set(u,!0)}}function qm(t,s){function l(u){fe(s,u)}t.walk(new rt(function(u){u instanceof ir||u instanceof An||u instanceof Qi?u.key instanceof V?zs(u.key,l):u.start&&u.start.quote&&l(u.key):u instanceof Lt?u.quoted&&l(u.property):u instanceof Kt&&zs(u.property,l)}))}function zs(t,s){t instanceof lt?(zs(t.consequent,s),zs(t.alternative,s)):t instanceof Ke?zs(t.tail_node(),s):t instanceof wt&&s(t.value)}function zm(t){try{return JSON.parse(t)}catch{throw new Error("invalid input source map: "+t)}}function Is(t,s,l){l.forEach(function(u){s[u]&&(typeof s[u]!="object"&&(s[u]={}),t in s[u]||(s[u][t]=s[t]))})}function Im(t){t&&("props"in t?t.props instanceof we||(t.props=we.fromObject(t.props)):t.props=new we)}function Vm(t){return{props:t.props.toObject()}}(yl={Program:function(t){return new yn({start:Gt(t),end:Ht(t),body:wl(t.body.map(bt))})},ArrowFunctionExpression:function(h){var s=[],l=null,u=(h.params.forEach(function(p){p.type=="RestElement"?l=bt(p.argument):s.push(bt(p))}),new(h.async?mr:Bi)({start:Gt(h),end:Ht(h),argnames:s,rest:l})),h=bt(h.body);return h instanceof Be?(u.body=wl(h.body),u.value=null):(u.body=[],u.value=h),u},FunctionDeclaration:function(t){var s=t.async?t.generator?Ir:as:t.generator?Es:Yi,l=[],u=null;return t.params.forEach(function(h){h.type=="RestElement"?u=bt(h.argument):l.push(bt(h))}),new s({start:Gt(t),end:Ht(t),name:bt(t.id),argnames:l,rest:u,body:wl(bt(t.body).body)})},FunctionExpression:function(t){var s=t.async?t.generator?Fi:gr:t.generator?Or:Pn,l=[],u=null;return t.params.forEach(function(h){h.type=="RestElement"?u=bt(h.argument):l.push(bt(h))}),new s({start:Gt(t),end:Ht(t),name:bt(t.id),argnames:l,rest:u,body:wl(bt(t.body).body)})},ClassDeclaration:function(t){return new gi({start:Gt(t),end:Ht(t),name:bt(t.id),extends:bt(t.superClass),properties:t.body.body.map(bt)})},ClassExpression:function(t){return new Zr({start:Gt(t),end:Ht(t),name:bt(t.id),extends:bt(t.superClass),properties:t.body.body.map(bt)})},MethodDefinition:function(t){var l=t.key,s=!1,l=t.computed?bt(l):l.type=="PrivateIdentifier"?(s=!0,"#"+l.name):xl(l),u=xo,h=bt(t.value);switch(t.kind){case"get":u=Fa,h=new Vi(h);break;case"set":u=Na,h=new Vi(h)}return new u({start:Gt(t),end:Ht(t),key:l,private:s,static:t.static,value:h})},PropertyDefinition:function(t){var l=t.key,s=!1,l=t.computed?bt(l):l.type=="PrivateIdentifier"?(s=!0,"#"+l.name):xl(l);return new ls({start:Gt(t),end:Ht(t),key:l,private:s,static:t.static,value:bt(t.value)})},StaticBlock:function(t){var s=Gt(t),l=Ht(t);return new As({start:s,end:l,value:new oc({start:s,end:l,body:wl(t.body.map(bt))})})},ForOfStatement:function(t){return new(t.await?Jo:Ho)({start:Gt(t),end:Ht(t),init:bt(t.left),object:bt(t.right),body:bt(t.body)})},TryStatement:function(t){var s=t.handlers||[t.handler];if(1<s.length||t.guardedHandlers&&t.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new ni({start:Gt(t),end:Ht(t),body:bt(t.block).body,bcatch:bt(s[0]),bfinally:t.finalizer?new Gs(bt(t.finalizer)):null})},Property:function(t){var s=(t.computed?bt:xl)(t.key),s={start:Gt(t),end:Ht(t),key:s,value:bt(t.value)};return t.kind=="init"?new(t.method?Zs:ii)(s):(s.value=new Vi(s.value),t.kind=="get"?new Hs(s):t.kind=="set"?new Ms(s):void 0)},ArrayExpression:function(t){return new yt({start:Gt(t),end:Ht(t),elements:t.elements.map(function(s){return s===null?new Bn:bt(s)})})},ArrayPattern:function(t){var s=[],l=null;return t.elements.forEach(function(u){u===null?s.push(new Bn):u.type=="RestElement"?l=bt(u.argument):s.push(bt(u))}),new wn({start:Gt(t),end:Ht(t),elements:s,rest:l})},ObjectPattern:function(t){var s=[],l=null;return t.properties.forEach(function(u){u.type=="RestElement"?l=bt(u.argument):s.push(new An(bt(u)))}),new si({start:Gt(t),end:Ht(t),properties:s,rest:l})},MemberExpression:function(t){return new(t.computed?Kt:Lt)({start:Gt(t),end:Ht(t),optional:t.optional,expression:bt(t.object),property:t.computed?bt(t.property):t.property.name})},MetaProperty:function(t){var s=bt(t.meta),l=xl(t.property);return s.name=="new"&&l=="target"?new Ka({start:Gt(t),end:Ht(t),name:"new.target"}):new Lt({start:Gt(t),end:Ht(t),expression:s,property:l})},SwitchCase:function(t){return new(t.test?sr:cs)({start:Gt(t),end:Ht(t),expression:bt(t.test),body:t.consequent.map(bt)})},ExportAllDeclaration:function(t){var s=Gt(t),l=Ht(t);return new Ko({start:s,end:l,aliases:[t.exported?_l(t.exported):new wt({start:s,value:"*",end:l})],keys:[new wt({start:s,value:"*",end:l})],path:bt(t.source)})},ExportDefaultDeclaration:function(t){var s=bt(t.declaration);if(!s.name)switch(s.CTOR){case as:s=new gr(s);break;case Ir:s=new Fi(s);break;case gi:s=new Zr(s);break;case Yi:s=new Pn(s);break;case Es:s=new Or(s)}return new Ai({start:Gt(t),end:Ht(t),body:s})},ExportNamedDeclaration:function(t){var s,l;return t.declaration?new vi({start:Gt(t),end:Ht(t),body:bt(t.declaration)}):t.source?(s=[],l=[],t.specifiers.forEach(function(u){s.push(_l(u.exported)),l.push(_l(u.local))}),new Ko({start:Gt(t),end:Ht(t),aliases:s,keys:l,path:bt(t.source)})):new _o({start:Gt(t),end:Ht(t),properties:t.specifiers.map(function(u){var h=new ia(bt(u.local));return h.alias=_l(u.exported),h})})},ImportDeclaration:function(t){var s=Gt(t),l=Ht(t),u=null,h=null,p=null;return t.specifiers.forEach(function(g){var v=new or(bt(g.local));switch(g.type){case"ImportDefaultSpecifier":(h=v).key=new wt({start:s,value:"",end:l});break;case"ImportNamespaceSpecifier":(u=v).key=new wt({start:s,value:"*",end:l});break;default:v.key=_l(g.imported),(p=p||[]).push(v)}}),new ea({start:s,end:l,all:u,default:h,properties:p,path:bt(t.source)})},ImportExpression:function(t){var s=Gt(t),l=bt(t.source);return new ot({start:s,end:Ht(t),expression:new K({start:s,end:l.start,name:"import"}),args:[l]})},VariableDeclaration:function(t){return new({const:Lr,let:yr}[t.kind]||un)({start:Gt(t),end:Ht(t),definitions:t.declarations.map(bt)})},Literal:function(t){var s={start:Gt(t),end:Ht(t)};if(t.bigint)return s.value=t.bigint.toLowerCase()+"n",new fc(s);var l=t.value;if(l===null)return new Nr(s);var u,h,p=t.regex;if(p&&p.pattern)return s.value=new RegExp(p.pattern,p.flags),s.value.raw_source=p.pattern,new Ji(s);if(p)return s.value=t.regex&&t.raw?t.raw:l,new Ji(s);switch(typeof l){case"string":return s.value=l,new wt(s);case"number":return isNaN(l)?new sa(s):(h=new(isFinite(l)?(s.value=(u=1/l<0)?-l:l,dt):(u=l<0,fs))(s),u?new Ve({start:s.start,end:s.end,operator:"-",expression:h}):h);case"boolean":return new(l?us:Gr)(s)}},TemplateLiteral:function(t){return new Dn({start:Gt(t),end:Ht(t),expressions:t.expressions.map(bt),strings:t.quasis.map(function(s){return s.value.raw})})},TaggedTemplateExpression:function(t){var s=bt(t.quasi);return s.start=Gt(t),s.end=Ht(t),s.tag=bt(t.tag),s},Identifier:function(t){for(var s,l=ji.length-1;(s=ji[--l]).type=="ArrayPattern"||s.type=="AssignmentPattern"&&s.left===ji[l+1]||s.type=="ObjectPattern"||s.type=="Property"&&s.value===ji[l+1]||s.type=="VariableDeclarator"&&s.id===ji[l+1];);var u=K;switch(s.type){case"ArrowFunctionExpression":s.body!==ji[l+1]&&(u=$t);break;case"BreakStatement":case"ContinueStatement":u=cc;break;case"CatchClause":u=Gi;break;case"ClassDeclaration":s.id===ji[l+1]&&(u=Ja);break;case"ClassExpression":s.id===ji[l+1]&&(u=ta);break;case"FunctionDeclaration":u=s.id===ji[l+1]?br:$t;break;case"FunctionExpression":u=s.id===ji[l+1]?fi:$t;break;case"LabeledStatement":u=na;break;case"VariableDeclaration":u={const:ci,let:Fr}[s.kind]||oi}return new u({start:Gt(t),end:Ht(t),name:t.name})},Super:function(t){return new ko({start:Gt(t),end:Ht(t),name:"super"})},ThisExpression:function(t){return new ra({start:Gt(t),end:Ht(t),name:"this"})},ParenthesizedExpression:function(t){var s=bt(t.expression);return s.start.parens||(s.start.parens=[]),s.start.parens.push(Gt(t)),s.end.parens||(s.end.parens=[]),s.end.parens.push(Ht(t)),s},ChainExpression:function(t){return t=bt(t.expression),t.terminal=!0,t}}).UpdateExpression=yl.UnaryExpression=function(t){return new(("prefix"in t?t.prefix:t.type=="UnaryExpression")?Ve:Br)({start:Gt(t),end:Ht(t),operator:t.operator,expression:bt(t.argument)})},xn("EmptyStatement",_t),xn("ExpressionStatement",Re,"expression>body"),xn("BlockStatement",Be,"body@body"),xn("IfStatement",Zt,"test>condition, consequent>body, alternate>alternative"),xn("LabeledStatement",ti,"label>label, body>body"),xn("BreakStatement",rr,"label>label"),xn("ContinueStatement",Ds,"label>label"),xn("WithStatement",Dr,"object>expression, body>body"),xn("SwitchStatement",Oi,"discriminant>expression, cases@body"),xn("ReturnStatement",Nt,"argument>value"),xn("ThrowStatement",Ha,"argument>value"),xn("WhileStatement",Ns,"test>condition, body>body"),xn("DoWhileStatement",os,"test>condition, body>body"),xn("ForStatement",Tn,"init>init, test>condition, update>step, body>body"),xn("ForInStatement",wo,"left>init, right>object, body>body"),xn("DebuggerStatement",In),xn("VariableDeclarator",Wt,"id>name, init>value"),xn("CatchClause",Ni,"param>argname, body%body"),xn("BinaryExpression",he,"operator=operator, left>left, right>right"),xn("LogicalExpression",he,"operator=operator, left>left, right>right"),xn("AssignmentExpression",Ye,"operator=operator, left>left, right>right"),xn("AssignmentPattern",Ct,"left>name, right>value"),xn("ConditionalExpression",lt,"test>condition, consequent>consequent, alternate>alternative"),xn("NewExpression",Si,"callee>expression, arguments@args, pure=pure"),xn("CallExpression",ot,"callee>expression, arguments@args, optional=optional, pure=pure"),xn("SequenceExpression",Ke,"expressions@expressions"),xn("SpreadElement",Qt,"argument>expression"),xn("ObjectExpression",tn,"properties@properties"),xn("AwaitExpression",pn,"argument>expression"),xn("YieldExpression",yi,"argument>expression, delegate=nested"),qt(yn,function(t){return ka("Program",t)}),qt(dn,function(t){var s=t.argnames.map(xt);return t.rest&&s.push({type:"RestElement",argument:xt(t.rest)}),{type:"FunctionDeclaration",id:xt(t.name),async:mi(t),generator:Li(t),params:s,body:ka("BlockStatement",t)}}),qt(ht,function(t){var s=t.argnames.map(xt);return t.rest&&s.push({type:"RestElement",argument:xt(t.rest)}),$n(t)?{type:"ArrowFunctionExpression",async:mi(t),params:s,body:t.value?xt(t.value):ka("BlockStatement",t)}:{type:"FunctionExpression",id:xt(t.name),async:mi(t),generator:Li(t),params:s,body:ka("BlockStatement",t)}}),qt(gi,function(t){return{type:"ClassDeclaration",id:xt(t.name),superClass:xt(t.extends),body:{type:"ClassBody",body:t.properties.map(xt)}}}),qt(Zr,function(t){return{type:"ClassExpression",id:xt(t.name),superClass:xt(t.extends),body:{type:"ClassBody",body:t.properties.map(xt)}}}),qt(Fa,ah("get")),qt(Na,ah("set")),qt(xo,ah("method")),qt(ls,function(t){var s=t.key instanceof V;return{type:"PropertyDefinition",computed:s,key:s?xt(t.key):t.private?{type:"PrivateIdentifier",name:t.key.slice(1)}:{type:"Literal",value:t.key},static:t.static,value:xt(t.value)}}),qt(As,function(t){return ka("StaticBlock",t.value)}),qt(Jo,Wm(!0)),qt(Ho,Wm(!1)),qt(vn,function(t){return{type:"ExpressionStatement",expression:io(t,{type:"Literal",value:t.value})}}),qt(vr,function(t){return{type:"SwitchCase",test:xt(t.expression),consequent:t.body.map(xt)}}),qt(ni,function(t){return{type:"TryStatement",block:ch(t),handler:xt(t.bcatch),guardedHandlers:[],finalizer:xt(t.bfinally)}}),qt(Ni,function(t){return{type:"CatchClause",param:xt(t.argname),guard:null,body:ch(t)}}),qt(vi,function(t){return{type:"ExportNamedDeclaration",declaration:xt(t.body)}}),qt(Ai,function(t){return{type:"ExportDefaultDeclaration",declaration:xt(t.body)}}),qt(Ko,function(t){if(t.keys[0].value=="*")return{type:"ExportAllDeclaration",exported:t.aliases[0].value=="*"?null:kl(t.aliases[0]),source:xt(t.path)};for(var s=[],l=0;l<t.aliases.length;l++)s.push(io({start:t.keys[l].start,end:t.aliases[l].end},{type:"ExportSpecifier",local:kl(t.keys[l]),exported:kl(t.aliases[l])}));return{type:"ExportNamedDeclaration",specifiers:s,source:xt(t.path)}}),qt(_o,function(t){return{type:"ExportNamedDeclaration",specifiers:t.properties.map(function(s){return io({start:s.start,end:s.alias.end},{type:"ExportSpecifier",local:xt(s),exported:kl(s.alias)})})}}),qt(ea,function(t){var s=t.properties?t.properties.map(function(l){return io({start:l.key.start,end:l.end},{type:"ImportSpecifier",local:xt(l),imported:kl(l.key)})}):[];return t.all&&s.unshift(io(t.all,{type:"ImportNamespaceSpecifier",local:xt(t.all)})),t.default&&s.unshift(io(t.default,{type:"ImportDefaultSpecifier",local:xt(t.default)})),{type:"ImportDeclaration",specifiers:s,source:xt(t.path)}}),qt(fn,function(t){return{type:"VariableDeclaration",kind:t.TYPE.toLowerCase(),declarations:t.definitions.map(xt)}}),qt(at,function(t){var s=t instanceof Kt,s={type:"MemberExpression",object:xt(t.expression),computed:s,optional:t.optional,property:s?xt(t.property):{type:"Identifier",name:t.property}};return t.terminal?{type:"ChainExpression",expression:s}:s}),qt(en,function(t){return{type:t.operator=="++"||t.operator=="--"?"UpdateExpression":"UnaryExpression",operator:t.operator,prefix:t instanceof Ve,argument:xt(t.expression)}}),qt(he,function(t){return{type:t.operator=="&&"||t.operator=="||"?"LogicalExpression":"BinaryExpression",left:xt(t.left),operator:t.operator,right:xt(t.right)}}),qt(yt,function(t){return{type:"ArrayExpression",elements:t.elements.map(xt)}}),qt(wn,function(t){var s=t.elements.map(xt);return t.rest&&s.push({type:"RestElement",argument:xt(t.rest)}),{type:"ArrayPattern",elements:s}}),qt(An,function(t){var s=t.key instanceof V;return{type:"Property",kind:"init",computed:s,key:s?xt(t.key):{type:"Literal",value:t.key},value:xt(t.value)}}),qt(si,function(t){var s=t.properties.map(xt);return t.rest&&s.push({type:"RestElement",argument:xt(t.rest)}),{type:"ObjectPattern",properties:s}}),qt(Qi,function(t){var s,l=t.key instanceof V,u=l?xt(t.key):{type:"Literal",value:t.key};return t instanceof ii?s="init":t instanceof Hs?s="get":t instanceof Ms&&(s="set"),{type:"Property",kind:s,computed:l,method:t instanceof Zs,key:u,value:xt(t.value)}}),qt(Xn,function(t){var s=t.definition();return{type:"Identifier",name:s&&s.mangled_name||t.name}}),qt(ko,function(){return{type:"Super"}}),qt(ra,function(){return{type:"ThisExpression"}}),qt(Ka,function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"new"},property:{type:"Identifier",name:"target"}}}),qt(Ji,function(t){var s=t.value.toString().match(/\/([gimuy]*)$/)[1],l="/"+t.value.raw_source+"/"+s;return{type:"Literal",value:l,raw:l,regex:{pattern:t.value.raw_source,flags:s}}}),qt(fc,function(t){return t=t.value,{type:"Literal",bigint:t.slice(0,-1),raw:t}}),qt(oa,lh),qt(nn,lh),qt(Nr,lh),qt(Js,function(t){return{type:"Identifier",name:String(t.value)}}),qt(Dn,function(t){var s=t.strings.length-1,l={type:"TemplateLiteral",expressions:t.expressions.map(xt),quasis:t.strings.map(function(u,h){return{type:"TemplateElement",tail:h==s,value:{raw:u}}})};return t.tag?{type:"TaggedTemplateExpression",tag:xt(t.tag),quasi:l}:l}),ei.DEFMETHOD("to_mozilla_ast",Be.prototype.to_mozilla_ast),Bn.DEFMETHOD("to_mozilla_ast",y),V.DEFMETHOD("to_mozilla_ast",function(){throw new Error("Cannot convert AST_"+this.TYPE)}),ji=null,V.from_mozilla_ast=function(l){var s=ji,l=(ji=[],bt(l));return ji=s,l.walk(new rt(function(u){if(u instanceof cc){for(var h,p,g=0;(h=this.parent(g))&&!(h instanceof nt);g++)if(h instanceof ti&&h.label.name==u.name){u.thedef=h.label;break}u.thedef||(p=u.start,xu("Undefined label "+u.name,p.file,p.line,p.col,p.pos))}})),l},Xm=typeof Buffer=="undefined"?(Nc=atob,btoa):Buffer.alloc===void 0?(Nc=function(t){return new Buffer(t,"base64").toString()},function(t){return new Buffer(t).toString("base64")}):(Nc=function(t){return Buffer.from(t,"base64").toString()},function(t){return Buffer.from(t).toString("base64")}),r.Dictionary=we,r.is_statement=on,r.List=C,r.minify=function(t,s){try{(s=c(s,{annotations:void 0,compress:{},enclose:!1,expression:!1,ie:!1,ie8:!1,keep_fargs:!1,keep_fnames:!1,mangle:{},module:!1,nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!(!s||!s.module),v8:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&V.enable_validation();var l,u,h=s.timings&&{start:Date.now()},p=(s.annotations!==void 0&&Is("annotations",s,["compress","output"]),s.expression&&Is("expression",s,["compress","parse"]),s.ie8&&(s.ie=s.ie||s.ie8),s.ie&&Is("ie",s,["compress","mangle","output","rename"]),s.keep_fargs&&Is("keep_fargs",s,["compress","mangle","rename"]),s.keep_fnames&&Is("keep_fnames",s,["compress","mangle","rename"]),s.module&&Is("module",s,["compress","parse"]),s.toplevel&&Is("toplevel",s,["compress","mangle","rename"]),s.v8&&Is("v8",s,["mangle","output","rename"]),s.webkit&&Is("webkit",s,["compress","mangle","output","rename"]),s.mangle&&(s.mangle=c(s.mangle,{cache:s.nameCache&&(s.nameCache.vars||{}),eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1},!0),s.mangle.properties&&(typeof s.mangle.properties!="object"&&(s.mangle.properties={}),s.mangle.properties.keep_quoted&&(l=s.mangle.properties.reserved,Array.isArray(l)||(l=[]),s.mangle.properties.reserved=l),!s.nameCache||"cache"in s.mangle.properties||(s.mangle.properties.cache=s.nameCache.props||{})),Im(s.mangle.cache),Im(s.mangle.properties.cache)),s.rename===void 0&&(s.rename=s.compress&&s.mangle),s.sourceMap&&(s.sourceMap=c(s.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0)),[]);if(s.warnings&&V.log_function(function(I){p.push(I)},s.warnings=="verbose"),h&&(h.parse=Date.now()),s.parse=s.parse||{},t instanceof V)u=t;else{typeof t=="string"&&(t=[t]),s.parse.toplevel=null;var g,v=s.sourceMap&&s.sourceMap.content;for(w in(v=typeof v=="string"&&v!="inline"?zm(v):v)&&(s.sourceMap.orig=Object.create(null)),t)Ae(t,w)&&(s.parse.filename=w,s.parse.toplevel=u=la(t[w],s.parse),v=="inline"?(g=function(I,A){for(var ce=A.end.comments_after,ke=ce.length;0<=--ke;){var Qe=ce[ke];if(Qe.type!="comment1"||(Qe=/^# ([^\s=]+)=(\S+)\s*$/.exec(Qe.value),!Qe))break;if(Qe[1]=="sourceMappingURL"){if(Qe=/^data:application\/json(;.*?)?;base64,([^,]+)$/.exec(Qe[2]))return Nc(Qe[2]);break}}V.warn("inline source map not found: {name}",{name:I})}(w,u))&&(s.sourceMap.orig[w]=zm(g)):v&&(s.sourceMap.orig[w]=v))}s.parse.expression&&(u=u.wrap_expression()),l&&qm(u,l),["enclose","wrap"].forEach(function(I){var A,ce=s[I];ce&&(A=u.print_to_string().slice(0,-1),u=u[I](ce),t[u.start.file]=u.print_to_string().replace(A,""))}),s.validate&&u.validate_ast(),h&&(h.rename=Date.now()),s.rename&&(u.figure_out_scope(s.rename),u.expand_names(s.rename)),h&&(h.compress=Date.now()),s.compress&&(u=new To(s.compress).compress(u),s.validate)&&u.validate_ast(),h&&(h.scope=Date.now()),s.mangle&&u.figure_out_scope(s.mangle),h&&(h.mangle=Date.now()),s.mangle&&(u.compute_char_frequency(s.mangle),u.mangle_names(s.mangle)),h&&(h.properties=Date.now()),l&&qm(u,l),s.mangle&&s.mangle.properties&&(ne=u,ie=s.mangle.properties,q=(ie=c(ie,{builtins:!1,cache:null,debug:!1,domprops:!1,keep_quoted:!1,regex:null,reserved:null},!0)).builtins?new we:Um(),ie.domprops||typeof domprops=="undefined"||domprops.forEach(function(I){q.set(I,!0)}),Array.isArray(ie.reserved)&&ie.reserved.forEach(function(I){q.set(I,!0)}),se=-1,ie.cache?(Ce=ie.cache.props).each(function(I){q.set(I,!0)}):Ce=new we,j=ie.regex,(Y=ie.debug!==!1)&&(R=ie.debug===!0?"":ie.debug),U=new we,de=q.clone(),ne.walk(new rt(function(I){if(I.TYPE=="Call"){var A=I.expression;if(A instanceof Lt)switch(A.property){case"defineProperty":case"getOwnPropertyDescriptor":I.args.length<2||(A=A.expression)instanceof K&&A.name=="Object"&&A.definition().undeclared&&zs(I.args[1],Z);break;case"hasOwnProperty":I.args.length<1||zs(I.args[0],Z)}}else I instanceof ir||I instanceof An||I instanceof Qi?I.key instanceof V?zs(I.key,Z):Z(I.key):I instanceof Lt?Wi(I,this.parent())&&Z(I.property):I instanceof Kt&&Wi(I,this.parent())&&zs(I.property,Z)})),ne.walk(new rt(function(I){if(I instanceof he)I.operator=="in"&&pe(I.left);else if(I.TYPE=="Call"){var A=I.expression;if(A instanceof Lt)switch(A.property){case"defineProperty":case"getOwnPropertyDescriptor":I.args.length<2||(A=A.expression)instanceof K&&A.name=="Object"&&A.definition().undeclared&&pe(I.args[1]);break;case"hasOwnProperty":I.args.length<1||pe(I.args[0])}}else I instanceof ir||I instanceof An||I instanceof Qi?I.key instanceof V?pe(I.key):I.key=G(I.key):I instanceof Lt?I.property=G(I.property):I instanceof Kt&&(ie.keep_quoted||pe(I.property))}))),s.parse.expression&&(u=u.unwrap_expression()),h&&(h.output=Date.now());var x={},E=c(s.output,{ast:!1,code:!0});if(E.ast&&(x.ast=u),E.code){if(s.sourceMap&&(E.source_map=cb(s.sourceMap),s.sourceMap.includeSources)){if(t instanceof yn)throw new Error("original source content unavailable");for(var w in t)Ae(t,w)&&E.source_map.setSourceContent(w,t[w])}delete E.ast,delete E.code;var T,k=zc(E);u.print(k),x.code=k.get(),s.sourceMap&&(x.map=E.source_map.toString(),T=s.sourceMap.url)&&(x.code=x.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),x.code+=T=="inline"?`
//# sourceMappingURL=data:application/json;charset=utf-8;base64,`+Xm(x.map):`
//# sourceMappingURL=`+T)}return s.nameCache&&s.mangle&&(s.mangle.cache&&(s.nameCache.vars=Vm(s.mangle.cache)),s.mangle.properties)&&s.mangle.properties.cache&&(s.nameCache.props=Vm(s.mangle.properties.cache)),h&&(h.end=Date.now(),x.timings={parse:.001*(h.rename-h.parse),rename:.001*(h.compress-h.rename),compress:.001*(h.scope-h.compress),scope:.001*(h.mangle-h.scope),mangle:.001*(h.properties-h.mangle),properties:.001*(h.output-h.properties),output:.001*(h.end-h.output),total:.001*(h.end-h.start)}),p.length&&(x.warnings=p),x}catch(I){return{error:I}}finally{V.log_function(),V.disable_validation()}function S(I){return!de.has(I)&&!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(I)}function D(I){if(q.has(I))V.info("Preserving reserved property {this}",I);else{if(!j||j.test(I))return Ce.has(I)||U.has(I);V.info("Preserving excluded property {this}",I)}}function Z(I){S(I)&&U.set(I,!0),D(I)||de.set(I,!0)}function G(I){if(!D(I))return I;var A,ce=Ce.get(I);if(!ce){if(!(ce=Y&&S(A="_$"+I+"$"+R+"_")?A:ce))for(;!S(ce=xr(++se)););/^#/.test(I)&&(ce="#"+ce),Ce.set(I,ce)}return V.info("Mapping property {name} to {mangled}",{mangled:ce,name:I}),ce}function pe(I){I instanceof Ke?pe(I.tail_node()):I instanceof wt?I.value=G(I.value):I instanceof lt&&(pe(I.consequent),pe(I.alternative))}var ne,ie,Ce,R,q,se,j,Y,U,de},r.parse=la,r.push_uniq=fe,r.TreeTransformer=Gn,r.TreeWalker=rt})(typeof UglifyJS=="undefined"?UglifyJS={}:UglifyJS);document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("input-code"),e=document.getElementById("output-code"),n=document.getElementById("minify"),i=document.getElementById("clear"),o=document.getElementById("copy"),a=document.getElementById("upload"),c=document.getElementById("download"),f=document.getElementById("toast-body"),d=je=>{const Ee=new Ya,le=new Ya;return ln.create({doc:je,extensions:[qS,Ee.of(SQ()),le.of(ln.tabSize.of(2))]})},m=new Ot({state:d(),parent:r}),O=new Ot({state:d(),parent:e}),y=je=>{m.setState(d(je))},P=()=>m.state.doc.toJSON().join(`
`),C=je=>{O.setState(d(je))},W=()=>O.state.doc.toJSON().join(`
`),ae=()=>{const je=W()==="";o.disabled=je,c.disabled=je;const Ee=P()==="";i.disabled=Ee,n.disabled=Ee,n.blur(),i.blur(),o.blur(),a.blur(),c.blur()},fe=je=>{C(je),ae()},xe=()=>{new Ne(document.body,{url:"./index.html",disablePreviews:!0}).on("addedfile",Ee=>{const le=new FileReader;le.readAsText(Ee,"UTF-8"),le.onload=we=>{const Ae=we.target.result;y(Ae),ae(),n.click()}})};ae(),xe(),n.addEventListener("click",()=>{const je=UglifyJS.minify(P());je.error?(fe(""),f.innerHTML=je.error,$(".toast").toast("show")):(fe(je.code),f.innerHTML="")}),i.addEventListener("click",()=>{y(""),fe("")}),o.addEventListener("click",()=>{navigator.clipboard.writeText(W())}),a.addEventListener("click",()=>{const je=document.createElement("input");je.type="file",je.onchange=Ee=>{const le=Ee.target.files[0],we=new FileReader;we.readAsText(le,"UTF-8"),we.onload=Ae=>{const it=Ae.target.result;y(it),ae(),n.click()}},je.click(),ae()}),c.addEventListener("click",()=>{TQ(W(),"minified.js","text/plain"),ae()}),r.addEventListener("input",()=>{ae()})});
